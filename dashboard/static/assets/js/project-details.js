!function(){var t={421:function(t){t.exports={primary:"#5A8DEE",success:"#39DA8A",danger:"#FF5B5C",warning:"#FDAC41",info:"#00CFDD",label_color:"#FFFFFF",primary_light:"#E2ECFF",danger_light:"#ffeed9",gray_light:"#828D99",label_trend:"#f5eff7",sub_label_color:"#596778",radial_bg:"#e7edf3",positive:"#28C76F",negative:"#EA5455",neutral:"#00CFE8"}},129:function(){var t,e,n,r,i,o,a,s,l,c;this.eve=(t="0.4.2",e="hasOwnProperty",n=/[\.\/]/,r=function(){},i=function(t,e){return t-e},(l=function(t,e){t=String(t);var n,r=a,s=Array.prototype.slice.call(arguments,2),c=l.listeners(t),u=0,h=[],d={},p=[],f=o;o=t;for(var m=a=0,g=c.length;m<g;m++)"zIndex"in c[m]&&(h.push(c[m].zIndex),c[m].zIndex<0&&(d[c[m].zIndex]=c[m]));for(h.sort(i);h[u]<0;)if(n=d[h[u++]],p.push(n.apply(e,s)),a)return a=r,p;for(m=0;m<g;m++)if("zIndex"in(n=c[m]))if(n.zIndex==h[u]){if(p.push(n.apply(e,s)),a)break;do{if((n=d[h[++u]])&&p.push(n.apply(e,s)),a)break}while(n)}else d[n.zIndex]=n;else if(p.push(n.apply(e,s)),a)break;return a=r,o=f,p.length?p:null})._events=s={n:{}},l.listeners=function(t){for(var e,r,i,o,a,l,c=t.split(n),u=s,h=[u],d=[],p=0,f=c.length;p<f;p++){for(l=[],o=0,a=h.length;o<a;o++)for(r=[(u=h[o].n)[c[p]],u["*"]],i=2;i--;)(e=r[i])&&(l.push(e),d=d.concat(e.f||[]));h=l}return d},l.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var i=t.split(n),o=s,a=0,l=i.length;a<l;a++)o=(o=o.n).hasOwnProperty(i[a])&&o[i[a]]||(o[i[a]]={n:{}});for(o.f=o.f||[],a=0,l=o.f.length;a<l;a++)if(o.f[a]==e)return r;return o.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},l.f=function(t){var e=[].slice.call(arguments,1);return function(){l.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},l.stop=function(){a=1},l.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(o):o},l.nts=function(){return o.split(n)},l.off=l.unbind=function(t,r){if(t){for(var i,o,a,c=t.split(n),u=[s],h=0,d=c.length;h<d;h++)for(f=0;f<u.length;f+=a.length-2){if(a=[f,1],i=u[f].n,"*"!=c[h])i[c[h]]&&a.push(i[c[h]]);else for(o in i)i[e](o)&&a.push(i[o]);u.splice.apply(u,a)}for(h=0,d=u.length;h<d;h++)for(i=u[h];i.n;){if(r){if(i.f){for(f=0,m=i.f.length;f<m;f++)if(i.f[f]==r){i.f.splice(f,1);break}i.f.length||delete i.f}for(o in i.n)if(i.n[e](o)&&i.n[o].f){for(var p=i.n[o].f,f=0,m=p.length;f<m;f++)if(p[f]==r){p.splice(f,1);break}p.length||delete i.n[o].f}}else for(o in delete i.f,i.n)i.n[e](o)&&i.n[o].f&&delete i.n[o].f;i=i.n}}else l._events=s={n:{}}},l.once=function(t,e){var n=function(){return l.unbind(t,n),e.apply(this,arguments)};return l.on(t,n)},l.version=t,l.toString=function(){return"You are running Eve "+t},l),function(t,e){function n(t){if(n.is(t,"function"))return o?t():e.on("raphael.DOMload",t);if(n.is(t,T))return n._engine.create[p](n,t.splice(0,3+n.is(t[0],L))).add(t);var r=Array.prototype.slice.call(arguments,0);if(n.is(r[r.length-1],"function")){var i=r.pop();return o?i.call(n._engine.create[p](n,r)):e.on("raphael.DOMload",(function(){i.call(n._engine.create[p](n,r))}))}return n._engine.create[p](n,arguments)}function r(t,e){return N(t)-N(e)}function i(t,e,n,r){return null==r&&(r=n),[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]}n.version="2.1.0",n.eve=e;var o,a=/[, ]+/,s={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},l=/\{(\d+)\}/g,c="hasOwnProperty",u={doc:document,win:t},h={was:Object.prototype[c].call(u.win,"Raphael"),is:u.win.Raphael},d=function(){this.ca=this.customAttributes={}},p="apply",f="concat",m="ontouchstart"in u.win||u.win.DocumentTouch&&u.doc instanceof DocumentTouch,g=" ",y=String,v="split",_="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[v](g),x={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},b=y.prototype.toLowerCase,w=Math,k=w.max,C=w.min,I=w.abs,M=w.pow,S=w.PI,L="number",z="string",T="array",A=Object.prototype.toString,E=(n._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),R={NaN:1,Infinity:1,"-Infinity":1},B=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,P=w.round,N=parseFloat,D=parseInt,F=y.prototype.toUpperCase,j=n._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},U=n._availableAnimAttrs={blur:L,"clip-rect":"csv",cx:L,cy:L,fill:"colour","fill-opacity":L,"font-size":L,height:L,opacity:L,path:"path",r:L,rx:L,ry:L,stroke:"colour","stroke-opacity":L,"stroke-width":L,transform:"transform",width:L,x:L,y:L},q=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,O={hs:1,rg:1},$=/,?([achlmqrstvxz]),?/gi,H=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,V=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,X=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,Y=(n._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),W=function(t){return t},G=n._rectPath=function(t,e,n,r,i){return i?[["M",t+i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]]},Z=n._getPath={path:function(t){return t.attr("path")},circle:function(t){return i((t=t.attrs).cx,t.cy,t.r)},ellipse:function(t){return i((t=t.attrs).cx,t.cy,t.rx,t.ry)},rect:function(t){return t=t.attrs,G(t.x,t.y,t.width,t.height,t.r)},image:function(t){return t=t.attrs,G(t.x,t.y,t.width,t.height)},text:function(t){return t=t._getBBox(),G(t.x,t.y,t.width,t.height)},set:function(t){return t=t._getBBox(),G(t.x,t.y,t.width,t.height)}},Q=n.mapPath=function(t,e){if(!e)return t;for(var n,r,i,o,a,s=0,l=(t=Ct(t)).length;s<l;s++)for(i=1,o=(a=t[s]).length;i<o;i+=2)n=e.x(a[i],a[i+1]),r=e.y(a[i],a[i+1]),a[i]=n,a[i+1]=r;return t};if(n._g=u,n.type=u.win.SVGAngle||u.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==n.type){var J,K=u.doc.createElement("div");if(K.innerHTML='<v:shape adj="1"/>',(J=K.firstChild).style.behavior="url(#default#VML)",!J||"object"!=typeof J.adj)return n.type="";K=null}function tt(t){if("function"==typeof t||Object(t)!==t)return t;var e,n=new t.constructor;for(e in t)t[c](e)&&(n[e]=tt(t[e]));return n}function et(){return"hsb("+[this.h,this.s,this.b]+")"}function nt(){return"hsl("+[this.h,this.s,this.l]+")"}function rt(){return this.hex}function it(t,e,r){var i;return null==e&&n.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,e=t.g,t=t.r),null==e&&n.is(t,z)&&(t=(i=n.getRGB(t)).r,e=i.g,r=i.b),(1<t||1<e||1<r)&&(t/=255,e/=255,r/=255),[t,e,r]}function ot(t,e,r,i){return r={r:t*=255,g:e*=255,b:r*=255,hex:n.rgb(t,e,r),toString:rt},n.is(i,"finite")&&(r.opacity=i),r}n.svg=!(n.vml="VML"==n.type),n._Paper=d,n.fn=K=d.prototype=n.prototype,n._id=0,n._oid=0,n.is=function(t,e){return"finite"==(e=b.call(e))?!R[c](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||A.call(t).slice(8,-1).toLowerCase()==e},n.angle=function(t,e,r,i,o,a){return null!=o?n.angle(t,e,o,a)-n.angle(r,i,o,a):(i=e-i,(r=t-r)||i?(180+180*w.atan2(-i,-r)/S+360)%360:0)},n.rad=function(t){return t%360*S/180},n.deg=function(t){return 180*t/S%360},n.snapTo=function(t,e,r){if(r=n.is(r,"finite")?r:10,n.is(t,T)){for(var i=t.length;i--;)if(I(t[i]-e)<=r)return t[i]}else{var o=e%(t=+t);if(o<r)return e-o;if(t-r<o)return e-o+t}return e},n.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,(function(t){var e=16*w.random()|0;return("x"==t?e:3&e|8).toString(16)})),n.setWindow=function(t){e("raphael.setWindow",n,u.win,t),u.win=t,u.doc=u.win.document,n._engine.initWin&&n._engine.initWin(u.win)};var at=function(t){if(n.vml){var e,r=/^\s+|\s+$/g;try{var i=new ActiveXObject("htmlfile");i.write("<body>"),i.close(),e=i.body}catch(t){e=createPopup().document.body}var o=e.createTextRange();at=st((function(t){try{e.style.color=y(t).replace(r,"");var n=o.queryCommandValue("ForeColor");return"#"+("000000"+(n=(255&n)<<16|65280&n|(16711680&n)>>>16).toString(16)).slice(-6)}catch(t){return"none"}}))}else{var a=u.doc.createElement("i");a.title="Raphaël Colour Picker",a.style.display="none",u.doc.body.appendChild(a),at=st((function(t){return a.style.color=t,u.doc.defaultView.getComputedStyle(a,"").getPropertyValue("color")}))}return at(t)};function st(t,e,n){return function r(){var i=Array.prototype.slice.call(arguments,0),o=i.join("␀"),a=r.cache=r.cache||{},s=r.count=r.count||[];return a[c](o)?function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}(s,o):(1e3<=s.length&&delete a[s.shift()],s.push(o),a[o]=t[p](e,i)),n?n(a[o]):a[o]}}function lt(){return this.hex}function ct(t,e){for(var n=[],r=0,i=t.length;r<i-2*!e;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4==r?o[3]={x:+t[0],y:+t[1]}:i-2==r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}n.color=function(t){var e;return n.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=n.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):n.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=n.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(n.is(t,"string")&&(t=n.getRGB(t)),n.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=n.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=n.rgb2hsb(t),t.v=e.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=rt,t},n.hsb2rgb=function(t,e,n,r){var i,o,a;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,r=(t=t.h).o),o=(a=n*e)*(1-I((t=(t*=360)%360/60)%2-1)),n=e=i=n-a,ot(n+=[a,o,0,0,o,a][t=~~t],e+=[o,a,a,o,0,0][t],i+=[0,0,o,a,a,o][t],r)},n.hsl2rgb=function(t,e,n,r){var i,o,a;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(1<t||1<e||1<n)&&(t/=360,e/=100,n/=100),o=(a=2*e*(n<.5?n:1-n))*(1-I((t=(t*=360)%360/60)%2-1)),n=e=i=n-a/2,ot(n+=[a,o,0,0,o,a][t=~~t],e+=[o,a,a,o,0,0][t],i+=[0,0,o,a,a,o][t],r)},n.rgb2hsb=function(t,e,n){var r,i;return t=(n=it(t,e,n))[0],e=n[1],n=n[2],{h:((0==(i=(r=k(t,e,n))-C(t,e,n))?null:r==t?(e-n)/i:r==e?(n-t)/i+2:(t-e)/i+4)+360)%6*60/360,s:0==i?0:i/r,b:r,toString:et}},n.rgb2hsl=function(t,e,n){var r,i,o;return t=(n=it(t,e,n))[0],e=n[1],n=n[2],r=((i=k(t,e,n))+(o=C(t,e,n)))/2,{h:((0==(o=i-o)?null:i==t?(e-n)/o:i==e?(n-t)/o+2:(t-e)/o+4)+360)%6*60/360,s:0==o?0:r<.5?o/(2*r):o/(2-2*r),l:r,toString:nt}},n._path2string=function(){return this.join(",").replace($,"$1")},n._preload=function(t,e){var n=u.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,u.doc.body.removeChild(this)},n.onerror=function(){u.doc.body.removeChild(this)},u.doc.body.appendChild(n),n.src=t},n.getRGB=st((function(t){if(!t||(t=y(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:lt};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:lt};O[c](t.toLowerCase().substring(0,2))||"#"==t.charAt()||(t=at(t));var e,r,i,o,a,s=t.match(E);return s?(s[2]&&(i=D(s[2].substring(5),16),r=D(s[2].substring(3,5),16),e=D(s[2].substring(1,3),16)),s[3]&&(i=D((t=s[3].charAt(3))+t,16),r=D((t=s[3].charAt(2))+t,16),e=D((t=s[3].charAt(1))+t,16)),s[4]&&(a=s[4][v](q),e=N(a[0]),"%"==a[0].slice(-1)&&(e*=2.55),r=N(a[1]),"%"==a[1].slice(-1)&&(r*=2.55),i=N(a[2]),"%"==a[2].slice(-1)&&(i*=2.55),"rgba"==s[1].toLowerCase().slice(0,4)&&(o=N(a[3])),a[3]&&"%"==a[3].slice(-1)&&(o/=100)),s[5]?(a=s[5][v](q),e=N(a[0]),"%"==a[0].slice(-1)&&(e*=2.55),r=N(a[1]),"%"==a[1].slice(-1)&&(r*=2.55),i=N(a[2]),"%"==a[2].slice(-1)&&(i*=2.55),"deg"!=a[0].slice(-3)&&"°"!=a[0].slice(-1)||(e/=360),"hsba"==s[1].toLowerCase().slice(0,4)&&(o=N(a[3])),a[3]&&"%"==a[3].slice(-1)&&(o/=100),n.hsb2rgb(e,r,i,o)):s[6]?(a=s[6][v](q),e=N(a[0]),"%"==a[0].slice(-1)&&(e*=2.55),r=N(a[1]),"%"==a[1].slice(-1)&&(r*=2.55),i=N(a[2]),"%"==a[2].slice(-1)&&(i*=2.55),"deg"!=a[0].slice(-3)&&"°"!=a[0].slice(-1)||(e/=360),"hsla"==s[1].toLowerCase().slice(0,4)&&(o=N(a[3])),a[3]&&"%"==a[3].slice(-1)&&(o/=100),n.hsl2rgb(e,r,i,o)):((s={r:e,g:r,b:i,toString:lt}).hex="#"+(16777216|i|r<<8|e<<16).toString(16).slice(1),n.is(o,"finite")&&(s.opacity=o),s)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:lt}}),n),n.hsb=st((function(t,e,r){return n.hsb2rgb(t,e,r).hex})),n.hsl=st((function(t,e,r){return n.hsl2rgb(t,e,r).hex})),n.rgb=st((function(t,e,n){return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)})),n.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75};return t=this.hsb2rgb(e.h,e.s,e.b),e.h+=.075,1<e.h&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),t.hex},n.getColor.reset=function(){delete this.start},n.parsePathString=function(t){if(!t)return null;var e=ut(t);if(e.arr)return xt(e.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return n.is(t,T)&&n.is(t[0],T)&&(i=xt(t)),i.length||y(t).replace(H,(function(t,e,n){var o=[],a=e.toLowerCase();if(n.replace(X,(function(t,e){e&&o.push(+e)})),"m"==a&&2<o.length&&(i.push([e][f](o.splice(0,2))),a="l",e="m"==e?"l":"L"),"r"==a)i.push([e][f](o));else for(;o.length>=r[a]&&(i.push([e][f](o.splice(0,r[a]))),r[a]););})),i.toString=n._path2string,e.arr=xt(i),i},n.parseTransformString=st((function(t){if(!t)return null;var e=[];return n.is(t,T)&&n.is(t[0],T)&&(e=xt(t)),e.length||y(t).replace(V,(function(t,n,r){var i=[];b.call(n),r.replace(X,(function(t,e){e&&i.push(+e)})),e.push([n][f](i))})),e.toString=n._path2string,e}));var ut=function(t){var e=ut.ps=ut.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout((function(){for(var n in e)e[c](n)&&n!=t&&(e[n].sleep--,e[n].sleep||delete e[n])})),e[t]};function ht(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}function dt(t,e,n,r,i,o,a,s,l){null==l&&(l=1);for(var c=(l=1<l?1:l<0?0:l)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<12;p++){var f=ht(m=c*u[p]+c,t,n,i,a),m=f*f+(m=ht(m,e,r,o,s))*m;d+=h[p]*w.sqrt(m)}return c*d}function pt(t,e,r){var i=n.bezierBBox(t),o=n.bezierBBox(e);if(!n.isBBoxIntersect(i,o))return r?0:[];i=dt.apply(0,t),o=dt.apply(0,e);for(var a=k(~~(i/5),1),s=k(~~(o/5),1),l=[],c=[],u={},h=r?0:[],d=0;d<a+1;d++){var p=n.findDotsAtSegment.apply(n,t.concat(d/a));l.push({x:p.x,y:p.y,t:d/a})}for(d=0;d<s+1;d++)p=n.findDotsAtSegment.apply(n,e.concat(d/s)),c.push({x:p.x,y:p.y,t:d/s});for(d=0;d<a;d++)for(var f=0;f<s;f++){var m=l[d],g=l[d+1],y=c[f],v=c[f+1],_=I(g.x-m.x)<.001?"y":"x",x=I(v.x-y.x)<.001?"y":"x",b=function(t,e,n,r,i,o,a,s){if(!(k(t,n)<C(i,a)||C(t,n)>k(i,a)||k(e,r)<C(o,s)||C(e,r)>k(o,s))){var l=(t*r-e*n)*(i-a)-(t-n)*(i*s-o*a),c=(t*r-e*n)*(o-s)-(e-r)*(i*s-o*a);if(h=(t-n)*(o-s)-(e-r)*(i-a)){var u=l/h,h=(l=c/h,c=+u.toFixed(2),+l.toFixed(2));if(!(c<+C(t,n).toFixed(2)||c>+k(t,n).toFixed(2)||c<+C(i,a).toFixed(2)||c>+k(i,a).toFixed(2)||h<+C(e,r).toFixed(2)||h>+k(e,r).toFixed(2)||h<+C(o,s).toFixed(2)||h>+k(o,s).toFixed(2)))return{x:u,y:l}}}}(m.x,m.y,g.x,g.y,y.x,y.y,v.x,v.y);b&&u[b.x.toFixed(4)]!=b.y.toFixed(4)&&(u[b.x.toFixed(4)]=b.y.toFixed(4),m=m.t+I((b[_]-m[_])/(g[_]-m[_]))*(g.t-m.t),y=y.t+I((b[x]-y[x])/(v[x]-y[x]))*(v.t-y.t),0<=m&&m<=1.001&&0<=y&&y<=1.001&&(r?h++:h.push({x:b.x,y:b.y,t1:C(m,1),t2:C(y,1)})))}return h}function ft(t,e,r){t=n._path2curve(t),e=n._path2curve(e);for(var i,o,a,s,l,c,u,h,d,p,f=r?0:[],m=0,g=t.length;m<g;m++){var y=t[m];if("M"==y[0])i=l=y[1],o=c=y[2];else{o="C"==y[0]?(i=(d=[i,o].concat(y.slice(1)))[6],d[7]):(d=[i,o,i,o,l,c,l,c],i=l,c);for(var v=0,_=e.length;v<_;v++){var x=e[v];if("M"==x[0])a=u=x[1],s=h=x[2];else{s="C"==x[0]?(a=(p=[a,s].concat(x.slice(1)))[6],p[7]):(p=[a,s,a,s,u,h,u,h],a=u,h);var b=pt(d,p,r);if(r)f+=b;else{for(var w=0,k=b.length;w<k;w++)b[w].segment1=m,b[w].segment2=v,b[w].bez1=d,b[w].bez2=p;f=f.concat(b)}}}}}return f}function mt(t,e,n,r){return[t,e,n,r,n,r]}function gt(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]}function yt(t,e,n,r,i,o,a,s,l){var c=1-l;return{x:M(c,3)*t+3*M(c,2)*l*n+3*c*l*l*i+M(l,3)*a,y:M(c,3)*e+3*M(c,2)*l*r+3*c*l*l*o+M(l,3)*s}}function vt(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}n.findDotsAtSegment=function(t,e,n,r,i,o,a,s,l){var c=1-l,u=(d=M(c,3))*t+3*(p=M(c,2))*l*n+3*c*l*l*i+(f=(m=l*l)*l)*a,h=d*e+3*p*l*r+3*c*l*l*o+f*s,d=t+2*l*(n-t)+m*(i-2*n+t),p=e+2*l*(r-e)+m*(o-2*r+e),f=n+2*l*(i-n)+m*(a-2*i+n),m=r+2*l*(o-r)+m*(s-2*o+r);return n=c*t+l*n,r=c*e+l*r,a=c*i+l*a,l=c*o+l*s,s=90-180*w.atan2(d-f,p-m)/S,(f<d||p<m)&&(s+=180),{x:u,y:h,m:{x:d,y:p},n:{x:f,y:m},start:{x:n,y:r},end:{x:a,y:l},alpha:s}},n.bezierBBox=function(t,e,r,i,o,a,s,l){return n.is(t,"array")||(t=[t,e,r,i,o,a,s,l]),{x:(t=kt.apply(null,t)).min.x,y:t.min.y,x2:t.max.x,y2:t.max.y,width:t.max.x-t.min.x,height:t.max.y-t.min.y}},n.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},n.isBBoxIntersect=function(t,e){var r=n.isPointInsideBBox;return r(e,t.x,t.y)||r(e,t.x2,t.y)||r(e,t.x,t.y2)||r(e,t.x2,t.y2)||r(t,e.x,e.y)||r(t,e.x2,e.y)||r(t,e.x,e.y2)||r(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},n.pathIntersection=function(t,e){return ft(t,e)},n.pathIntersectionNumber=function(t,e){return ft(t,e,1)},n.isPointInsidePath=function(t,e,r){var i=n.pathBBox(t);return n.isPointInsideBBox(i,e,r)&&ft(t,[["M",e,r],["H",i.x2+10]],1)%2==1},n._removedFactory=function(t){return function(){e("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};var _t=n.pathBBox=function(t){var e=ut(t);if(e.bbox)return tt(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,r,i=0,o=0,a=[],s=[],l=0,c=(t=Ct(t)).length;l<c;l++)"M"==(r=t[l])[0]?(i=r[1],o=r[2],a.push(i),s.push(o)):(n=kt(i,o,r[1],r[2],r[3],r[4],r[5],r[6]),a=a[f](n.min.x,n.max.x),s=s[f](n.min.y,n.max.y),i=r[5],o=r[6]);var u=C[p](0,a),h=C[p](0,s),d=k[p](0,a),m=k[p](0,s),g=d-u,y={x:u,y:h,x2:d,y2:m,width:g,height:y=m-h,cx:u+g/2,cy:h+y/2};return e.bbox=tt(y),y},xt=function(t){return(t=tt(t)).toString=n._path2string,t},bt=(d=n._pathToRelative=function(t){var e=ut(t);if(e.rel)return xt(e.rel);n.is(t,T)&&n.is(t&&t[0],T)||(t=n.parsePathString(t));var r=[],i=0,o=0,a=0,s=0,l=0;"M"==t[0][0]&&(a=i=t[0][1],s=o=t[0][2],l++,r.push(["M",i,o]));for(var c=l,u=t.length;c<u;c++){var h=r[c]=[],d=t[c];if(d[0]!=b.call(d[0]))switch(h[0]=b.call(d[0]),h[0]){case"a":h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=+(d[6]-i).toFixed(3),h[7]=+(d[7]-o).toFixed(3);break;case"v":h[1]=+(d[1]-o).toFixed(3);break;case"m":a=d[1],s=d[2];default:for(var p=1,f=d.length;p<f;p++)h[p]=+(d[p]-(p%2?i:o)).toFixed(3)}else{h=r[c]=[],"m"==d[0]&&(a=d[1]+i,s=d[2]+o);for(var m=0,g=d.length;m<g;m++)r[c][m]=d[m]}var y=r[c].length;switch(r[c][0]){case"z":i=a,o=s;break;case"h":i+=+r[c][y-1];break;case"v":o+=+r[c][y-1];break;default:i+=+r[c][y-2],o+=+r[c][y-1]}}return r.toString=n._path2string,e.rel=xt(r),r},n._pathToAbsolute=function(t){var e=ut(t);if(e.abs)return xt(e.abs);if(n.is(t,T)&&n.is(t&&t[0],T)||(t=n.parsePathString(t)),!t||!t.length)return[["M",0,0]];var r=[],i=0,o=0,a=0,s=0,l=0;"M"==t[0][0]&&(a=i=+t[0][1],s=o=+t[0][2],l++,r[0]=["M",i,o]);for(var c,u,h=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),d=l,p=t.length;d<p;d++){if(r.push(c=[]),(u=t[d])[0]!=F.call(u[0]))switch(c[0]=F.call(u[0]),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+(u[6]+i),c[7]=+(u[7]+o);break;case"V":c[1]=+u[1]+o;break;case"H":c[1]=+u[1]+i;break;case"R":for(var m=[i,o][f](u.slice(1)),g=2,y=m.length;g<y;g++)m[g]=+m[g]+i,m[++g]=+m[g]+o;r.pop(),r=r[f](ct(m,h));break;case"M":a=+u[1]+i,s=+u[2]+o;default:for(g=1,y=u.length;g<y;g++)c[g]=+u[g]+(g%2?i:o)}else if("R"==u[0])m=[i,o][f](u.slice(1)),r.pop(),r=r[f](ct(m,h)),c=["R"][f](u.slice(-2));else for(var v=0,_=u.length;v<_;v++)c[v]=u[v];switch(c[0]){case"Z":i=a,o=s;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];default:i=c[c.length-2],o=c[c.length-1]}}return r.toString=n._path2string,e.abs=xt(r),r}),wt=function(t,e,n,r,i,o,a,s,l,c){var u,h,d,p=120*S/180,m=S/180*(+i||0),g=[],y=st((function(t,e,n){return{x:t*w.cos(n)-e*w.sin(n),y:t*w.sin(n)+e*w.cos(n)}}));c?(k=c[0],C=c[1],x=c[2],b=c[3]):(t=(h=y(t,e,-m)).x,e=h.y,s=(h=y(s,l,-m)).x,l=h.y,w.cos(S/180*i),w.sin(S/180*i),1<(_=(d=(t-s)/2)*d/(n*n)+(u=(e-l)/2)*u/(r*r))&&(n*=_=w.sqrt(_),r*=_),h=n*n,_=r*r,x=(h=(o==a?-1:1)*w.sqrt(I((h*_-h*u*u-_*d*d)/(h*u*u+_*d*d))))*n*u/r+(t+s)/2,b=h*-r*d/n+(e+l)/2,k=w.asin(((e-b)/r).toFixed(9)),C=w.asin(((l-b)/r).toFixed(9)),(k=t<x?S-k:k)<0&&(k=2*S+k),(C=s<x?S-C:C)<0&&(C=2*S+C),a&&C<k&&(k-=2*S),!a&&k<C&&(C-=2*S)),I(_=C-k)>p&&(u=C,h=s,d=l,C=k+p*(a&&k<C?1:-1),s=x+n*w.cos(C),l=b+r*w.sin(C),g=wt(s,l,n,r,i,0,a,h,d,[C,u,x,b])),_=C-k;var _,x=w.cos(k),b=w.sin(k),k=w.cos(C),C=w.sin(C);if(k=[s+(n=4/3*n*(_=w.tan(_/4)))*C,l-(r=4/3*r*_)*k],l=[s,l],(x=[t+n*b,e-r*x])[0]=2*(_=[t,e])[0]-x[0],x[1]=2*_[1]-x[1],c)return[x,k,l][f](g);for(var M=[],L=0,z=(g=[x,k,l][f](g).join()[v](",")).length;L<z;L++)M[L]=L%2?y(g[L-1],g[L],m).y:y(g[L],g[L+1],m).x;return M},kt=st((function(t,e,n,r,i,o,a,s){var l,c=i-2*n+t-(a-2*i+n),u=2*(n-t)-2*(i-n),h=t-n,d=(-u+w.sqrt(u*u-4*c*h))/2/c,f=(-u-w.sqrt(u*u-4*c*h))/2/c,m=[e,s],g=[t,a];return"1e12"<I(d)&&(d=.5),"1e12"<I(f)&&(f=.5),0<d&&d<1&&(l=yt(t,e,n,r,i,o,a,s,d),g.push(l.x),m.push(l.y)),0<f&&f<1&&(l=yt(t,e,n,r,i,o,a,s,f),g.push(l.x),m.push(l.y)),c=o-2*r+e-(s-2*o+r),h=e-r,d=(-(u=2*(r-e)-2*(o-r))+w.sqrt(u*u-4*c*h))/2/c,f=(-u-w.sqrt(u*u-4*c*h))/2/c,"1e12"<I(d)&&(d=.5),"1e12"<I(f)&&(f=.5),0<d&&d<1&&(l=yt(t,e,n,r,i,o,a,s,d),g.push(l.x),m.push(l.y)),0<f&&f<1&&(l=yt(t,e,n,r,i,o,a,s,f),g.push(l.x),m.push(l.y)),{min:{x:C[p](0,g),y:C[p](0,m)},max:{x:k[p](0,g),y:k[p](0,m)}}})),Ct=n._path2curve=st((function(t,e){var n=!e&&ut(t);if(!e&&n.curve)return xt(n.curve);function r(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][f](wt[p](0,[e.x,e.y][f](t.slice(1))));break;case"S":i="C"==n||"S"==n?(r=2*e.x-e.bx,2*e.y-e.by):(r=e.x,e.y),t=["C",r,i][f](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][f](gt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][f](gt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][f](mt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][f](mt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][f](mt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][f](mt(e.x,e.y,e.X,e.Y))}return t}function i(t,e){if(7<t[e].length){t[e].shift();for(var n=t[e];n.length;)t.splice(e++,0,["C"][f](n.splice(0,6)));t.splice(e,1),h=k(a.length,s&&s.length||0)}}function o(t,e,n,r,i){t&&e&&"M"==t[i][0]&&"M"!=e[i][0]&&(e.splice(i,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=t[i][1],n.y=t[i][2],h=k(a.length,s&&s.length||0))}for(var a=bt(t),s=e&&bt(e),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=0,h=k(a.length,s&&s.length||0);u<h;u++){a[u]=r(a[u],l),i(a,u),s&&(s[u]=r(s[u],c)),s&&i(s,u),o(a,s,l,c,u),o(s,a,c,l,u);var d=a[u],m=s&&s[u],g=d.length,y=s&&m.length;l.x=d[g-2],l.y=d[g-1],l.bx=N(d[g-4])||l.x,l.by=N(d[g-3])||l.y,c.bx=s&&(N(m[y-4])||c.x),c.by=s&&(N(m[y-3])||c.y),c.x=s&&m[y-2],c.y=s&&m[y-1]}return s||(n.curve=xt(a)),s?[a,s]:a}),null,xt),It=(n._parseDots=st((function(t){for(var e=[],r=0,i=t.length;r<i;r++){var o={},a=t[r].match(/^([^:]*):?([\d\.]*)/);if(o.color=n.getRGB(a[1]),o.color.error)return null;o.color=o.color.hex,a[2]&&(o.offset=a[2]+"%"),e.push(o)}for(r=1,i=e.length-1;r<i;r++)if(!e[r].offset){for(var s=N(e[r-1].offset||0),l=0,c=r+1;c<i;c++)if(e[c].offset){l=e[c].offset;break}l||(l=100,c=i);for(var u=((l=N(l))-s)/(c-r+1);r<c;r++)s+=u,e[r].offset=s+"%"}return e})),n._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Mt=(n._tofront=function(t,e){e.top!==t&&(It(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},n._toback=function(t,e){e.bottom!==t&&(It(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},n._insertafter=function(t,e,n){It(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,(t.prev=e).next=t},n._insertbefore=function(t,e,n){It(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,(e.prev=t).next=e},n.toMatrix=function(t,e){var n=_t(t);return St(t={_:{transform:""},getBBox:function(){return n}},e),t.matrix}),St=(n.transformPath=function(t,e){return Q(t,Mt(t,e))},n._extractTransform=function(t,e){if(null==e)return t._.transform;e=y(e).replace(/\.{3}|\u2026/g,t._.transform||"");var r,i=n.parseTransformString(e),o=0,a=(e=0,1),s=1,l=t._,c=new zt;if(l.transform=i||[],i)for(var u=0,h=i.length;u<h;u++){var d,p,f,m,g,v=i[u],_=v.length,x=y(v[0]).toLowerCase(),b=v[0]!=x,w=b?c.invert():0;"t"==x&&3==_?b?(d=w.x(0,0),p=w.y(0,0),f=w.x(v[1],v[2]),m=w.y(v[1],v[2]),c.translate(f-d,m-p)):c.translate(v[1],v[2]):"r"==x?2==_?(g=g||t.getBBox(1),c.rotate(v[1],g.x+g.width/2,g.y+g.height/2),o+=v[1]):4==_&&(b?(f=w.x(v[2],v[3]),m=w.y(v[2],v[3]),c.rotate(v[1],f,m)):c.rotate(v[1],v[2],v[3]),o+=v[1]):"s"==x?2==_||3==_?(g=g||t.getBBox(1),c.scale(v[1],v[_-1],g.x+g.width/2,g.y+g.height/2),a*=v[1],s*=v[_-1]):5==_&&(b?(f=w.x(v[3],v[4]),m=w.y(v[3],v[4]),c.scale(v[1],v[2],f,m)):c.scale(v[1],v[2],v[3],v[4]),a*=v[1],s*=v[2]):"m"==x&&7==_&&c.add(v[1],v[2],v[3],v[4],v[5],v[6]),l.dirtyT=1,t.matrix=c}t.matrix=c,l.sx=a,l.sy=s,l.deg=o,l.dx=r=c.e,l.dy=e=c.f,1==a&&1==s&&!o&&l.bbox?(l.bbox.x+=+r,l.bbox.y+=+e):l.dirtyT=1}),Lt=n._equaliseTransform=function(t,e){e=y(e).replace(/\.{3}|\u2026/g,t),t=n.parseTransformString(t)||[],e=n.parseTransformString(e)||[];for(var r,i,o,a,s=k(t.length,e.length),l=[],c=[],u=0;u<s;u++){if(o=t[u]||vt(e[u]),a=e[u]||vt(o),o[0]!=a[0]||"r"==o[0].toLowerCase()&&(o[2]!=a[2]||o[3]!=a[3])||"s"==o[0].toLowerCase()&&(o[3]!=a[3]||o[4]!=a[4]))return;for(l[u]=[],c[u]=[],r=0,i=k(o.length,a.length);r<i;r++)r in o&&(l[u][r]=o[r]),r in a&&(c[u][r]=a[r])}return{from:l,to:c}};function zt(t,e,n,r,i,o){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+r,this.e=+i,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function Tt(){this.returnValue=!1}function At(){return this.originalEvent.preventDefault()}function Et(){this.cancelBubble=!0}function Rt(){return this.originalEvent.stopPropagation()}function Bt(t){var e=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,n=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}}function Pt(t){for(var n,r=t.clientX,i=t.clientY,o=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,a=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft,s=Dt.length;s--;){if(n=Dt[s],m&&t.touches){for(var l,c=t.touches.length;c--;)if((l=t.touches[c]).identifier==n.el._drag.id){r=l.clientX,i=l.clientY,(t.originalEvent||t).preventDefault();break}}else t.preventDefault();var h,d=n.el.node,p=d.nextSibling,f=d.parentNode,g=d.style.display;u.win.opera&&f.removeChild(d),d.style.display="none",h=n.el.paper.getElementByPoint(r,i),d.style.display=g,u.win.opera&&(p?f.insertBefore(d,p):f.appendChild(d)),h&&e("raphael.drag.over."+n.el.id,n.el,h),r+=a,i+=o,e("raphael.drag.move."+n.el.id,n.move_scope||n.el,r-n.el._drag.x,i-n.el._drag.y,r,i,t)}}n._getContainer=function(t,e,r,i){var o=null!=i||n.is(t,"object")?t:u.doc.getElementById(t);if(null!=o)return o.tagName?null==e?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:e,height:r}:{container:1,x:t,y:e,width:r,height:i}},n.pathToRelative=d,n._engine={},n.path2curve=Ct,n.matrix=function(t,e,n,r,i,o){return new zt(t,e,n,r,i,o)},function(t){function e(t){return t[0]*t[0]+t[1]*t[1]}function r(t){var n=w.sqrt(e(t));t[0]&&(t[0]/=n),t[1]&&(t[1]/=n)}t.add=function(t,e,n,r,i,o){var a,s,l,c,u=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,n,i],[e,r,o],[0,0,1]];for(t&&t instanceof zt&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;a<3;a++)for(s=0;s<3;s++){for(l=c=0;l<3;l++)c+=h[a][l]*d[l][s];u[a][s]=c}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new zt(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new zt(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,r){null==e&&(e=t),(n||r)&&this.add(1,0,0,1,n,r),this.add(t,0,0,e,0,0),(n||r)&&this.add(1,0,0,1,-n,-r)},t.rotate=function(t,e,r){t=n.rad(t),e=e||0,r=r||0;var i=+w.cos(t).toFixed(9);t=+w.sin(t).toFixed(9),this.add(i,t,-t,i,e,r),this.add(1,0,0,1,-e,-r)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[y.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return n.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];t.scalex=w.sqrt(e(i[0])),r(i[0]),t.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*t.shear,i[1][1]-i[0][1]*t.shear],t.scaley=w.sqrt(e(i[1])),r(i[1]),t.shear/=t.scaley;var o=-i[0][1];return(i=i[1][1])<0?(t.rotate=n.deg(w.acos(i)),o<0&&(t.rotate=360-t.rotate)):t.rotate=n.deg(w.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){return(t=t||this[v]()).isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:"")+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:"")+(t.rotate?"r"+[t.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(zt.prototype),d=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/),"Apple Computer, Inc."==navigator.vendor&&(d&&d[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&d&&d[1]<8?K.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout((function(){t.remove()}))}:K.safari=function(){};for(var Nt=u.doc.addEventListener?function(t,e,n,r){function i(t){var e=Bt(t);return n.call(r,t,e.x,e.y)}return t.addEventListener(e,i,!1),m&&x[e]&&t.addEventListener(x[e],(function(e){for(var i=Bt(e),o=e,a=0,s=e.targetTouches&&e.targetTouches.length;a<s;a++)if(e.targetTouches[a].target==t){(e=e.targetTouches[a]).originalEvent=o,e.preventDefault=At,e.stopPropagation=Rt;break}return n.call(r,e,i.x,i.y)}),!1),function(){return t.removeEventListener(e,i,!1),m&&x[e]&&t.removeEventListener(x[e],i,!1),!0}}:u.doc.attachEvent?function(t,e,n,r){function i(t){t=t||u.win.event;var e=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,i=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft;return i=t.clientX+i,e=t.clientY+e,t.preventDefault=t.preventDefault||Tt,t.stopPropagation=t.stopPropagation||Et,n.call(r,t,i,e)}return t.attachEvent("on"+e,i),function(){return t.detachEvent("on"+e,i),!0}}:void 0,Dt=[],Ft=function(t){n.unmousemove(Pt).unmouseup(Ft);for(var r,i=Dt.length;i--;)(r=Dt[i]).el._drag={},e("raphael.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,t);Dt=[]},jt=n.el={},Ut=_.length;Ut--;)!function(t){n[t]=jt[t]=function(e,r){return n.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:Nt(this.shape||this.node||u.doc,t,e,r||this)})),this},n["un"+t]=jt["un"+t]=function(e){for(var r=this.events||[],i=r.length;i--;)r[i].name!=t||!n.is(e,"undefined")&&r[i].f!=e||(r[i].unbind(),r.splice(i,1),r.length||delete this.events);return this}}(_[Ut]);jt.data=function(t,r){var i=Y[this.id]=Y[this.id]||{};if(0==arguments.length)return i;if(1!=arguments.length)return i[t]=r,e("raphael.data.set."+this.id,this,r,t),this;if(n.is(t,"object")){for(var o in t)t[c](o)&&this.data(o,t[o]);return this}return e("raphael.data.get."+this.id,this,i[t],t),i[t]},jt.removeData=function(t){return null==t?Y[this.id]={}:Y[this.id]&&delete Y[this.id][t],this},jt.getData=function(){return tt(Y[this.id]||{})},jt.hover=function(t,e,n,r){return this.mouseover(t,n).mouseout(e,r||n)},jt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var qt=[];function Ot(){return this.x+g+this.y+g+this.width+" × "+this.height}function $t(t,e,r,i,o,a,s,l,c){return null==c?dt(t,e,r,i,o,a,s,l):n.findDotsAtSegment(t,e,r,i,o,a,s,l,function(t,e,n,r,i,o,a,s,l){if(!(l<0||dt(t,e,n,r,i,o,a,s)<l)){for(var c=.5,u=1-c,h=dt(t,e,n,r,i,o,a,s,u);.01<I(h-l);)h=dt(t,e,n,r,i,o,a,s,u+=(h<l?1:-1)*(c/=2));return u}}(t,e,r,i,o,a,s,l,c))}jt.drag=function(t,r,i,o,a,s){function l(l){(l.originalEvent||l).preventDefault();var c=l.clientX,h=l.clientY,d=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,p=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft;if(this._drag.id=l.identifier,m&&l.touches)for(var f,g=l.touches.length;g--;)if(f=l.touches[g],this._drag.id=f.identifier,f.identifier==this._drag.id){c=f.clientX,h=f.clientY;break}this._drag.x=c+p,this._drag.y=h+d,Dt.length||n.mousemove(Pt).mouseup(Ft),Dt.push({el:this,move_scope:o,start_scope:a,end_scope:s}),r&&e.on("raphael.drag.start."+this.id,r),t&&e.on("raphael.drag.move."+this.id,t),i&&e.on("raphael.drag.end."+this.id,i),e("raphael.drag.start."+this.id,a||o||this,l.clientX+p,l.clientY+d,l)}return this._drag={},qt.push({el:this,start:l}),this.mousedown(l),this},jt.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},jt.undrag=function(){for(var t=qt.length;t--;)qt[t].el==this&&(this.unmousedown(qt[t].start),qt.splice(t,1),e.unbind("raphael.drag.*."+this.id));qt.length||n.unmousemove(Pt).unmouseup(Ft),Dt=[]},K.circle=function(t,e,r){return r=n._engine.circle(this,t||0,e||0,r||0),this.__set__&&this.__set__.push(r),r},K.rect=function(t,e,r,i,o){return o=n._engine.rect(this,t||0,e||0,r||0,i||0,o||0),this.__set__&&this.__set__.push(o),o},K.ellipse=function(t,e,r,i){return i=n._engine.ellipse(this,t||0,e||0,r||0,i||0),this.__set__&&this.__set__.push(i),i},K.path=function(t){!t||n.is(t,z)||n.is(t[0],T)||(t+="");var e=n._engine.path(n.format[p](n,arguments),this);return this.__set__&&this.__set__.push(e),e},K.image=function(t,e,r,i,o){return o=n._engine.image(this,t||"about:blank",e||0,r||0,i||0,o||0),this.__set__&&this.__set__.push(o),o},K.text=function(t,e,r){return r=n._engine.text(this,t||0,e||0,y(r)),this.__set__&&this.__set__.push(r),r},K.set=function(t){n.is(t,"array")||(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new ne(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},K.setStart=function(t){this.__set__=t||this.set()},K.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},K.setSize=function(t,e){return n._engine.setSize.call(this,t,e)},K.setViewBox=function(t,e,r,i,o){return n._engine.setViewBox.call(this,t,e,r,i,o)},K.top=K.bottom=null,K.raphael=n,K.getElementByPoint=function(t,e){var n,r,i,o,a,s=this.canvas,l=u.doc.elementFromPoint(t,e);if(u.win.opera&&"svg"==l.tagName&&(r=(n=s).getBoundingClientRect(),o=(i=n.ownerDocument).body,n=(a=i.documentElement).clientTop||o.clientTop||0,i=a.clientLeft||o.clientLeft||0,o={y:r.top+(u.win.pageYOffset||a.scrollTop||o.scrollTop)-n,x:r.left+(u.win.pageXOffset||a.scrollLeft||o.scrollLeft)-i},(i=s.createSVGRect()).x=t-o.x,i.y=e-o.y,i.width=i.height=1,(i=s.getIntersectionList(i,null)).length&&(l=i[i.length-1])),!l)return null;for(;l.parentNode&&l!=s.parentNode&&!l.raphael;)l=l.parentNode;return l==this.canvas.parentNode&&(l=s),l&&l.raphael?this.getById(l.raphaelid):null},K.getElementsByBBox=function(t){var e=this.set();return this.forEach((function(r){n.isBBoxIntersect(r.getBBox(),t)&&e.push(r)})),e},K.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},K.forEach=function(t,e){for(var n=this.bottom;n;){if(!1===t.call(e,n))return this;n=n.next}return this},K.getElementsByPoint=function(t,e){var n=this.set();return this.forEach((function(r){r.isPointInside(t,e)&&n.push(r)})),n},jt.isPointInside=function(t,e){var r=this.realPath=Z[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=n.transformPath(r,this.attr("transform"))),n.isPointInsidePath(r,t,e)},jt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=Z[this.type](this),e.bboxwt=_t(this.realPath),e.bboxwt.toString=Ot,e.dirty=0),e.bboxwt):(!e.dirty&&!e.dirtyT&&e.bbox||(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=Z[this.type](this)),e.bbox=_t(Q(this.realPath,this.matrix)),e.bbox.toString=Ot,e.dirty=e.dirtyT=0),e.bbox)},jt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},jt.glow=function(t){if("text"==this.type)return null;for(var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,r=this.paper,i=r.set(),o=this.realPath||Z[this.type](this),a=(o=this.matrix?Q(o,this.matrix):o,1);a<1+n;a++)i.push(r.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*a).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return i.insertBefore(this).translate(e.offsetx,e.offsety)};var Ht=(d=function(t,e){return function(r,i,o){for(var a,s,l,c,u,h="",d={},p=0,f=0,m=(r=Ct(r)).length;f<m;f++){if("M"==(l=r[f])[0])a=+l[1],s=+l[2];else{if(i<p+(c=$t(a,s,l[1],l[2],l[3],l[4],l[5],l[6]))){if(e&&!d.start){if(h+=["C"+(u=$t(a,s,l[1],l[2],l[3],l[4],l[5],l[6],i-p)).start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],o)return h;d.start=h,h=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]].join(),p+=c,a=+l[5],s=+l[6];continue}if(!t&&!e)return{x:(u=$t(a,s,l[1],l[2],l[3],l[4],l[5],l[6],i-p)).x,y:u.y,alpha:u.alpha}}p+=c,a=+l[5],s=+l[6]}h+=l.shift()+l}return d.end=h,(u=t?p:e?d:n.findDotsAtSegment(a,s,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}})(1),Vt=d(),Xt=d(0,1);n.getTotalLength=Ht,n.getPointAtLength=Vt,n.getSubpath=function(t,e,n){return this.getTotalLength(t)-n<1e-6?Xt(t,e).end:(n=Xt(t,n,1),e?Xt(n,e).end:n)},jt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Ht(t)},jt.getPointAtLength=function(t){var e=this.getPath();if(e)return Vt(e,t)},jt.getPath=function(){var t,e=n._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return e&&(t=e(this)),t},jt.getSubpath=function(t,e){var r=this.getPath();if(r)return n.getSubpath(r,t,e)},(d=n.easing_formulas={linear:function(t){return t},"<":function(t){return M(t,1.7)},">":function(t){return M(t,.48)},"<>":function(t){var e=.48-t/1.04,n=w.sqrt(.1734+e*e);return t=n-e,e=-n-e,3*(1-(e=M(I(t),1/3)*(t<0?-1:1)+M(I(e),1/3)*(e<0?-1:1)+.5))*e*e+e*e*e},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},elastic:function(t){return t==!!t?t:M(2,-10*t)*w.sin(2*S*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}}).easeIn=d["ease-in"]=d["<"],d.easeOut=d["ease-out"]=d[">"],d.easeInOut=d["ease-in-out"]=d["<>"],d["back-in"]=d.backIn,d["back-out"]=d.backOut;var Yt=[],Wt=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},Gt=function(){for(var t=+new Date,r=0;r<Yt.length;r++){var i=Yt[r];if(!i.el.removed&&!i.paused){var o,a=t-i.start,s=i.ms,l=i.easing,u=i.from,h=i.diff,d=i.to,p=(i.t,i.el),m={},y={};if(i.initstatus?(a=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*s,i.status=i.initstatus,delete i.initstatus,i.stop&&Yt.splice(r--,1)):i.status=(i.prev+(i.percent-i.prev)*(a/s))/i.anim.top,!(a<0))if(a<s){var v,_=l(a/s);for(v in u)if(u[c](v)){switch(U[v]){case L:I=+u[v]+_*s*h[v];break;case"colour":I="rgb("+[Zt(P(u[v].r+_*s*h[v].r)),Zt(P(u[v].g+_*s*h[v].g)),Zt(P(u[v].b+_*s*h[v].b))].join(",")+")";break;case"path":I=[];for(var x=0,b=u[v].length;x<b;x++){I[x]=[u[v][x][0]];for(var w=1,k=u[v][x].length;w<k;w++)I[x][w]=+u[v][x][w]+_*s*h[v][x][w];I[x]=I[x].join(g)}I=I.join(g);break;case"transform":if(h[v].real)for(I=[],x=0,b=u[v].length;x<b;x++)for(I[x]=[u[v][x][0]],w=1,k=u[v][x].length;w<k;w++)I[x][w]=u[v][x][w]+_*s*h[v][x][w];else{function C(t){return+u[v][t]+_*s*h[v][t]}var I=[["m",C(0),C(1),C(2),C(3),C(4),C(5)]]}break;case"csv":if("clip-rect"==v)for(I=[],x=4;x--;)I[x]=+u[v][x]+_*s*h[v][x];break;default:var M=[][f](u[v]);for(I=[],x=p.paper.customAttributes[v].length;x--;)I[x]=+M[x]+_*s*h[v][x]}m[v]=I}p.attr(m),function(t,n,r){setTimeout((function(){e("raphael.anim.frame."+t,n,r)}))}(p.id,p,i.anim)}else{if(function(t,r,i){setTimeout((function(){e("raphael.anim.frame."+r.id,r,i),e("raphael.anim.finish."+r.id,r,i),n.is(t,"function")&&t.call(r)}))}(i.callback,p,i.anim),p.attr(d),Yt.splice(r--,1),1<i.repeat&&!i.next){for(o in d)d[c](o)&&(y[o]=i.totalOrigin[o]);i.el.attr(y),Kt(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&Kt(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}}n.svg&&p&&p.paper&&p.paper.safari(),Yt.length&&Wt(Gt)},Zt=function(t){return 255<t?255:t<0?0:t};function Qt(t,e,n,r,i,o){var a,s=3*e,l=3*(r-e)-s,c=1-s-l,u=3*n,h=3*(i-n)-u;function d(t){return((c*t+l)*t+s)*t}return(((1-u-h)*(a=function(t,e){var n,r,i,o,a,u;for(i=t,u=0;u<8;u++){if(o=d(i)-t,I(o)<e)return i;if(I(a=(3*c*i+2*l)*i+s)<1e-6)break;i-=o/a}if((i=t)<(n=0))return n;if((r=1)<i)return r;for(;n<r;){if(o=d(i),I(o-t)<e)return i;o<t?n=i:r=i,i=(r-n)/2+n}return i}(t,a=1/(200*o)))+h)*a+u)*a}function Jt(t,e){var n=[],i={};if(this.ms=e,this.times=1,t){for(var o in t)t[c](o)&&(i[N(o)]=t[o],n.push(N(o)));n.sort(r)}this.anim=i,this.top=n[n.length-1],this.percents=n}function Kt(t,r,i,o,s,l){i=N(i);var u,h,d,p,m,g=t.ms,_={},x={},b={};if(o)for(k=0,C=Yt.length;k<C;k++){var w=Yt[k];if(w.el.id==r.id&&w.anim==t){w.percent!=i?(Yt.splice(k,1),d=1):h=w,r.attr(w.totalOrigin);break}}else o=+x;for(var k=0,C=t.percents.length;k<C;k++){if(t.percents[k]==i||t.percents[k]>o*t.top){i=t.percents[k],m=t.percents[k-1]||0,g=g/t.top*(i-m),p=t.percents[k+1],u=t.anim[i];break}o&&r.attr(t.anim[t.percents[k]])}if(u){if(h)h.initstatus=o,h.start=new Date-h.ms*o;else{for(var I in u)if(u[c](I)&&(U[c](I)||r.paper.customAttributes[c](I)))switch(_[I]=r.attr(I),null==_[I]&&(_[I]=j[I]),x[I]=u[I],U[I]){case L:b[I]=(x[I]-_[I])/g;break;case"colour":_[I]=n.getRGB(_[I]);var M=n.getRGB(x[I]);b[I]={r:(M.r-_[I].r)/g,g:(M.g-_[I].g)/g,b:(M.b-_[I].b)/g};break;case"path":var S=Ct(_[I],x[I]),z=S[1];for(_[I]=S[0],b[I]=[],k=0,C=_[I].length;k<C;k++){b[I][k]=[0];for(var T=1,A=_[I][k].length;T<A;T++)b[I][k][T]=(z[k][T]-_[I][k][T])/g}break;case"transform":if(M=r._,S=Lt(M[I],x[I]))for(_[I]=S.from,x[I]=S.to,b[I]=[],b[I].real=!0,k=0,C=_[I].length;k<C;k++)for(b[I][k]=[_[I][k][0]],T=1,A=_[I][k].length;T<A;T++)b[I][k][T]=(x[I][k][T]-_[I][k][T])/g;else S=r.matrix||new zt,M={_:{transform:M.transform},getBBox:function(){return r.getBBox(1)}},_[I]=[S.a,S.b,S.c,S.d,S.e,S.f],St(M,x[I]),x[I]=M._.transform,b[I]=[(M.matrix.a-S.a)/g,(M.matrix.b-S.b)/g,(M.matrix.c-S.c)/g,(M.matrix.d-S.d)/g,(M.matrix.e-S.e)/g,(M.matrix.f-S.f)/g];break;case"csv":var E=y(u[I])[v](a),R=y(_[I])[v](a);if("clip-rect"==I)for(_[I]=R,b[I]=[],k=R.length;k--;)b[I][k]=(E[k]-_[I][k])/g;x[I]=E;break;default:for(E=[][f](u[I]),R=[][f](_[I]),b[I]=[],k=r.paper.customAttributes[I].length;k--;)b[I][k]=((E[k]||0)-(R[k]||0))/g}var P,D=u.easing,F=n.easing_formulas[D];if(F=F||((F=y(D).match(B))&&5==F.length?(P=F,function(t){return Qt(t,+P[1],+P[2],+P[3],+P[4],g)}):W),w={anim:t,percent:i,timestamp:D=u.start||t.start||+new Date,start:D+(t.del||0),status:0,initstatus:o||0,stop:!1,ms:g,easing:F,from:_,diff:b,to:x,el:r,callback:u.callback,prev:m,next:p,repeat:l||t.times,origin:r.attr(),totalOrigin:s},Yt.push(w),o&&!h&&!d&&(w.stop=!0,w.start=new Date-g*o,1==Yt.length))return Gt();d&&(w.start=new Date-w.ms*o),1==Yt.length&&Wt(Gt)}e("raphael.anim.start."+r.id,r,t)}}function te(t){for(var e=0;e<Yt.length;e++)Yt[e].el.paper==t&&Yt.splice(e--,1)}jt.animateWith=function(t,e,r,i,o,a){var s=this;if(s.removed)return a&&a.call(s),s;Kt(a=r instanceof Jt?r:n.animation(r,i,o,a),s,a.percents[0],null,s.attr());for(var l=0,c=Yt.length;l<c;l++)if(Yt[l].anim==e&&Yt[l].el==t){Yt[c-1].start=Yt[l].start;break}return s},jt.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},Jt.prototype.delay=function(t){var e=new Jt(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},Jt.prototype.repeat=function(t){var e=new Jt(this.anim,this.ms);return e.del=this.del,e.times=w.floor(k(t,0))||1,e},n.animation=function(t,e,r,i){if(t instanceof Jt)return t;!n.is(r,"function")&&r||(i=i||r||null,r=null),e=+e||0;var o,a,s={};for(a in t=Object(t))t[c](a)&&N(a)!=a&&N(a)+"%"!=a&&(o=!0,s[a]=t[a]);return o?(r&&(s.easing=r),i&&(s.callback=i),new Jt({100:s},e)):new Jt(t,e)},jt.animate=function(t,e,r,i){var o=this;return o.removed?(i&&i.call(o),o):(Kt(i=t instanceof Jt?t:n.animation(t,e,r,i),o,i.percents[0],null,o.attr()),o)},jt.setTime=function(t,e){return t&&null!=e&&this.status(t,C(e,t.ms)/t.ms),this},jt.status=function(t,e){var n,r,i=[],o=0;if(null!=e)return Kt(t,this,-1,C(e,1)),this;for(n=Yt.length;o<n;o++)if((r=Yt[o]).el.id==this.id&&(!t||r.anim==t)){if(t)return r.status;i.push({anim:r.anim,status:r.status})}return t?0:i},jt.pause=function(t){for(var n=0;n<Yt.length;n++)Yt[n].el.id!=this.id||t&&Yt[n].anim!=t||!1!==e("raphael.anim.pause."+this.id,this,Yt[n].anim)&&(Yt[n].paused=!0);return this},jt.resume=function(t){for(var n,r=0;r<Yt.length;r++)Yt[r].el.id!=this.id||t&&Yt[r].anim!=t||(n=Yt[r],!1!==e("raphael.anim.resume."+this.id,this,n.anim)&&(delete n.paused,this.status(n.anim,n.status)));return this},jt.stop=function(t){for(var n=0;n<Yt.length;n++)Yt[n].el.id!=this.id||t&&Yt[n].anim!=t||!1!==e("raphael.anim.stop."+this.id,this,Yt[n].anim)&&Yt.splice(n--,1);return this},e.on("raphael.remove",te),e.on("raphael.clear",te),jt.toString=function(){return"Raphaël’s object"};var ee,ne=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=jt.constructor&&t[e].constructor!=ne||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},re=ne.prototype;for(ee in re.push=function(){for(var t,e,n=0,r=arguments.length;n<r;n++)!(t=arguments[n])||t.constructor!=jt.constructor&&t.constructor!=ne||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},re.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},re.forEach=function(t,e){for(var n=0,r=this.items.length;n<r;n++)if(!1===t.call(e,this.items[n],n))return this;return this},jt)jt[c](ee)&&(re[ee]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t][p](n,e)}))}}(ee));re.attr=function(t,e){if(t&&n.is(t,T)&&n.is(t[0],"object"))for(var r=0,i=t.length;r<i;r++)this.items[r].attr(t[r]);else for(var o=0,a=this.items.length;o<a;o++)this.items[o].attr(t,e);return this},re.clear=function(){for(;this.length;)this.pop()},re.splice=function(t,e,n){t=t<0?k(this.length+t,0):t,e=k(0,C(this.length-t,e));for(var r=[],i=[],o=[],a=2;a<arguments.length;a++)o.push(arguments[a]);for(a=0;a<e;a++)i.push(this[t+a]);for(;a<this.length-t;a++)r.push(this[t+a]);var s=o.length;for(a=0;a<s+r.length;a++)this.items[t+a]=this[t+a]=a<s?o[a]:r[a-s];for(a=this.items.length=this.length-=e-s;this[a];)delete this[a++];return new ne(i)},re.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},re.animate=function(t,e,r,i){!n.is(r,"function")&&r||(i=r||null);var o,a=this.items.length,s=a,l=this;if(!a)return this;i&&(o=function(){--a||i.call(l)}),r=n.is(r,z)?r:o;for(var c=n.animation(t,e,r,o),u=this.items[--s].animate(c);s--;)this.items[s]&&!this.items[s].removed&&this.items[s].animateWith(u,c,c),this.items[s]&&!this.items[s].removed||a--;return this},re.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},re.getBBox=function(){for(var t,e=[],n=[],r=[],i=[],o=this.items.length;o--;)this.items[o].removed||(t=this.items[o].getBBox(),e.push(t.x),n.push(t.y),r.push(t.x+t.width),i.push(t.y+t.height));return{x:e=C[p](0,e),y:n=C[p](0,n),x2:r=k[p](0,r),y2:i=k[p](0,i),width:r-e,height:i-n}},re.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},re.toString=function(){return"Raphaël‘s set"},re.glow=function(t){var e=this.paper.set();return this.forEach((function(n,r){null!=(n=n.glow(t))&&n.forEach((function(t,n){e.push(t)}))})),e},re.isPointInside=function(t,e){var n=!1;return this.forEach((function(r){if(r.isPointInside(t,e))return console.log("runned"),!(n=!0)})),n},n.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e,n={w:t.w,face:{},glyphs:{}},r=t.face["font-family"];for(e in t.face)t.face[c](e)&&(n.face[e]=t.face[e]);if(this.fonts[r]?this.fonts[r].push(n):this.fonts[r]=[n],!t.svg)for(var i in n.face["units-per-em"]=D(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[c](i)){var o=t.glyphs[i];if(n.glyphs[i]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,(function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"}))+"z"},o.k)for(var a in o.k)o[c](a)&&(n.glyphs[i].k[a]=o.k[a])}return t},K.getFont=function(t,e,r,i){if(i=i||"normal",r=r||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,n.fonts){var o,a=n.fonts[t];if(!a){var s,l=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(s in n.fonts)if(n.fonts[c](s)&&l.test(s)){a=n.fonts[s];break}}if(a)for(var u=0,h=a.length;u<h&&((o=a[u]).face["font-weight"]!=e||o.face["font-style"]!=r&&o.face["font-style"]||o.face["font-stretch"]!=i);u++);return o}},K.print=function(t,e,r,i,o,s,l,c){s=s||"middle",l=k(C(l||0,1),-1),c=k(C(c||1,3),1);var u,h=y(r)[v](""),d=0,p=0,f="";if(n.is(i,"string")&&(i=this.getFont(i)),i){u=(o||16)/i.face["units-per-em"];for(var m,g,_=+(o=i.face.bbox[v](a))[0],x=o[3]-o[1],b=0,w=+o[1]+("baseline"==s?x+ +i.face.descent:x/2),I=0,M=h.length;I<M;I++)"\n"==h[I]?(p=g=d=0,b+=x*c):(m=p&&i.glyphs[h[I-1]]||{},g=i.glyphs[h[I]],d+=p?(m.w||i.w)+(m.k&&m.k[h[I]]||0)+i.w*l:0,p=1),g&&g.d&&(f+=n.transformPath(g.d,["t",d*u,b*u,"s",u,u,_,w,"t",(t-_)/u,(e-w)/u]))}return this.path(f).attr({fill:"#000",stroke:"none"})},K.add=function(t){if(n.is(t,"array"))for(var e,r=this.set(),i=0,o=t.length;i<o;i++)e=t[i]||{},s[c](e.type)&&r.push(this[e.type]().attr(e));return r},n.format=function(t,e){var r=n.is(e,T)?[0][f](e):arguments;return t&&n.is(t,z)&&r.length-1&&(t=t.replace(l,(function(t,e){return null==r[++e]?"":r[e]}))),t||""},n.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;return function(n,r){return String(n).replace(t,(function(t,n){return i=t,o=t=r,n.replace(e,(function(t,e,n,r,i){e=e||r,o&&(e in o&&(o=o[e]),"function"==typeof o&&i&&(o=o()))})),o=(null==o||o==t?i:o)+"";var i,o}))}}(),n.ninja=function(){return h.was?u.win.Raphael=h.is:delete t.Raphael,n},n.st=re,function(t,e,r){null==t.readyState&&t.addEventListener&&(t.addEventListener(e,r=function(){t.removeEventListener(e,r,!1),t.readyState="complete"},!1),t.readyState="loading"),function e(){/in/.test(t.readyState)?setTimeout(e,9):n.eve("raphael.DOMload")}()}(document,"DOMContentLoaded"),e.on("raphael.DOMload",(function(){o=!0})),function(){if(n.svg){var t="hasOwnProperty",e=String,r=parseFloat,i=parseInt,o=Math,a=o.max,s=o.abs,l=o.pow,c=/[, ]+/,u=n.eve,h="http://www.w3.org/1999/xlink",d={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},p={};function f(t,i){var c="linear",u=t.id+i,h=.5,d=.5,p=t.node,f=t.paper,m=p.style,g=n._g.doc.getElementById(u);if(!g){if(i=(i=e(i).replace(n._radial_gradient,(function(t,e,n){return c="radial",e&&n&&(h=r(e),n=2*(.5<(d=r(n)))-1,.25<l(h-.5,2)+l(d-.5,2)&&(d=o.sqrt(.25-l(h-.5,2))*n+.5)&&.5!=d&&(d=d.toFixed(5)-1e-5*n)),""}))).split(/\s*\-\s*/),"linear"==c){var y=i.shift();if(y=-r(y),isNaN(y))return null;var v=[0,0,o.cos(n.rad(y)),o.sin(n.rad(y))];y=1/(a(s(v[2]),s(v[3]))||1),v[2]*=y,v[3]*=y,v[2]<0&&(v[0]=-v[2],v[2]=0),v[3]<0&&(v[1]=-v[3],v[3]=0)}var _=n._parseDots(i);if(!_)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&u!=t.gradient.id&&(f.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){g=x(c+"Gradient",{id:u}),t.gradient=g,x(g,"radial"==c?{fx:h,fy:d}:{x1:v[0],y1:v[1],x2:v[2],y2:v[3],gradientTransform:t.matrix.invert()}),f.defs.appendChild(g);for(var b=0,w=_.length;b<w;b++)g.appendChild(x("stop",{offset:_[b].offset||(b?"100%":"0%"),"stop-color":_[b].color||"#fff"}))}}return x(p,{fill:"url(#"+u+")",opacity:1,"fill-opacity":1}),m.fill="",m.opacity=1,m.fillOpacity=1}function m(t){var e=t.getBBox(1);x(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})}function g(r,i,o){if("path"==r.type){for(var a,s,l,c,u,h,f,m,g,y=e(i).toLowerCase().split("-"),v=r.paper,_=o?"end":"start",b=r.node,w=r.attrs,k=w["stroke-width"],C=y.length,I="classic",M=3,S=3,L=5;C--;)switch(y[C]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":I=y[C];break;case"wide":S=5;break;case"narrow":S=2;break;case"long":M=5;break;case"short":M=2}for(m in m="open"==I?(M+=2,S+=2,L+=2,h=1,s=o?4:1,{fill:"none",stroke:w.stroke}):(s=h=M/2,{fill:w.stroke,stroke:"none"}),r._.arrows?o?(r._.arrows.endPath&&p[r._.arrows.endPath]--,r._.arrows.endMarker&&p[r._.arrows.endMarker]--):(r._.arrows.startPath&&p[r._.arrows.startPath]--,r._.arrows.startMarker&&p[r._.arrows.startMarker]--):r._.arrows={},"none"!=I?(l="raphael-marker-"+I,c="raphael-marker-"+_+I+M+S,n._g.doc.getElementById(l)?p[l]++:(v.defs.appendChild(x(x("path"),{"stroke-linecap":"round",d:d[I],id:l})),p[l]=1),(u=n._g.doc.getElementById(c))?(p[c]++,f=u.getElementsByTagName("use")[0]):(u=x(x("marker"),{id:c,markerHeight:S,markerWidth:M,orient:"auto",refX:s,refY:S/2}),f=x(x("use"),{"xlink:href":"#"+l,transform:(o?"rotate(180 "+M/2+" "+S/2+") ":"")+"scale("+M/L+","+S/L+")","stroke-width":(1/((M/L+S/L)/2)).toFixed(4)}),u.appendChild(f),v.defs.appendChild(u),p[c]=1),x(f,m),h*="diamond"!=I&&"oval"!=I,f=o?(a=r._.arrows.startdx*k||0,n.getTotalLength(w.path)-h*k):(a=h*k,n.getTotalLength(w.path)-(r._.arrows.enddx*k||0)),(m={})["marker-"+_]="url(#"+c+")",(f||a)&&(m.d=n.getSubpath(w.path,a,f)),x(b,m),r._.arrows[_+"Path"]=l,r._.arrows[_+"Marker"]=c,r._.arrows[_+"dx"]=h,r._.arrows[_+"Type"]=I,r._.arrows[_+"String"]=i):(f=o?(a=r._.arrows.startdx*k||0,n.getTotalLength(w.path)-a):(a=0,n.getTotalLength(w.path)-(r._.arrows.enddx*k||0)),r._.arrows[_+"Path"]&&x(b,{d:n.getSubpath(w.path,a,f)}),delete r._.arrows[_+"Path"],delete r._.arrows[_+"Marker"],delete r._.arrows[_+"dx"],delete r._.arrows[_+"Type"],delete r._.arrows[_+"String"]),p)!p[t](m)||p[m]||(g=n._g.doc.getElementById(m))&&g.parentNode.removeChild(g)}}function y(t,n,r){if(n=b[e(n).toLowerCase()]){for(var i=t.attrs["stroke-width"]||"1",o={round:i,square:i,butt:0}[t.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,a=[],s=n.length;s--;)a[s]=n[s]*i+(s%2?1:-1)*o;x(t.node,{"stroke-dasharray":a.join(",")})}}function v(r,o){var l,u=r.node,d=r.attrs,p=u.style.visibility;for(l in u.style.visibility="hidden",o)if(o[t](l)&&n._availableAttrs[t](l)){var v=o[l];switch(d[l]=v,l){case"blur":r.blur(v);break;case"href":case"title":var _=x("title"),b=n._g.doc.createTextNode(v);_.appendChild(b),u.appendChild(_);break;case"target":var k=u.parentNode;"a"!=k.tagName.toLowerCase()&&(_=x("a"),k.insertBefore(_,u),_.appendChild(u),k=_),"target"==l?k.setAttributeNS(h,"show","blank"==v?"new":v):k.setAttributeNS(h,l,v);break;case"cursor":u.style.cursor=v;break;case"transform":r.transform(v);break;case"arrow-start":g(r,v);break;case"arrow-end":g(r,v,1);break;case"clip-rect":var C;4==(b=e(v).split(c)).length&&(r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode),k=x("clipPath"),C=x("rect"),k.id=n.createUUID(),x(C,{x:b[0],y:b[1],width:b[2],height:b[3]}),k.appendChild(C),r.paper.defs.appendChild(k),x(u,{"clip-path":"url(#"+k.id+")"}),r.clip=C),v||(C=u.getAttribute("clip-path"))&&((L=n._g.doc.getElementById(C.replace(/(^url\(#|\)$)/g,"")))&&L.parentNode.removeChild(L),x(u,{"clip-path":""}),delete r.clip);break;case"path":"path"==r.type&&(x(u,{d:v?d.path=n._pathToAbsolute(v):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&g(r,r._.arrows.startString),"endString"in r._.arrows&&g(r,r._.arrows.endString,1)));break;case"width":if(u.setAttribute(l,v),r._.dirty=1,!d.fx)break;l="x",v=d.x;case"x":d.fx&&(v=-d.x-(d.width||0));case"rx":if("rx"==l&&"rect"==r.type)break;case"cx":u.setAttribute(l,v),r.pattern&&m(r),r._.dirty=1;break;case"height":if(u.setAttribute(l,v),r._.dirty=1,!d.fy)break;l="y",v=d.y;case"y":d.fy&&(v=-d.y-(d.height||0));case"ry":if("ry"==l&&"rect"==r.type)break;case"cy":u.setAttribute(l,v),r.pattern&&m(r),r._.dirty=1;break;case"r":"rect"==r.type?x(u,{rx:v,ry:v}):u.setAttribute(l,v),r._.dirty=1;break;case"src":"image"==r.type&&u.setAttributeNS(h,"href",v);break;case"stroke-width":1==r._.sx&&1==r._.sy||(v/=a(s(r._.sx),s(r._.sy))||1),r.paper._vbSize&&(v*=r.paper._vbSize),u.setAttribute(l,v),d["stroke-dasharray"]&&y(r,d["stroke-dasharray"],o),r._.arrows&&("startString"in r._.arrows&&g(r,r._.arrows.startString),"endString"in r._.arrows&&g(r,r._.arrows.endString,1));break;case"stroke-dasharray":y(r,v,o);break;case"fill":if(e(v).match(n._ISURL)){x(u,{fill:v});break}var I,M,S=n.getRGB(v);if(S.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=e(v).charAt())&&f(r,v)){!("opacity"in d||"fill-opacity"in d)||(I=n._g.doc.getElementById(u.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(M=I.getElementsByTagName("stop"),x(M[M.length-1],{"stop-opacity":("opacity"in d?d.opacity:1)*("fill-opacity"in d?d["fill-opacity"]:1)})),d.gradient=v,d.fill="none";break}}else delete o.gradient,delete d.gradient,!n.is(d.opacity,"undefined")&&n.is(o.opacity,"undefined")&&x(u,{opacity:d.opacity}),!n.is(d["fill-opacity"],"undefined")&&n.is(o["fill-opacity"],"undefined")&&x(u,{"fill-opacity":d["fill-opacity"]});S[t]("opacity")&&x(u,{"fill-opacity":1<S.opacity?S.opacity/100:S.opacity});case"stroke":S=n.getRGB(v),u.setAttribute(l,S.hex),"stroke"==l&&S[t]("opacity")&&x(u,{"stroke-opacity":1<S.opacity?S.opacity/100:S.opacity}),"stroke"==l&&r._.arrows&&("startString"in r._.arrows&&g(r,r._.arrows.startString),"endString"in r._.arrows&&g(r,r._.arrows.endString,1));break;case"gradient":"circle"!=r.type&&"ellipse"!=r.type&&"r"==e(v).charAt()||f(r,v);break;case"opacity":d.gradient&&!d[t]("stroke-opacity")&&x(u,{"stroke-opacity":1<v?v/100:v});case"fill-opacity":if(d.gradient){(I=n._g.doc.getElementById(u.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(M=I.getElementsByTagName("stop"),x(M[M.length-1],{"stop-opacity":v}));break}default:"font-size"==l&&(v=i(v,10)+"px");var L=l.replace(/(\-.)/g,(function(t){return t.substring(1).toUpperCase()}));u.style[L]=v,r._.dirty=1,u.setAttribute(l,v)}}w(r,o),u.style.visibility=p}function _(t,e){(this[0]=this.node=t).raphael=!0,this.id=n._oid++,t.raphaelid=this.id,this.matrix=n.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},e.bottom||(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null}n.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var x=function(r,i){if(i)for(var o in"string"==typeof r&&(r=x(r)),i)i[t](o)&&("xlink:"==o.substring(0,6)?r.setAttributeNS(h,o.substring(6),e(i[o])):r.setAttribute(o,e(i[o])));else(r=n._g.doc.createElementNS("http://www.w3.org/2000/svg",r)).style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},b={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},w=function(r,o){if("text"==r.type&&(o[t]("text")||o[t]("font")||o[t]("font-size")||o[t]("x")||o[t]("y"))){var a=r.attrs,s=r.node,l=s.firstChild?i(n._g.doc.defaultView.getComputedStyle(s.firstChild,"").getPropertyValue("font-size"),10):10;if(o[t]("text")){for(a.text=o.text;s.firstChild;)s.removeChild(s.firstChild);for(var c,u=e(o.text).split("\n"),h=[],d=0,p=u.length;d<p;d++)c=x("tspan"),d&&x(c,{dy:1.2*l,x:a.x}),c.appendChild(n._g.doc.createTextNode(u[d])),s.appendChild(c),h[d]=c}else for(d=0,p=(h=s.getElementsByTagName("tspan")).length;d<p;d++)d?x(h[d],{dy:1.2*l,x:a.x}):x(h[0],{dy:0});x(s,{x:a.x,y:a.y}),r._.dirty=1,r=r._getBBox(),(r=a.y-(r.y+r.height/2))&&n.is(r,"finite")&&x(h[0],{dy:r})}},k=n.el;(_.prototype=k).constructor=_,n._engine.path=function(t,e){var n=x("path");return e.canvas&&e.canvas.appendChild(n),(e=new _(n,e)).type="path",v(e,{fill:"none",stroke:"#000",path:t}),e},k.rotate=function(t,n,i){return this.removed||((t=e(t).split(c)).length-1&&(n=r(t[1]),i=r(t[2])),t=r(t[0]),null==i&&(n=i),null!=n&&null!=i||(n=(o=this.getBBox(1)).x+o.width/2,i=o.y+o.height/2),this.transform(this._.transform.concat([["r",t,n,i]]))),this;var o},k.scale=function(t,n,i,o){return this.removed||((t=e(t).split(c)).length-1&&(n=r(t[1]),i=r(t[2]),o=r(t[3])),t=r(t[0]),null==n&&(n=t),null==o&&(i=o),null!=i&&null!=o||(a=this.getBBox(1)),i=null==i?a.x+a.width/2:i,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",t,n,i,o]]))),this;var a},k.translate=function(t,n){return this.removed||((t=e(t).split(c)).length-1&&(n=r(t[1])),t=r(t[0])||0,n=+n||0,this.transform(this._.transform.concat([["t",t,n]]))),this},k.transform=function(e){var r=this._;return null==e?r.transform:(n._extractTransform(this,e),this.clip&&x(this.clip,{transform:this.matrix.invert()}),this.pattern&&m(this),this.node&&x(this.node,{transform:this.matrix}),1==r.sx&&1==r.sy||(r=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":r})),this)},k.hide=function(){return this.removed||this.paper.safari(this.node.style.display="none"),this},k.show=function(){return this.removed||this.paper.safari(this.node.style.display=""),this},k.remove=function(){if(!this.removed&&this.node.parentNode){var t,e=this.paper;for(t in e.__set__&&e.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),n._tear(this,e),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node),this)this[t]="function"==typeof this[t]?n._removedFactory(t):null;this.removed=!0}},k._getBBox=function(){var t;"none"==this.node.style.display&&(this.show(),t=!0);var e={};try{e=this.node.getBBox()}catch(t){}finally{e=e||{}}return t&&this.hide(),e},k.attr=function(e,r){if(this.removed)return this;if(null==e){var i,o={};for(i in this.attrs)this.attrs[t](i)&&(o[i]=this.attrs[i]);return o.gradient&&"none"==o.fill&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(null==r&&n.is(e,"string")){if("fill"==e&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==e)return this._.transform;for(var a=e.split(c),s={},l=0,h=a.length;l<h;l++)(e=a[l])in this.attrs?s[e]=this.attrs[e]:n.is(this.paper.customAttributes[e],"function")?s[e]=this.paper.customAttributes[e].def:s[e]=n._availableAttrs[e];return h-1?s:s[a[0]]}if(null==r&&n.is(e,"array")){for(s={},l=0,h=e.length;l<h;l++)s[e[l]]=this.attr(e[l]);return s}var d,p;for(p in null!=r?(d={})[e]=r:null!=e&&n.is(e,"object")&&(d=e),d)u("raphael.attr."+p+"."+this.id,this,d[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&d[t](p)&&n.is(this.paper.customAttributes[p],"function")){var f,m=this.paper.customAttributes[p].apply(this,[].concat(d[p]));for(f in this.attrs[p]=d[p],m)m[t](f)&&(d[f]=m[f])}return v(this,d),this},k.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&n._tofront(this,t),this},k.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;return"a"==t.tagName.toLowerCase()?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),n._toback(this,this.paper),this.paper,this},k.insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode.appendChild(this.node),n._insertafter(this,t,this.paper),this},k.insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),n._insertbefore(this,t,this.paper),this},k.blur=function(t){var e,r,i=this;return 0!=+t?(e=x("filter"),r=x("feGaussianBlur"),i.attrs.blur=t,e.id=n.createUUID(),x(r,{stdDeviation:+t||1.5}),e.appendChild(r),i.paper.defs.appendChild(e),i._blur=e,x(i.node,{filter:"url(#"+e.id+")"})):(i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter")),i},n._engine.circle=function(t,e,n,r){var i=x("circle");return t.canvas&&t.canvas.appendChild(i),(t=new _(i,t)).attrs={cx:e,cy:n,r:r,fill:"none",stroke:"#000"},t.type="circle",x(i,t.attrs),t},n._engine.rect=function(t,e,n,r,i,o){var a=x("rect");return t.canvas&&t.canvas.appendChild(a),(t=new _(a,t)).attrs={x:e,y:n,width:r,height:i,r:o||0,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},t.type="rect",x(a,t.attrs),t},n._engine.ellipse=function(t,e,n,r,i){var o=x("ellipse");return t.canvas&&t.canvas.appendChild(o),(t=new _(o,t)).attrs={cx:e,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"},t.type="ellipse",x(o,t.attrs),t},n._engine.image=function(t,e,n,r,i,o){var a=x("image");return x(a,{x:n,y:r,width:i,height:o,preserveAspectRatio:"none"}),a.setAttributeNS(h,"href",e),t.canvas&&t.canvas.appendChild(a),(t=new _(a,t)).attrs={x:n,y:r,width:i,height:o,src:e},t.type="image",t},n._engine.text=function(t,e,r,i){var o=x("text");return t.canvas&&t.canvas.appendChild(o),(t=new _(o,t)).attrs={x:e,y:r,"text-anchor":"middle",text:i,font:n._availableAttrs.font,stroke:"none",fill:"#000"},t.type="text",v(t,t.attrs),t},n._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},n._engine.create=function(){var t=(l=n._getContainer.apply(0,arguments))&&l.container,e=l.x,r=l.y,i=l.width,o=l.height;if(!t)throw new Error("SVG container not found.");var a,s=x("svg"),l="overflow:hidden;";return e=e||0,r=r||0,x(s,{height:o=o||342,version:1.1,width:i=i||512,xmlns:"http://www.w3.org/2000/svg"}),1==t?(s.style.cssText=l+"position:absolute;left:"+e+"px;top:"+r+"px",n._g.doc.body.appendChild(s),a=1):(s.style.cssText=l+"position:relative",t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s)),(t=new n._Paper).width=i,t.height=o,t.canvas=s,t.clear(),t._left=t._top=0,a&&(t.renderfix=function(){}),t.renderfix(),t},n._engine.setViewBox=function(t,e,n,r,i){u("raphael.setViewBox",this,this._viewBox,[t,e,n,r,i]);var o,s=a(n/this.width,r/this.height),l=this.top,c=i?"meet":"xMinYMin",h=null==t?(this._vbSize&&(s=1),delete this._vbSize,"0 0 "+this.width+" "+this.height):(this._vbSize=s,t+" "+e+" "+n+" "+r);for(x(this.canvas,{viewBox:h,preserveAspectRatio:c});s&&l;)o="stroke-width"in l.attrs?l.attrs["stroke-width"]:1,l.attr({"stroke-width":o}),l._.dirty=1,l._.dirtyT=1,l=l.prev;return this._viewBox=[t,e,n,r,!!i],this},n.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var r=-t.e%1,i=-t.f%1;(r||i)&&(r&&(this._left=(this._left+r)%1,n.left=this._left+"px"),i&&(this._top=(this._top+i)%1,n.top=this._top+"px"))},n.prototype.clear=function(){n.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=x("desc")).appendChild(n._g.doc.createTextNode("Created with Raphaël "+n.version)),t.appendChild(this.desc),t.appendChild(this.defs=x("defs"))},n.prototype.remove=function(){for(var t in u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?n._removedFactory(t):null};var C,I=n.st;for(C in k)k[t](C)&&!I[t](C)&&(I[C]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t].apply(n,e)}))}}(C))}}(),function(){if(n.vml){function t(t,e,r){var i=n.matrix();return i.rotate(-t,.5,.5),{dx:i.x(e,r),dy:i.y(e,r)}}function e(e,n,r,i,o,a){var s,l=e._,c=e.matrix,d=l.fillpos,p=e.node,m=p.style,g=1,y="",v=x/n;e=x/r,m.visibility="hidden",n&&r&&(p.coordsize=u(v)+f+u(e),m.rotation=a*(n*r<0?-1:1),a&&(i=(s=t(a,i,o)).dx,o=s.dy),n<0&&(y+="x"),r<0&&(y+=" y")&&(g=-1),m.flip=y,p.coordorigin=i*-v+f+o*-e,(d||l.fillsize)&&(e=(e=p.getElementsByTagName(h))&&e[0],p.removeChild(e),d&&(s=t(a,c.x(d[0],d[1]),c.y(d[0],d[1])),e.position=s.dx*g+f+s.dy*g),l.fillsize&&(e.size=l.fillsize[0]*u(n)+f+l.fillsize[1]*u(r)),p.appendChild(e)),m.visibility="visible")}var r="hasOwnProperty",i=String,o=parseFloat,a=Math,s=a.round,l=a.max,c=a.min,u=a.abs,h="fill",d=/[, ]+/,p=n.eve,f=" ",m={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,y=/ progid:\S+Blur\([^\)]+\)/g,v=/-?[^,\s-]+/g,_="position:absolute;left:0;top:0;width:1px;height:1px",x=21600,b={path:1,rect:1,image:1},w={circle:1,ellipse:1};function k(t,e,n){for(var r=i(e).toLowerCase().split("-"),o=(n=n?"end":"start",r.length),a="classic",s="medium",l="medium";o--;)switch(r[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=r[o];break;case"wide":case"narrow":l=r[o];break;case"long":case"short":s=r[o]}(t=t.node.getElementsByTagName("stroke")[0])[n+"arrow"]=a,t[n+"arrowlength"]=s,t[n+"arrowwidth"]=l}function C(t,a){t.attrs=t.attrs||{};var u,p,y,_,C,I,L,z=t.node,T=t.attrs,A=z.style,E=b[t.type]&&(a.x!=T.x||a.y!=T.y||a.width!=T.width||a.height!=T.height||a.cx!=T.cx||a.cy!=T.cy||a.rx!=T.rx||a.ry!=T.ry||a.r!=T.r),R=w[t.type]&&(T.cx!=a.cx||T.cy!=a.cy||T.r!=a.r||T.rx!=a.rx||T.ry!=a.ry),B=t;for(u in a)a[r](u)&&(T[u]=a[u]);if(E&&(T.path=n._getPath[t.type](t),t._.dirty=1),a.href&&(z.href=a.href),a.title&&(z.title=a.title),a.target&&(z.target=a.target),a.cursor&&(A.cursor=a.cursor),"blur"in a&&t.blur(a.blur),(a.path&&"path"==t.type||E)&&(z.path=function(t){var e=/[ahqstv]/gi,r=n._pathToAbsolute;if(i(t).match(e)&&(r=n._path2curve),e=/[clmz]/g,r==n._pathToAbsolute&&!i(t).match(e))return i(t).replace(g,(function(t,e,n){var r=[],i="m"==e.toLowerCase(),o=m[e];return n.replace(v,(function(t){i&&2==r.length&&(o+=r+m["m"==e?"l":"L"],r=[]),r.push(s(t*x))})),o+r}));for(var o,a,l=r(t),c=[],u=0,h=l.length;u<h;u++){o=l[u],"z"==(a=l[u][0].toLowerCase())&&(a="x");for(var d=1,p=o.length;d<p;d++)a+=s(o[d]*x)+(d!=p-1?",":"");c.push(a)}return c.join(f)}(~i(T.path).toLowerCase().indexOf("r")?n._pathToAbsolute(T.path):T.path),"image"==t.type&&(t._.fillpos=[T.x,T.y],t._.fillsize=[T.width,T.height],e(t,1,1,0,0,0))),"transform"in a&&t.transform(a.transform),R&&(_=+T.cx,p=+T.cy,R=+T.rx||+T.r||0,y=+T.ry||+T.r||0,z.path=n.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",s((_-R)*x),s((p-y)*x),s((_+R)*x),s((p+y)*x),s(_*x)),t._.dirty=1),"clip-rect"in a&&(4==(p=i(a["clip-rect"]).split(d)).length&&(p[2]=+p[2]+ +p[0],p[3]=+p[3]+ +p[1],(_=(y=z.clipRect||n._g.doc.createElement("div")).style).clip=n.format("rect({1}px {2}px {3}px {0}px)",p),z.clipRect||(_.position="absolute",_.top=0,_.left=0,_.width=t.paper.width+"px",_.height=t.paper.height+"px",z.parentNode.insertBefore(y,z),y.appendChild(z),z.clipRect=y)),a["clip-rect"]||z.clipRect&&(z.clipRect.style.clip="auto")),t.textpath&&(I=t.textpath.style,a.font&&(I.font=a.font),a["font-family"]&&(I.fontFamily='"'+a["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),a["font-size"]&&(I.fontSize=a["font-size"]),a["font-weight"]&&(I.fontWeight=a["font-weight"]),a["font-style"]&&(I.fontStyle=a["font-style"])),"arrow-start"in a&&k(B,a["arrow-start"]),"arrow-end"in a&&k(B,a["arrow-end"],1),null==a.opacity&&null==a["stroke-width"]&&null==a.fill&&null==a.src&&null==a.stroke&&null==a["stroke-width"]&&null==a["stroke-opacity"]&&null==a["fill-opacity"]&&null==a["stroke-dasharray"]&&null==a["stroke-miterlimit"]&&null==a["stroke-linejoin"]&&null==a["stroke-linecap"]||((I=(I=z.getElementsByTagName(h))&&I[0])||(I=M(h)),"image"==t.type&&a.src&&(I.src=a.src),a.fill&&(I.on=!0),null!=I.on&&"none"!=a.fill&&null!==a.fill||(I.on=!1),I.on&&a.fill&&((P=i(a.fill).match(n._ISURL))?(I.parentNode==z&&z.removeChild(I),I.rotate=!0,I.src=P[1],I.type="tile",C=t.getBBox(1),I.position=C.x+f+C.y,t._.fillpos=[C.x,C.y],n._preload(P[1],(function(){t._.fillsize=[this.offsetWidth,this.offsetHeight]}))):(I.color=n.getRGB(a.fill).hex,I.src="",I.type="solid",n.getRGB(a.fill).error&&(B.type in{circle:1,ellipse:1}||"r"!=i(a.fill).charAt())&&S(B,a.fill,I)&&(T.fill="none",T.gradient=a.fill,I.rotate=!1))),("fill-opacity"in a||"opacity"in a)&&(L=((+T["fill-opacity"]+1||2)-1)*((+T.opacity+1||2)-1)*((+n.getRGB(a.fill).o+1||2)-1),L=c(l(L,0),1),I.opacity=L,I.src&&(I.color="none")),z.appendChild(I),C=!1,(P=z.getElementsByTagName("stroke")&&z.getElementsByTagName("stroke")[0])||(C=P=M("stroke")),(a.stroke&&"none"!=a.stroke||a["stroke-width"]||null!=a["stroke-opacity"]||a["stroke-dasharray"]||a["stroke-miterlimit"]||a["stroke-linejoin"]||a["stroke-linecap"])&&(P.on=!0),"none"!=a.stroke&&null!==a.stroke&&null!=P.on&&0!=a.stroke&&0!=a["stroke-width"]||(P.on=!1),I=n.getRGB(a.stroke),P.on&&a.stroke&&(P.color=I.hex),L=((+T["stroke-opacity"]+1||2)-1)*((+T.opacity+1||2)-1)*((+I.o+1||2)-1),I=.75*(o(a["stroke-width"])||1),L=c(l(L,0),1),null==a["stroke-width"]&&(I=T["stroke-width"]),a["stroke-width"]&&(P.weight=I),I&&I<1&&(L*=I)&&(P.weight=1),P.opacity=L,a["stroke-linejoin"]&&(P.joinstyle=a["stroke-linejoin"]||"miter"),P.miterlimit=a["stroke-miterlimit"]||8,a["stroke-linecap"]&&(P.endcap="butt"==a["stroke-linecap"]?"flat":"square"==a["stroke-linecap"]?"square":"round"),a["stroke-dasharray"]&&(L={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},P.dashstyle=L[r](a["stroke-dasharray"])?L[a["stroke-dasharray"]]:""),C&&z.appendChild(P)),"text"==B.type){B.paper.canvas.style.display="",z=B.paper.span;var P=T.font&&T.font.match(/\d+(?:\.\d*)?(?=px)/);A=z.style,T.font&&(A.font=T.font),T["font-family"]&&(A.fontFamily=T["font-family"]),T["font-weight"]&&(A.fontWeight=T["font-weight"]),T["font-style"]&&(A.fontStyle=T["font-style"]),P=o(T["font-size"]||P&&P[0])||10,A.fontSize=100*P+"px",B.textpath.string&&(z.innerHTML=i(B.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>")),z=z.getBoundingClientRect(),B.W=T.w=(z.right-z.left)/100,B.H=T.h=(z.bottom-z.top)/100,B.X=T.x,B.Y=T.y+B.H/2,("x"in a||"y"in a)&&(B.path.v=n.format("m{0},{1}l{2},{1}",s(T.x*x),s(T.y*x),s(T.x*x)+1));for(var N=["x","y","text","font","font-family","font-weight","font-style","font-size"],D=0,F=N.length;D<F;D++)if(N[D]in a){B._.dirty=1;break}switch(T["text-anchor"]){case"start":B.textpath.style["v-text-align"]="left",B.bbx=B.W/2;break;case"end":B.textpath.style["v-text-align"]="right",B.bbx=-B.W/2;break;default:B.textpath.style["v-text-align"]="center",B.bbx=0}B.textpath.style["v-text-kern"]=!0}}function I(t,e){(this[0]=this.node=t).raphael=!0,this.id=n._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=n.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},e.bottom||(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null}n.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var M,S=function(t,e,r){t.attrs=t.attrs||{},t.attrs;var s=Math.pow,l="linear",c=".5 .5";if(t.attrs.gradient=e,e=(e=i(e).replace(n._radial_gradient,(function(t,e,n){return l="radial",e&&n&&(e=o(e),n=o(n),.25<s(e-.5,2)+s(n-.5,2)&&(n=a.sqrt(.25-s(e-.5,2))*(2*(.5<n)-1)+.5),c=e+f+n),""}))).split(/\s*\-\s*/),"linear"==l){var u=e.shift();if(u=-o(u),isNaN(u))return null}var h=n._parseDots(e);if(!h)return null;if(t=t.shape||t.node,h.length){t.removeChild(r),r.on=!0,r.method="none",r.color=h[0].color,r.color2=h[h.length-1].color;for(var d=[],p=0,m=h.length;p<m;p++)h[p].offset&&d.push(h[p].offset+f+h[p].color);r.colors=d.length?d.join():"0% "+r.color,"radial"==l?(r.type="gradientTitle",r.focus="100%",r.focussize="0 0",r.focusposition=c,r.angle=0):(r.type="gradient",r.angle=(270-u)%360),t.appendChild(r)}return 1},L=n.el;(I.prototype=L).constructor=I,L.transform=function(t){if(null==t)return this._.transform;var r,o=(u=this.paper._viewBoxShift)?"s"+[u.scale,u.scale]+"-1-1t"+[u.dx,u.dy]:"";u&&(r=t=i(t).replace(/\.{3}|\u2026/g,this._.transform||"")),n._extractTransform(this,o+t);var a=this.matrix.clone(),s=this.skew,l=this.node,c=~i(this.attrs.fill).indexOf("-"),u=!i(this.attrs.fill).indexOf("url(");return a.translate(1,1),u||c||"image"==this.type?(s.matrix="1 0 0 1",s.offset="0 0",o=a.split(),c&&o.noRotation||!o.isSimple?(l.style.filter=a.toFilter(),t=this.getBBox(),u=this.getBBox(1),c=t.x-u.x,u=t.y-u.y,l.coordorigin=c*-x+f+u*-x,e(this,1,1,c,u,0)):(l.style.filter="",e(this,o.scalex,o.scaley,o.dx,o.dy,o.rotate))):(l.style.filter="",s.matrix=i(a),s.offset=a.offset()),r&&(this._.transform=r),this},L.rotate=function(t,e,n){return this.removed?this:null!=t?((t=i(t).split(d)).length-1&&(e=o(t[1]),n=o(t[2])),t=o(t[0]),null==n&&(e=n),null!=e&&null!=n||(e=(r=this.getBBox(1)).x+r.width/2,n=r.y+r.height/2),this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,n]])),this):void 0;var r},L.translate=function(t,e){return this.removed||((t=i(t).split(d)).length-1&&(e=o(t[1])),t=o(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]]))),this},L.scale=function(t,e,n,r){return this.removed||((t=i(t).split(d)).length-1&&(e=o(t[1]),n=o(t[2]),r=o(t[3]),isNaN(n)&&(n=null),isNaN(r)&&(r=null)),t=o(t[0]),null==e&&(e=t),null==r&&(n=r),null!=n&&null!=r||(a=this.getBBox(1)),n=null==n?a.x+a.width/2:n,r=null==r?a.y+a.height/2:r,this.transform(this._.transform.concat([["s",t,e,n,r]])),this._.dirtyT=1),this;var a},L.hide=function(){return this.removed||(this.node.style.display="none"),this},L.show=function(){return this.removed||(this.node.style.display=""),this},L._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},L.remove=function(){if(!this.removed&&this.node.parentNode){for(var t in this.paper.__set__&&this.paper.__set__.exclude(this),n.eve.unbind("raphael.*.*."+this.id),n._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[t]="function"==typeof this[t]?n._removedFactory(t):null;this.removed=!0}},L.attr=function(t,e){if(this.removed)return this;if(null==t){var i,o={};for(i in this.attrs)this.attrs[r](i)&&(o[i]=this.attrs[i]);return o.gradient&&"none"==o.fill&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(null==e&&n.is(t,"string")){if(t==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=t.split(d),s={},l=0,c=a.length;l<c;l++)(t=a[l])in this.attrs?s[t]=this.attrs[t]:n.is(this.paper.customAttributes[t],"function")?s[t]=this.paper.customAttributes[t].def:s[t]=n._availableAttrs[t];return c-1?s:s[a[0]]}if(this.attrs&&null==e&&n.is(t,"array")){for(s={},l=0,c=t.length;l<c;l++)s[t[l]]=this.attr(t[l]);return s}var u,f;for(f in null!=e&&((u={})[t]=e),null==e&&n.is(t,"object")&&(u=t),u)p("raphael.attr."+f+"."+this.id,this,u[f]);if(u){for(f in this.paper.customAttributes)if(this.paper.customAttributes[r](f)&&u[r](f)&&n.is(this.paper.customAttributes[f],"function")){var m,g=this.paper.customAttributes[f].apply(this,[].concat(u[f]));for(m in this.attrs[f]=u[f],g)g[r](m)&&(u[m]=g[m])}u.text&&"text"==this.type&&(this.textpath.string=u.text),C(this,u)}return this},L.toFront=function(){return this.removed||this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&n._tofront(this,this.paper),this},L.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),n._toback(this,this.paper)),this},L.insertAfter=function(t){return this.removed||(t.constructor==n.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),n._insertafter(this,t,this.paper)),this},L.insertBefore=function(t){return this.removed||(t.constructor==n.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),n._insertbefore(this,t,this.paper)),this},L.blur=function(t){var e=this.node.runtimeStyle,r=(r=e.filter).replace(y,"");return 0!=+t?(this.attrs.blur=t,e.filter=r+f+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+t||1.5)+")",e.margin=n.format("-{0}px 0 0 -{0}px",s(+t||1.5))):(e.filter=r,e.margin=0,delete this.attrs.blur),this},n._engine.path=function(t,e){var n=M("shape");n.style.cssText=_,n.coordsize=x+f+x,n.coordorigin=e.coordorigin;var r=new I(n,e),i={fill:"none",stroke:"#000"};return t&&(i.path=t),r.type="path",r.path=[],r.Path="",C(r,i),e.canvas.appendChild(n),(e=M("skew")).on=!0,n.appendChild(e),r.skew=e,r.transform(""),r},n._engine.rect=function(t,e,r,i,o,a){var s=n._rectPath(e,r,i,o,a),l=t.path(s);return t=l.attrs,l.X=t.x=e,l.Y=t.y=r,l.W=t.width=i,l.H=t.height=o,t.r=a,t.path=s,l.type="rect",l},n._engine.ellipse=function(t,e,n,r,i){return(t=t.path()).attrs,t.X=e-r,t.Y=n-i,t.W=2*r,t.H=2*i,t.type="ellipse",C(t,{cx:e,cy:n,rx:r,ry:i}),t},n._engine.circle=function(t,e,n,r){return(t=t.path()).attrs,t.X=e-r,t.Y=n-r,t.W=t.H=2*r,t.type="circle",C(t,{cx:e,cy:n,r:r}),t},n._engine.image=function(t,r,i,o,a,s){var l=n._rectPath(i,o,a,s),c=t.path(l).attr({stroke:"none"}),u=c.attrs,d=c.node;return t=d.getElementsByTagName(h)[0],u.src=r,c.X=u.x=i,c.Y=u.y=o,c.W=u.width=a,c.H=u.height=s,u.path=l,c.type="image",t.parentNode==d&&d.removeChild(t),t.rotate=!0,t.src=r,t.type="tile",c._.fillpos=[i,o],c._.fillsize=[a,s],d.appendChild(t),e(c,1,1,0,0,0),c},n._engine.text=function(t,e,r,o){var a=M("shape"),l=M("path"),c=M("textpath");e=e||0,r=r||0,o=o||"",l.v=n.format("m{0},{1}l{2},{1}",s(e*x),s(r*x),s(e*x)+1),l.textpathok=!0,c.string=i(o),c.on=!0,a.style.cssText=_,a.coordsize=x+f+x,a.coordorigin="0 0";var u=new I(a,t),h={fill:"#000",stroke:"none",font:n._availableAttrs.font,text:o};return u.shape=a,u.path=l,u.textpath=c,u.type="text",u.attrs.text=i(o),u.attrs.x=e,u.attrs.y=r,u.attrs.w=1,u.attrs.h=1,C(u,h),a.appendChild(c),a.appendChild(l),t.canvas.appendChild(a),(t=M("skew")).on=!0,a.appendChild(t),u.skew=t,u.transform(""),u},n._engine.setSize=function(t,e){var r=this.canvas.style;return(this.width=t)==+t&&(t+="px"),(this.height=e)==+e&&(e+="px"),r.width=t,r.height=e,r.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&n._engine.setViewBox.apply(this,this._viewBox),this},n._engine.setViewBox=function(t,e,r,i,o){n.eve("raphael.setViewBox",this,this._viewBox,[t,e,r,i,o]);var a,s=this.width,c=this.height,u=1/l(r/s,i/c);return o&&(r*(a=c/i)<s&&(t-=(s-r*a)/2/a),i*(s/=r)<c&&(e-=(c-i*s)/2/s)),this._viewBox=[t,e,r,i,!!o],this._viewBoxShift={dx:-t,dy:-e,scale:u},this.forEach((function(t){t.transform("...")})),this},n._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{e.namespaces.rvml||e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),M=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){M=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},n._engine.initWin(n._g.win),n._engine.create=function(){var t=(l=n._getContainer.apply(0,arguments)).container,e=l.height,r=l.width,i=l.x,o=l.y;if(!t)throw new Error("VML container not found.");var a=new n._Paper,s=a.canvas=n._g.doc.createElement("div"),l=s.style;return i=i||0,o=o||0,r=r||512,e=e||342,(a.width=r)==+r&&(r+="px"),(a.height=e)==+e&&(e+="px"),a.coordsize=216e5+f+216e5,a.coordorigin="0 0",a.span=n._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",s.appendChild(a.span),l.cssText=n.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,e),1==t?(n._g.doc.body.appendChild(s),l.left=i+"px",l.top=o+"px",l.position="absolute"):t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),a.renderfix=function(){},a},n.prototype.clear=function(){n.eve("raphael.clear",this),this.canvas.innerHTML="",this.span=n._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},n.prototype.remove=function(){for(var t in n.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?n._removedFactory(t):null;return!0};var z,T=n.st;for(z in L)L[r](z)&&!T[r](z)&&(T[z]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t].apply(n,e)}))}}(z))}}(),h.was?u.win.Raphael=n:t.Raphael=n}(c=this,c.eve),function(t){var e={};(function(){var t,e,n,r,i,o,a,s,l,c,u,h=this||Function("return this")(),d=function(){"use strict";var t,e,n,r,i,o="linear",a=Date.now||function(){return+new Date},s="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:a;function l(){}function c(t,e){for(var n in t)Object.hasOwnProperty.call(t,n)&&e(n)}function u(t,e){return c(e,(function(n){t[n]=e[n]})),t}function d(t,e){c(e,(function(n){void 0===t[n]&&(t[n]=e[n])}))}function p(e,n,r,i,o,a,s){var l,c,u=e<a?0:(e-a)/o;for(l in n)n.hasOwnProperty(l)&&(c="function"==typeof(c=s[l])?c:t[c],n[l]=f(r[l],i[l],c,u));return n}function f(t,e,n,r){return t+(e-t)*n(r)}function m(t,e){var n=v.prototype.filter,r=t._filterArgs;c(n,(function(i){void 0!==n[i][e]&&n[i][e].apply(t,r)}))}function g(t,e,o,a,l,c,u,h,d,f,g){i=e+o+a,n=Math.min(g||s(),i),r=i<=n,i=a-(i-n),t.isPlaying()&&(r?(d(u,t._attachment,i),t.stop(!0)):(t._scheduleId=f(t._timeoutHandler,1e3/60),m(t,"beforeTween"),n<e+o?p(1,l,c,u,1,1,h):p(n,l,c,u,a,e+o,h),m(t,"afterTween"),d(l,t._attachment,i)))}function y(t,e){var n={},r=typeof e;return c(t,"string"==r||"function"==r?function(t){n[t]=e}:function(t){n[t]||(n[t]=e[t]||o)}),n}function v(t,n){this._currentState=t||{},this._configured=!1,this._scheduleFunction=e,void 0!==n&&this.setConfig(n)}return e="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,v.prototype.tween=function(t){return this._isTweening?this:(void 0===t&&this._configured||this.setConfig(t),this._timestamp=s(),this._start(this.get(),this._attachment),this.resume())},v.prototype.setConfig=function(t){t=t||{},this._configured=!0,this._attachment=t.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=t.delay||0,this._start=t.start||l,this._step=t.step||l,this._finish=t.finish||l,this._duration=t.duration||500,this._currentState=u({},t.from||this.get()),this._originalState=this.get(),this._targetState=u({},t.to||this.get());var e=this;this._timeoutHandler=function(){g(e,e._timestamp,e._delay,e._duration,e._currentState,e._originalState,e._targetState,e._easing,e._step,e._scheduleFunction)};var n=this._currentState,r=this._targetState;return d(r,n),this._easing=y(n,t.easing||o),this._filterArgs=[n,this._originalState,r,this._easing],m(this,"tweenCreated"),this},v.prototype.get=function(){return u({},this._currentState)},v.prototype.set=function(t){this._currentState=t},v.prototype.pause=function(){return this._pausedAtTime=s(),this._isPaused=!0,this},v.prototype.resume=function(){return this._isPaused&&(this._timestamp+=s()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},v.prototype.seek=function(t){t=Math.max(t,0);var e=s();return this._timestamp+t===0||(this._timestamp=e-t,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,g(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,e),this.pause())),this},v.prototype.stop=function(t){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=l,(h.cancelAnimationFrame||h.webkitCancelAnimationFrame||h.oCancelAnimationFrame||h.msCancelAnimationFrame||h.mozCancelRequestAnimationFrame||h.clearTimeout)(this._scheduleId),t&&(m(this,"beforeTween"),p(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),m(this,"afterTween"),m(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},v.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},v.prototype.setScheduleFunction=function(t){this._scheduleFunction=t},v.prototype.dispose=function(){for(var t in this)this.hasOwnProperty(t)&&delete this[t]},v.prototype.filter={},t=v.prototype.formula={linear:function(t){return t}},u(v,{now:s,each:c,tweenProps:p,tweenProp:f,applyFilter:m,shallowCopy:u,defaults:d,composeEasingObject:y}),"function"==typeof SHIFTY_DEBUG_NOW&&(h.timeoutHandler=g),h.Tweenable=v}();function p(t){e.each(t,(function(e){var n=t[e];"string"==typeof n&&n.match(s)&&(t[e]=g(s,n,f))}))}function f(t){return"rgb("+(t=function(t){return 3===(t=t.replace(/#/,"")).length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),c[0]=m(t.substr(0,2)),c[1]=m(t.substr(2,2)),c[2]=m(t.substr(4,2)),c}(t))[0]+","+t[1]+","+t[2]+")"}function m(t){return parseInt(t,16)}function g(t,e,n){var r=e.match(t),i=e.replace(t,l);if(r)for(var o,a=r.length,s=0;s<a;s++)o=r.shift(),i=i.replace(l,n(o));return i}function y(t){for(var e=t.match(i),n=e.length,r=t.match(a)[0],o=0;o<n;o++)r+=parseInt(e[o],10)+",";return r.slice(0,-1)+")"}function v(t,n){e.each(n,(function(e){for(var r=x(t[e]),i=r.length,o=0;o<i;o++)t[n[e].chunkNames[o]]=+r[o];delete t[e]}))}function _(t,n){e.each(n,(function(e){var r=t[e],i=function(t,e){u.length=0;for(var n=e.length,r=0;r<n;r++)u.push(t[e[r]]);return u}(function(t,e){for(var n,r={},i=e.length,o=0;o<i;o++)r[n=e[o]]=t[n],delete t[n];return r}(t,n[e].chunkNames),n[e].chunkNames);r=function(t,e){for(var n=t,r=e.length,i=0;i<r;i++)n=n.replace(l,+e[i].toFixed(4));return n}(n[e].formatString,i),t[e]=g(o,r,y)}))}function x(t){return t.match(i)}d.shallowCopy(d.prototype.formula,{easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInQuint:function(t){return Math.pow(t,5)},easeOutQuint:function(t){return Math.pow(t-1,5)+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){return t*t*(2.70158*t-1.70158)},easeOutBack:function(t){return--t*t*(2.70158*t+1.70158)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},swingFromTo:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},swingFrom:function(t){return t*t*(2.70158*t-1.70158)},swingTo:function(t){return--t*t*(2.70158*t+1.70158)+1},bounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},easeFromTo:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeFrom:function(t){return Math.pow(t,4)},easeTo:function(t){return Math.pow(t,.25)}}),d.setBezierFunction=function(t,e,n,r,i){var o,a,s,l,c=(o=e,a=n,s=r,l=i,function(t){return function(t,e,n,r,i,o){var a,s,l,c,u=0,h=0,d=0;function p(t){return((u*t+h)*t+d)*t}function f(t){return 0<=t?t:0-t}return u=1-(d=3*e)-(h=3*(r-e)-d),s=1-(c=3*n)-(l=3*(i-n)-c),a=function(t,e){var n,r,i,o,a,s;for(i=t,s=0;s<8;s++){if(f(o=p(i)-t)<e)return i;if(f(a=(3*u*i+2*h)*i+d)<1e-6)break;i-=o/a}if((i=t)<(n=0))return n;if((r=1)<i)return r;for(;n<r;){if(f((o=p(i))-t)<e)return i;o<t?n=i:r=i,i=.5*(r-n)+n}return i}(t,a=.005),((s*a+l)*a+c)*a}(t,o,a,s,l)});return c.displayName=t,c.x1=e,c.y1=n,c.x2=r,c.y2=i,d.prototype.formula[t]=c},d.unsetBezierFunction=function(t){delete d.prototype.formula[t]},(t=new d)._filterArgs=[],d.interpolate=function(e,n,r,i,o){var a=d.shallowCopy({},e),s=o||0;return o=d.composeEasingObject(e,i||"linear"),t.set({}),(i=t._filterArgs).length=0,i[0]=a,i[1]=e,i[2]=n,i[3]=o,d.applyFilter(t,"tweenCreated"),d.applyFilter(t,"beforeTween"),e=e,a=a,n=n,r=r,o=o,s=s,o=d.tweenProps(r,a,e,n,1,s,o),d.applyFilter(t,"afterTween"),o},e=d,n=/(\d|\-|\.)/,r=/([^\-0-9\.]+)/g,i=/[0-9.\-]+/g,o=new RegExp("rgb\\("+i.source+/,\s*/.source+i.source+/,\s*/.source+i.source+"\\)","g"),a=/^.*\(/,s=/#([0-9]|[a-f]){3,6}/gi,l="VAL",c=[],u=[],e.prototype.filter.token={tweenCreated:function(t,i,o,a){p(t),p(i),p(o),this._tokenData=function(t){var i={};return e.each(t,(function(e){var o,a,s=t[e];"string"==typeof s&&(o=x(s),i[e]={formatString:((s=(a=s).match(r))?1!==s.length&&!a.charAt(0).match(n)||s.unshift(""):s=["",""],s.join(l)),chunkNames:function(t,e){for(var n=[],r=t.length,i=0;i<r;i++)n.push("_"+e+"_"+i);return n}(o,e)})})),i}(t)},beforeTween:function(t,n,r,i){var o,a;o=i,a=this._tokenData,e.each(a,(function(t){var e=a[t].chunkNames,n=e.length,r=o[t];if("string"==typeof r)for(var i=r.split(" "),s=i[i.length-1],l=0;l<n;l++)o[e[l]]=i[l]||s;else for(l=0;l<n;l++)o[e[l]]=r;delete o[t]})),v(t,this._tokenData),v(n,this._tokenData),v(r,this._tokenData)},afterTween:function(t,n,r,i){var o,a;_(t,this._tokenData),_(n,this._tokenData),_(r,this._tokenData),o=i,a=this._tokenData,e.each(a,(function(t){var e=a[t].chunkNames,n=e.length,r=o[e[0]];if("string"==typeof r){for(var i="",s=0;s<n;s++)i+=" "+o[e[s]],delete o[e[s]];o[t]=i.substr(1)}else o[t]=r}))}}}).call(null),function(t,e){t=t||"docReady",e=e||window;var n=[],r=!1,i=!1;function o(){if(!r){r=!0;for(var t=0;t<n.length;t++)n[t].fn.call(window,n[t].ctx);n=[]}}function a(){"complete"===document.readyState&&o()}e[t]=function(t,e){r?setTimeout((function(){t(e)}),1):(n.push({fn:t,ctx:e}),"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(o,1):i||(document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",a),window.attachEvent("onload",o)),i=!0))}}("docReady",e),function(t,e,n){void 0!==t&&void 0!==t.log||((t={}).log=function(){}),"function"!=typeof e.create&&(e.create=function(t){function e(){}return e.prototype=t,new e}),n.prototype.forEach||(n.prototype.forEach=function(t,e){for(var n=0,r=this.length;n<r;++n)t.call(e,this[n],n,this)})}(window.console,window.Object,window.Array),Object.size=function(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n};var n=function(){var t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera\sMini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}};function e(t,e){var n=t[0],r=t[1],i=Raphael.transformPath("M"+n+","+r,e).toString(),o=/M(-?\d+.?\d*),(-?\d+.?\d*)/.exec(i);return[o[1],o[2]]}function r(t){return Math.min.apply(Math,t)}function i(t){return Math.max.apply(Math,t)}return{min:r,max:i,addEvent:function(t,e,n){t.attachEvent?(t["e"+e+n]=n,t[e+n]=function(){t["e"+e+n](window.event)},t.attachEvent("on"+e,t[e+n])):t.addEventListener(e,n,!1)},isMobile:t,linePath:function(t,e,n,r){return"M"+t+" "+e+" L"+n+" "+r},clone:function t(e){if("object"!=typeof e||null===e)return e;var n=e.constructor();for(var r in e)n[r]=t(e[r]);return n},isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},findPos:function(t){function e(t,e){if(t.currentStyle)var n=t.currentStyle[e];else window.getComputedStyle&&(n=window.getComputedStyle(t,null)[e]);return n}var n=e(document.body,"position");"relative"==n&&(document.body.style.position="static"),e(document.body,"position");for(var r,i,o=r=0,a=t,s=!1;(a=a.parentNode)&&a!=document.body;)o-=a.scrollLeft||0,r-=a.scrollTop||0,"fixed"==e(a,"position")&&(s=!0);if(s&&!window.opera){var l=(i=document.getElementsByTagName("html")[0]).scrollTop&&document.documentElement.scrollTop?[i.scrollLeft,i.scrollTop]:i.scrollTop||document.documentElement.scrollTop?[i.scrollLeft+document.documentElement.scrollLeft,i.scrollTop+document.documentElement.scrollTop]:document.body.scrollTop?[document.body.scrollLeft,document.body.scrollTop]:[0,0];o+=l[0],r+=l[1]}do{o+=t.offsetLeft,r+=t.offsetTop}while(t=t.offsetParent);return document.body.style.position=n,[o,r]},replaceAll:function(t,e,n){return t.replace(new RegExp(e,"g"),n)},rotate_bbox:function(t,n){var o=[t.x,t.y],a=[t.x2,t.y],s=[t.x,t.y2],l=[t.x2,t.y2],c=e(o,n),u=e(a,n),h=e(s,n),d=e(l,n),p=[c[0],u[0],h[0],d[0]],f=[c[1],u[1],h[1],d[1]],m=r(p),g=i(p),y=r(f),v=i(f);return{x:m,y:y,x2:g,y2:v,width:g-m,height:v-y}},rotate:e,bbox_union:function(t){for(var e=[],r=[],i=[],o=[],a=0;a<t.length;a++){var s=t[a];e.push(s.x),r.push(s.x2),o.push(s.y),i.push(s.y2)}var l=n.min(e),c=n.max(r),u=n.min(o),h=n.max(i);return{x:l,x2:c,y:u,y2:h,width:c-l,height:h-u}},distance:function(t,e){var n=t.x,r=t.y,i=e.x-n,o=e.y-r;return Math.sqrt(o*o+i*i)},x_in_array:function(t,e){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},clear_sets:function(t){for(var e=0;e<t.length;e++){var n=t[e];n.forEach((function(t){t.remove()})),n.splice(0,n.length)}},delete_element:function(t){t.parentNode&&t.parentNode.removeChild(t)},to_float:function(t){var e=parseFloat(t);return!isNaN(e)&&e},callback_closure:function(t,e){return function(){return e(t)}},new_style:function(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("style");return n.type="text/css",n.media="screen",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n),n}}}(),r=!!window[t+"_mapdata"]&&window[t+"_mapdata"],i=!!window[t+"_mapinfo"]&&window[t+"_mapinfo"],o=t.substring(0,t.length-3).replace("simplemaps_",""),a=!0,s=!1,l=[],c="m2.158.263h5.684c1.05 0 1.895.845 1.895 1.895v5.684c0 1.05-.845 1.895-1.895 1.895h-5.684c-1.05 0-1.895-.845-1.895-1.895v-5.684c0-1.05.845-1.895 1.895-1.895z",u={mapdata:r,mapinfo:i,load:h,hooks:n.clone({over_state:!1,over_region:!1,over_location:!1,out_state:!1,out_region:!1,out_location:!1,click_state:!1,click_region:!1,click_location:!1,close_popup:!1,zoomable_click_state:!1,zoomable_click_region:!1,complete:!1,refresh_complete:!1,zooming_complete:!1,back:!1,ready:!1,click_xy:!1}),plugin_hooks:n.clone({over_state:[],over_region:[],over_location:[],out_state:[],out_region:[],out_location:[],click_state:[],click_region:[],click_location:[],preclick_state:[],preclick_region:[],preclick_location:[],close_popup:[],zoomable_click_state:[],zoomable_click_region:[],complete:[],refresh_complete:[],zooming_complete:[],back:[],ready:[],click_xy:[]}),copy:function(){var t={mapdata:n.clone(this.mapdata),mapinfo:n.clone(this.mapinfo),hooks:n.clone(this.hooks),plugin_hooks:n.clone(this.plugin_hooks),copy:this.copy,load:h};return l.push(t),t},create:function(){var e={mapdata:!!window[t+"_mapdata"]&&n.clone(window[t+"_mapdata"]),mapinfo:!!window[t+"_mapinfo"]&&n.clone(window[t+"_mapinfo"]),hooks:n.clone(this.hooks),plugin_hooks:n.clone(this.plugin_hooks),copy:this.copy,load:h};return l.push(e),e},mobile_device:!!n.isMobile.any(),loaded:!1};function h(){var t=this,r=t.mapdata,i=t.mapinfo;if(r&&i){var l,u,h,d,p,f,m,g,y,v,_,x,b,w,k,C,I,M,S,L,z,T,A,E,R,B,P,N,D,F,j,U,q,O,$,H,V,X,Y,W,G,Z,Q,J,K,tt,et,nt,rt,it,ot,at=t.hooks,st=t.plugin_hooks,lt=void 0===r.main_settings.div?"map":r.main_settings.div;if(!document.getElementById(lt))return console.log("Can't find target for map #"+lt+".  Check mapdata.main_settings.div"),!1;var ct,ut,ht,dt,pt,ft,mt,gt,yt,vt,_t,xt,bt,wt,kt,Ct,It,Mt,St,Lt,zt,Tt,At,Et,Rt,Bt,Pt,Nt,Dt,Ft,jt,Ut,qt,Ot,$t,Ht,Vt,Xt,Yt,Wt,Gt,Zt,Qt,Jt,Kt,te,ee,ne,re,ie,oe,ae,se,le,ce,ue,he,de,pe,fe,me,ge,ye,ve,_e,xe,be,we,ke,Ce,Ie,Me,Se,Le,ze,Te,Ae,Ee,Re,Be,Pe,Ne=!1,De=!1,Fe=!1,je=!1,Ue=!1,qe=!1,Oe=!1,$e=!1,He=!1,Ve={triangle:"M -0.57735,.3333 .57735,.3333 0,-.6666 Z",diamond:"M 0,-0.5 -0.4,0 0,0.5 0.4,0 Z",marker:"m-.015-.997c-.067 0-.13.033-.18.076-.061.054-.099.136-.092.219-.0001.073.034.139.068.201.058.104.122.206.158.32.021.058.039.117.058.175.006.009.011-.004.011-.009.037-.125.079-.249.144-.362.043-.08.095-.157.124-.244.022-.075.016-.161-.026-.229-.048-.08-.134-.136-.227-.146-.013-.0001-.027-.0001-.04-.0001z",heart:"m-.275-.5c-.137.003-.257.089-.3.235-.073.379.348.539.58.765.202-.262.596-.33.576-.718-.017-.086-.065-.157-.13-.206-.087-.066-.208-.089-.311-.05-.055.02-.106.053-.143.098-.065-.081-.169-.127-.272-.125",star:"m0-.549c-.044.126-.084.252-.125.379-.135.0001-.271.0001-.405.002.108.078.216.155.323.233-.002.029-.016.057-.023.085-.032.099-.066.199-.097.298.049-.031.095-.068.143-.101.062-.044.124-.089.185-.133.109.077.216.158.326.233-.04-.127-.082-.253-.123-.379.109-.079.219-.156.327-.236-.135-.0001-.27-.002-.405-.003-.042-.126-.081-.252-.125-.377"},Xe=function(t,e,n,r){null==n&&(n=!1),null==r&&(r=!1),r||(r="over"==e?t.sm.over_attributes:"adjacent"==e?t.sm.adjacent_attributes:t.sm.attributes),!n||t.sm.image?t.attr(r):t.animate(r,j)},Ye=function(t,e,r){if(null==r&&(r=!1),"state"==r)var i=t.sm.parent;else i="region"==r?me[t.sm.parent.sm.region]:$n(t.sm.parent);var o;if(o="over"==e?n.clone(i.sm.over_attributes):"adjacent"==e?n.clone(i.sm.adjacent_attributes):n.clone(i.sm.attributes),i.sm.image&&"state"==i.sm.type){var a=te[i.sm.id];o.fill="over"==e?a.hover_color:a.color}Xe(t,e,!1,o)},We=!1,Ge=function(t,e){if(t){var r=!!(t.sm.image||ct&&v);if(Pe.hide(),Hn(t))t.sm.ignore_hover||t.animate(t.sm.attributes,j,i),t.animate(t.sm.adjacent_attributes,j,i),Vn(t,"out",!0);else{if(nt&&"location"==t.sm.type&&"image"==t.sm.shape_type)return;if(!t||!t.sm)return;t.sm.ignore_hover||(r?(t.attr(t.sm.attributes),i()):t.animate(t.sm.attributes,j,i)),Vn(t,"out")}}else e();function i(){n.isFunction(e)&&e()}},Ze=!1,Qe=!1,Je=function(){zn()},Ke=!1,tn=function(t,e){if(!Ke||t||e){Ke=!0;var r=function(e){var r=rt?event.clientX+document.documentElement.scrollLeft:e.pageX,i=rt?event.clientY+document.documentElement.scrollTop:e.pageY,o=n.findPos(pt),a=o[0],s=o[1],l=ge.sm.zooming_dimensions,c=l.r*_t/bt,u=l.r*xt/bt,h=l.x/bt+c*(r-a)/_t,d=l.y/bt+u*(i-s)/xt,p="You clicked on\nx: "+(h=Math.round(1e5*h)/1e5)+",\ny: "+(d=Math.round(1e5*d)/1e5)+",";t&&console.log(p),hn("click_xy",[{x:h,y:d}])};e||Ut.click(r),Vt.click(r)}},en=function(){tn(!0)},nn=function(t){(at.click_xy||st.click_xy.length>0)&&tn(!1,t)},rn=function(t){var e=t.sm.type;"state"==e&&hn("over_state",[t.sm.id]),"location"==e&&hn("over_location",[t.sm.id]),"region"==e&&hn("over_region",[t.sm.id])},on=function(t){var e=t.sm.type;"state"==e&&hn("out_state",[t.sm.id]),"location"==e&&hn("out_location",[t.sm.id]),"region"==e&&hn("out_region",[t.sm.id])},an=function(t,e){var n=t.sm.type;"state"==n&&hn("click_state",[t.sm.id,e]),"region"==n&&hn("click_region",[t.sm.id,e]),"location"==n&&hn("click_location",[t.sm.id,e])},sn=function(t,e){var n=t.sm.type;"state"==n&&hn("preclick_state",[t.sm.id,e]),"region"==n&&hn("preclick_region",[t.sm.id,e]),"location"==n&&hn("preclick_location",[t.sm.id,e])},ln=function(t,e){var n=t.sm.type;"state"==n&&hn("zoomable_click_state",[t.sm.id,e]),"region"==n&&hn("zoomable_click_region",[t.sm.id,e])},cn=!1,un=(cn=!1,!1);un=!1,mr(),Kn()}else console.log("The mapdata or mapinfo object is missing or corrupted.");function hn(e,n){(o=at[e])&&o.apply(null,n);for(var r=t.plugin_hooks[e],i=0;i<r.length;i++){var o;(o=r[i])&&o.apply(null,n)}}function dn(){S=!(!p.background_image_url||"no"==p.background_image_url)&&p.background_image_url,L=!!p.background_image_bbox&&p.background_image_bbox,$="yes"==p.background_transparent?0:1,V=p.label_size?p.label_size:22,p.label_color&&p.label_color,X="yes"==p.url_new_tab,Y=p.location_opacity?p.location_opacity:1,p.js_hooks,W=p.border_size?p.border_size:1.5,G=p.popup_color?p.popup_color:"#ffffff",B=p.popup_orientation?p.popup_orientation:"auto",R=p.popup_centered?p.popup_centered:"auto",Q=p.popup_opacity?p.popup_opacity:.9,J=p.popup_shadow>-1?p.popup_shadow:1,K=p.popup_corners?p.popup_corners:5,tt="yes"==p.popup_nocss,Z=!!p.popup_maxwidth&&p.popup_maxwidth,et=p.popup_font?p.popup_font:"12px/1.5 Verdana, Arial, Helvetica, sans-serif",H="no"!=p.zoom_out_incrementally,O=p.adjacent_opacity?p.adjacent_opacity:.3,z=p.zoom_time?p.zoom_time:.5,A=p.zoom_increment?p.zoom_increment:2,T="no"!=p.zoom_mobile,j=p.fade_time?1e3*p.fade_time:200,q=r.labels,E=p.custom_shapes?p.custom_shapes:{},N=!(!p.initial_back||"no"==p.initial_back)&&p.initial_back,U="yes"==p.hide_eastern_labels,D=p.link_text?p.link_text:"View Website",!!p.order_number&&p.order_number,P=p.zoom_percentage?p.zoom_percentage:.99}function pn(t){return"on_click"==t||!("detect"!=t||!ct)}function fn(t){return"off"==t}function mn(t){if(ft.style.width="",mt.style.width="",_?((_t=ft.offsetWidth)<1&&(_t=ft.parentNode.offsetWidth),mt.style.width=_t+"px"):(_t=void 0===p.width?800:p.width,ft.style.width=_t+"px"),_t*=1,i.calibrate?((Ct={}).x=-1*i.calibrate.x_adjust,Ct.y=-1*i.calibrate.y_adjust,Ct.x2=Ct.x+i.calibrate.width,Ct.y2=(Ct.x2-Ct.x)/i.calibrate.ratio):Ct=i.initial_view,wt=Ct.x2-Ct.x,kt=Ct.y2-Ct.y,xt=_t/(St=wt/kt),It=wt/1e3,pt.style.height=xt+"px",!t){if(bt=_t/wt,Mt=1,y){var e=[];for(var r in i.state_bbox_array){var o=i.state_bbox_array[r];e.push(o)}var a=n.bbox_union(e),s=.5*(a.x2+a.x)*bt,l=.5*(a.y2+a.y)*bt;vt="r"+y+","+s+","+l;var c=n.rotate_bbox(Ct,vt);wt=c.width,kt=c.height}Pt="s"+bt+","+bt+",0,0",Bt=y?Pt+vt:Pt}}function gn(){if(a)if(location.hostname.match("simplemaps.com"))a=!1;else{if(De){if(Math.random()>.05)return;n.delete_element(De)}(De=document.createElement("div")).className="copyright";var t=s?"20px":"5px";De.style.cssText="overflow: visible !important; clip-path: none !important; display:none !important; opacity:1 !important; transform: none !important; visibility: visible !important; z-index: 1 !important; right: 5px !important; bottom:"+t+" !important; z-index: 1 !important; position: absolute !important; filter: opacity(1) !important;",pt.appendChild(De),De.innerHTML='<a style="overflow: visible !important; clip-path: none !important; opacity: 1 !important;  filter: opacity(1) !important; transform: none !important; display: block !important; visibility: visible !important; font: 18px Verdana, Arial, Helvetica, sans-serif !important; cursor: pointer !important; font-weight: bold !important; float: right !important; color: #000000 !important; text-decoration: none !important;" href="https://simplemaps.com" title="For evaluation use only.">Simplemaps.com Trial</a>',503!=De.innerHTML.length&&(pt.innerHTML="")}}function yn(){var e,n,r=p.navigation_color?p.navigation_color:"#f7f7f7",i=p.navigation_border_color?p.navigation_border_color:"#636363",o=p.navigation_opacity?p.navigation_opacity:.8,a=p.arrow_color?p.arrow_color:r,s=p.arrow_color_border?p.arrow_color_border:i,u=p.arrow_border_color?p.arrow_border_color:s,h=void 0===p.navigation_size?40:p.navigation_size,d=void 0===p.navigation_size_mobile?ht*h:p.navigation_size_mobile,f=ct?d:h,m="yes"==p.arrow_box?1:0,g=f*=1,y=.1*f,_=f/10;!function(){Yt=Lt.set();var s=f,h=f;if(l){var d=new Image;d.onload=function(){e=d.width,n=d.height,p()},d.src=l}else p();function p(){if(l){var d=(Xt=Raphael(dt,e,n)).image(l,0,0,e,n);g=n,d.attr({cursor:"pointer"}),Yt.push(d),Yt.click(Re)}else{var p=(Xt=Raphael(dt,s,h)).path(c).attr({fill:a,"stroke-width":1,stroke:u,"stroke-opacity":m,"fill-opacity":0,cursor:"pointer"}),w={stroke:u,"stroke-width":1.5,"stroke-opacity":1,fill:a,"fill-opacity":1,cursor:"pointer"},C=Xt.path("m7.07 8.721c2.874-1.335 2.01-5.762-2.35-5.661v-1.778l-3.445 2.694 3.445 2.843v-1.818c3.638-.076 3.472 2.802 2.35 3.721z").attr(w);(Yt=Lt.set()).push(p,C);var I="S"+_+","+_+",0,0 T0,0";Yt.transform(I)}N||Yt.hide(),dt.style.left=y+"px",dt.style.top=y+"px",v&&function(){Zt=Raphael(gt,f,2*f+y);var e=c,n=Zt.path(e).attr({fill:r,"stroke-width":1,stroke:i,"stroke-opacity":1,"fill-opacity":o,cursor:"pointer"}),a=Zt.path("m4.8 1.5c-.111 0-.2.089-.2.2v3h-2.9c-.111 0-.2.134-.2.3 0 .166.089.3.2.3h2.9v3c0 .111.089.2.2.2h.2c.111 0 .2-.089.2-.2v-3h3.1c.111 0 .2-.134.2-.3 0-.166-.089-.3-.2-.3h-3.1v-3c0-.111-.089-.2-.2-.2z").attr({"stroke-width":0,"stroke-opacity":0,fill:i,"fill-opacity":1,opacity:1,cursor:"pointer"});(Wt=Lt.set()).push(n,a);var s="S"+_+","+_+",0,0 T0,0";Wt.transform(s);var l=Zt.path(e).attr({fill:r,"stroke-width":1,stroke:i,"stroke-opacity":1,"fill-opacity":o,cursor:"pointer"}),u=Zt.path("m1.8 4.7h6.6c.111 0 .2.134.2.3 0 .166-.089.3-.2.3h-6.6c-.111 0-.2-.134-.2-.3 0-.166.089-.3.2-.3").attr({"stroke-width":0,"stroke-opacity":0,fill:i,"fill-opacity":1,opacity:1,cursor:"pointer"});function h(t,e){if(void 0===e&&(e="z"),k&&"region"!=k.sm.type)ze.call(k,!0,(function(){k=!1,h(t)}));else{if("z"==e&&!function(t){var e=ge.sm.zooming_dimensions.w/t,n=t<1;if(-1!=x&&("manual"==ge.sm.type||b)){var r=me[x].sm.zooming_dimensions.w;if(n&&e>r-1&&(Rn(ge,me[x])||b))return Tn(me[x]),!1}return!(n&&e>me[-1].sm.zooming_dimensions.w-1&&(b||Tn(me[-1]),1))}(t))return;var n={sm:{type:"manual",zp:1}};he&&((ge={sm:{type:"manual",zp:1}}).sm.zooming_dimensions=de,ge.sm.bbox={x:de.x/bt,y:de.y/bt,width:de.w/bt,height:de.h/bt});var r=function(t,e){var n=ge.sm.zooming_dimensions.w,r=ge.sm.zooming_dimensions.h,i=ge.sm.zooming_dimensions.x,o=ge.sm.zooming_dimensions.y;return"x"==e?i=ge.sm.zooming_dimensions.x+ge.sm.zooming_dimensions.w*t:"y"==e?o=ge.sm.zooming_dimensions.y+ge.sm.zooming_dimensions.h*t:(n=ge.sm.zooming_dimensions.w/t,r=ge.sm.zooming_dimensions.h/t,i=ge.sm.zooming_dimensions.x+(ge.sm.zooming_dimensions.w-n)/2,o=ge.sm.zooming_dimensions.y+(ge.sm.zooming_dimensions.h-r)/2),{x:i,y:o,w:n,h:r,r:n/(wt*bt)}}(t,e);if(!r)return;n.sm.zooming_dimensions=r,Tn(n)}}(Gt=Lt.set()).push(l,u),s="S"+_+","+_+",0,0 T0,"+(f+y),Gt.transform(s),gt.style.top=g+2*y+"px",gt.style.left=y+"px",(Gt=Lt.set()).push(l,u),Qt=function(){h(A)},Kt=function(t,e){h(t,e)},Jt=function(){h(1/A)},t.zoom_in=Qt,t.zoom_out=Jt,Wt.click(Qt),Gt.click(Jt),Wt.touchend(Qt),Gt.touchend(Jt)}()}}()}function vn(){ae=r.locations,te=[],ee=[],ie=[],oe=[],ne=[],ce=[],function(){var t={color:!1,hover_color:!1};if(t.opacity=p.region_opacity?p.region_opacity:1,t.hover_opacity=p.region_hover_opacity?p.region_hover_opacity:.6,t.url=!1,t.description=!1,t.description_mobile=!1,t.inactive=!1,t.zoomable=!0,t.hide_name="yes"==p.region_hide_name,t.popup=p.region_popups?p.region_popups:ut,t.cascade="yes"==p.region_cascade_all,t.zoom_percentage=P,t.x=!1,t.y=!1,t.x2=!1,t.y2=!1,I)for(var e in I)for(var n=0;n<I[e].states.length;n++){var r=I[e].states[n];ie[r]=e}for(var i in I)for(var o in ne[i]=Object.create(t),I[i].url&&(ne[i].zoomable=!1),I[i])"default"!=I[i][o]&&(ne[i][o]=I[i][o]),"yes"==I[i][o]&&(ne[i][o]=!0),"no"==I[i][o]&&(ne[i][o]=!1)}(),function(){for(var t in se=function(t){var e={};e.color=p.state_color,e.image_url=!!p.state_image_url&&p.state_image_url,e.image_size=p.state_image_size?p.state_image_size:"auto",e.image_position=p.state_image_position?p.state_image_position:"center",e.image_x=p.state_image_x?p.state_image_x:"0",e.image_y=p.state_image_y?p.state_image_y:"0",e.image_color=!!p.state_image_color&&p.state_image_color,e.image_background_opacity=p.image_background_opacity?p.image_background_opacity:"1",e.image_hover_url=!!p.state_image_hover_url&&p.state_image_hover_url,e.image_hover_size=p.state_image_hover_size?p.state_image_hover_size:"auto",e.image_hover_position=p.state_image_hover_position?p.state_image_hover_position:"center",e.image_hover_x=p.state_image_hover_x?p.state_image_hover_x:"0",e.image_hover_y=p.state_image_hover_y?p.state_image_hover_y:"0",e.image_hover_color=!!p.state_image_hover_color&&p.state_image_hover_color,e.pulse_size=p.state_pulse_size?p.state_pulse_size:1.1,e.pulse_speed=p.state_pulse_speed?p.state_pulse_speed:1;var n=p.state_pulse_color;e.pulse_color=!(!n||"auto"==n)&&n,e.hover_color=p.state_hover_color,e.image_source=!1,e.description=p.state_description,e.url=p.state_url,e.inactive="yes"==p.all_states_inactive,e.hide="yes"==p.all_states_hidden,e.hide_label=!1,e.hide_name="yes"==p.state_hide_name,e.border_color=p.border_color?p.border_color:"#ffffff",e.border_hover_color=!!p.border_hover_color&&p.border_hover_color,e.border_hover_size=!!p.border_hover_size&&p.border_hover_size,e.emphasize="yes",e.zoom_percentage=P,e.zoomable="yes"==p.all_states_zoomable,e.popup=p.state_popups?p.state_popups:ut,e.opacity=p.state_opacity?p.state_opacity:1,e.hover_opacity=p.state_hover_opacity?p.state_hover_opacity:1,e.description_mobile=!!p.state_description_mobile&&state_description_mobile,e.pu,e.path=!1;var r=!!ie[t]&&ie[t];for(var i in r&&ne[r].hide&&(e.hide=!0),r&&ne[r].cascade&&(ne[r].color&&(e.color=ne[r].color),ne[r].hover_color&&(e.hover_color=ne[r].hover_color),ne[r].description&&(e.description=ne[r].description),ne[r].url&&(e.url=ne[r].url),ne[r].inactive&&(e.inactive=ne[r].inactive),ne[r].hide&&(e.hide=ne[r].hide)),te[t]=Object.create(e),"us"!=o||"GU"!=t&&"PR"!=t&&"VI"!=t&&"MP"!=t&&"AS"!=t||(te[t].hide="yes"),"us"!=o||!U||"VT"!=t&&"NJ"!=t&&"DE"!=t&&"DC"!=t&&"NH"!=t&&"MA"!=t&&"CT"!=t&&"RI"!=t&&"MD"!=t||(te[t].hide_label="yes"),d[t])"default"!=d[t][i]&&(te[t][i]=d[t][i]),"yes"==d[t][i]&&(te[t][i]=!0),"no"==d[t][i]&&(te[t][i]=!1);"off"==p.state_hover_color&&(te[t].hover_color=te[t].color)},re={},i.paths)re[t]=!0;for(var t in r.state_specific)r.state_specific[t]&&r.state_specific[t].path&&(re[t]=!0);for(var t in re)se(t)}(),function(){var t={};t.font_family=p.label_font?p.label_font:"arial,sans-serif",t.color=p.label_color?p.label_color:"white",t.hover_color=p.label_hover_color?p.label_hover_color:t.color,t.opacity=p.label_opacity||"0"==p.label_opacity?p.label_opacity:1,t.hover_opacity=p.label_hover_opacity?p.label_hover_opacity:t.opacity,t.size=V,t.hide="yes"==p.hide_labels,t.line=!1,t.scale=!!p.label_scale&&p.label_scale,t.scale_limit=p.scale_limit?p.scale_limit:.0625,t.rotate=p.label_rotate?p.label_rotate:0,t.line_color=p.label_line_color?p.label_line_color:"#000000",t.line_size=p.label_line_size?p.label_line_size:"1",t.line_x=!1,t.line_y=!1,t.parent_type="state",t.parent_id=!1,t.anchor=p.label_anchor?p.label_anchor:"middle",t.pill=!1,t.width=!!p.pill_width&&p.pill_width,t.x=!1,t.y=!1,t.name="Not Named",t.display=!!p.label_display&&p.label_display,t.display_ids=!1,t.id=!1;var e="no"==p.import_labels?{}:i.default_labels,n=function(n){for(var r in oe[n]=Object.create(t),e[n])"default"!=e[n][r]&&(oe[n][r]=e[n][r]),"yes"==e[n][r]&&(oe[n][r]=!0),"no"==e[n][r]&&(oe[n][r]=!1)},r=function(e){for(var n in oe[e]||(oe[e]=Object.create(t)),q[e])"default"!=q[e][n]&&(oe[e][n]=q[e][n]),"yes"==q[e][n]&&(oe[e][n]=!0),"no"==q[e][n]&&(oe[e][n]=!1)};for(var o in e)n(o);for(var o in q)r(o);le=function(t){n(t),r(t)}}(),function(){var t={},e=ct?p.scale_limit_mobile?p.scale_limit_mobile:.4:.0625;t.scale_limit=p.scale_limit?p.scale_limit:e,t.color=p.location_color?p.location_color:"#FF0067",t.hover_color=!!p.location_hover_color&&p.location_hover_color,t.border=p.location_border?p.location_border:1.5,t.border_color=p.location_border_color?p.location_border_color:"#FFFFFF",t.hover_border=p.location_hover_border?p.location_hover_border:2,t.size=p.location_size,t.description=p.location_description,t.description_mobile=!!p.location_description_mobile&&location_description_mobile,t.url=p.location_url,t.inactive="yes"==p.all_locations_inactive,t.type=p.location_type,t.position="top",t.pulse="yes"==p.location_pulse,t.pulse_size=p.location_pulse_size?p.location_pulse_size:4,t.pulse_speed=p.location_pulse_speed?p.location_pulse_speed:.5;var n=p.location_pulse_color;for(var r in t.pulse_color=!(!n||"auto"==n)&&n,t.image_source=p.location_image_source?p.location_image_source:"",t.hide=p.all_locations_hide?p.all_locations_hide:"no",t.opacity=Y,t.scale=!p.location_scale||p.location_scale,t.hover_opacity=!!p.location_hover_opacity&&p.location_hover_opacity,t.image_source=p.location_image_source?p.location_image_source:"",t.image_url=!!p.location_image_url&&p.location_image_url,t.image_position=p.location_image_position?p.location_image_position:"center",t.image_hover_source=p.location_image_hover_source?p.location_image_hover_source:"",t.image_hover_url=!!p.location_image_hover_url&&p.location_image_hover_url,t.image_hover_position=p.location_image_hover_position?p.location_image_hover_position:"center",t.popup=p.location_popups?p.location_popups:ut,t.x=!1,t.y=!1,t.display=p.location_display?p.location_display:"all",t.display_ids=!1,t.hide="yes"==p.all_locations_hidden,t.hide_name="yes"==p.location_hide_name,null==t.type&&(t.type="square"),ae){for(var i in ee[r]=Object.create(t),ae[r])"overwrite_image_location"!=i?("region"==i&&(ee[r].display="region"),"default"!=ae[r][i]&&(ee[r][i]=ae[r][i]),"yes"==ae[r][i]&&(ee[r][i]=!0),"no"==ae[r][i]&&(ee[r][i]=!1)):ee[r].image_url=ae[r][i];ee[r].hover_opacity||(ee[r].hover_opacity=ee[r].opacity),ee[r].hover_color||(ee[r].hover_color=ee[r].color)}}(),function(){var t={};t.color=p.line_color?p.line_color:"#000000",t.size=p.line_size?p.line_size:1.5,t.dash=p.line_dash?p.line_dash:"",t.origin_location=!1,t.destination_location=!1,t.angle=!1;var e=r.lines?r.lines:r.borders;for(var n in e)for(var i in ce[n]=Object.create(t),e[n])"default"!=e[n][i]&&(ce[n][i]=e[n][i]),"yes"==e[n][i]&&(ce[n][i]=!0),"no"==e[n][i]&&(ce[n][i]=!1)}()}function _n(t,e){if("lambert"==i.proj)var r=function(t){var e=.017453293,n=Math.PI,r=t.lat*e,i=t.lng*e,o=33*e,a=Math.log(Math.cos(o)*(1/Math.cos(.785398185)))/Math.log(Math.tan(.25*n+.3926990925)*(1/Math.tan(.25*n+.5*o))),s=Math.cos(o)*Math.pow(Math.tan(.25*n+.5*o),a)/a,l=s*Math.pow(1/Math.tan(.25*n+.5*r),a),c=s*Math.pow(1/Math.tan(.25*n+.3926990925),a);return{x:l*Math.sin(a*(i-1.57079637)),y:c-l*Math.cos(a*(i-1.57079637))}};else r="xy"==i.proj?function(t){return{x:t.lng,y:t.lat}}:"robinson_pacific"==i.proj?function(t){var e=t.lng-150;return e<-180&&(e+=360),a({lat:t.lat,lng:e})}:"mercator"==i.proj?function(t){var e=Math.log(Math.tan((t.lat/90+1)*(Math.PI/4)))*(180/Math.PI);return{x:t.lng,y:e}}:a;var o={lat:t,lng:e};function a(t){var e,n=function(t){return t<0?-1:1},r=n(t.lng),i=n(t.lat),o=Math.abs(t.lng),a=Math.abs(t.lat),s=(e=a-1e-10,5*Math.floor(e/5)),l=(s=0==a?0:s)/5,c=(s+5)/5,u=(a-s)/5,h=[.8487,.84751182,.84479598,.840213,.83359314,.8257851,.814752,.80006949,.78216192,.76060494,.73658673,.7086645,.67777182,.64475739,.60987582,.57134484,.52729731,.48562614,.45167814],d=[0,.0838426,.1676852,.2515278,.3353704,.419213,.5030556,.5868982,.67182264,.75336633,.83518048,.91537187,.99339958,1.06872269,1.14066505,1.20841528,1.27035062,1.31998003,1.3523];return{x:((h[c]-h[l])*u+h[l])*o*.017453293*r*1,y:((d[c]-d[l])*u+d[l])*i*1}}var s=i.proj_coordinates;function l(t,e,i,o){var a,s,l,c,u,h,d,p,f,m,g,y,v,_=r(t),x=r(e),b=r(i),w=r(o),k=n.distance(_,x),C=n.distance(_,b),I=n.distance(x,b)/n.distance(e,i),M=k/I,S=C/I,L=(a=e.x,s=e.y,l=M,y=i.x-a,v=s+(u=i.y-s)*(d=(l*l-(c=S)*c+(h=Math.sqrt(u*u+y*y))*h)/(2*h))/h,{opt1:{x:(p=a+y*d/h)+(m=(f=Math.sqrt(l*l-d*d))/h*-u),y:v+(g=y*(f/h))},opt2:{x:p-m,y:v-g}}),z=n.distance(_,w)/I;return Math.abs(n.distance(L.opt1,o)-z)<Math.abs(n.distance(L.opt2,o)-z)?{x:L.opt1.x,y:L.opt1.y}:{x:L.opt2.x,y:L.opt2.y}}function c(t,e,r){var i=/lat[ ]?<[-]?(\d+[\.]?\d+)/g.exec(p);if(i&&t>n.to_float(i[1]))return!1;var o=/lat[ ]?>[-]?(\d+[\.]?\d+)/g.exec(p);if(o&&t<n.to_float(o[1]))return!1;var a=/lng[ ]?<[-]?(\d+[\.]?\d+)/g.exec(p);if(a&&e>n.to_float(a[1]))return!1;var s=/lat[ ]?>[-]?(\d+[\.]?\d+)/g.exec(p);return!(s&&t<n.to_float(s[1]))}var u=i.proj_rules;if(u)for(var h=0;h<u.length;h++){var d=u[h],p=d.condition;if(c(t,e,d.condition)){var f=d.points;return l(o,s[f[0]],s[f[1]],s[f[2]])}}return l(o,s[0],s[1],s[2])}function xn(t){if(t.sm.zooming_dimensions)return t.sm.zooming_dimensions;var e,r=n.rotate_bbox(t.sm.bbox,Bt),i=r.x,o=r.y,a=r.width,s=r.height,l=t.sm.zp,c=wt*bt,u=kt*bt;return i-=.5*(a/l-a),o-=.5*(s/l-s),(a/=l)/(s/=l)>St?(o-=(u*(e=a/c)-s)/2,s=a/St):(i-=(c*(e=s/u)-a)/2,a=s*St),{x:i,y:o,w:a,h:s,r:e}}function bn(t){if(t){Ut.stop();for(var e=0;e<t.sm.states.length;++e){var n=fe[t.sm.states[e]];n.attr(n.sm.attributes),Vn(n,"reset",!1,"state")}}}function wn(t){if(t){t.stop(),t.attr(t.sm.attributes);for(var e=0;e<t.sm.states.length;++e)Vn(fe[t.sm.states[e]],"reset",!1,"region")}}function kn(){qt.forEach((function(t){-1!=t.sm.id&&wn(t)}))}function Cn(t,e){var r=t.sm.display,o=e.sm.type;if("all"==r)return!0;if("out"==r&&"out"==o)return!0;if("region"==r&&"region"==o)return function(t,e){var n=t.sm.point0;return t.sm.display_ids?t.sm.display_ids.indexOf(e.sm.id)>-1:!!Raphael.isPointInsideBBox(e.sm.bbox,n.x,n.y)}(t,e);if("state"==r&&"state"==o)return function(t,e){var n=t.sm.point0;if(t.sm.display_ids)return t.sm.display_ids.indexOf(e.sm.id)>-1;if(Raphael.isPointInsideBBox(e.sm.bbox,n.x,n.y)){var r=i.paths[e.sm.id];if(Raphael.isPointInsidePath(r,n.x,n.y))return!0}return!1}(t,e);var a=n.to_float(r);return!!(a&&Mt<a)}function In(t,e,n){var r={transform:e};nt||ct||n?t.attr(r):t.animate(r,1e3*z)}function Mn(t,e){var r=t.sm.type;Yt.hide(),function(t,e){Ot.hide(),Ot.forEach((function(n){n.sm.hide||(Cn(n,t)&&n.show(),n.sm.scale&&In(n,qn(n,(Mt>n.sm.scale_limit?Mt:n.sm.scale_limit)*bt),e))}))}(t,e),function(t,e){for(var n in Vt.hide(),ve){var r=ve[n];if(!r.sm.hide){if(Cn(r,t)&&_e[r.sm.id].show(),r.sm.line){var i=Un(r);r.sm.line.attr({path:i,transform:Bt})}if(r.sm.scale){var o=qn(r,(Mt>r.sm.scale_limit?Mt:r.sm.scale_limit)*bt);In(r,o,e),r.sm.pill&&In(be[r.sm.id],o,e)}}}}(t,e),n.x_in_array(r,["state","region","out"])&&kn(),"region"==r?bn(t):"state"==r?bn(me[t.sm.region]):"manual"==r&&qt.forEach((function(t){-1!=t.sm.id&&(t.sm.zooming_dimensions.r>Mt&&t.sm.zoomable?bn(t):wn(t))})),"out"!=r&&"manual"!=r?(Ut.stop(),jt.stop(),Ut.attr({"fill-opacity":O}),jt.attr({"fill-opacity":O}),t.stop(),t.attr({"fill-opacity":1}),t.sm.labels.forEach((function(t){t.sm&&t.sm.pill&&(t.sm.pill.stop(),t.sm.pill.attr({"fill-opacity":1}))})),t.animate({"stroke-width":t.sm.border_hover_size*(_t/wt)*It*1.25},1e3*z)):(Ut.attr({"fill-opacity":1}),jt.attr({"fill-opacity":1})),Ut.animate({"stroke-width":W*(_t/wt)*It*1.25},1e3*z)}function Sn(t){if(b&&"-1"!=x&&"region"==t.sm.type){if(!N)return;Yt.show()}else("state"==t.sm.type||"region"==t.sm.type||N||v&&"out"!=t.sm.type)&&Yt.show()}function Ln(t){return{x:t.x,y:t.y,w:t.w,h:t.h}}function zn(){k.sm&&C&&(Pe.hide(),C=!1,k.sm&&ze.call(k),ot=!1)}function Tn(r,i,o){if(!je){zn(),Qe&&(Qe.stop(),Qe=!1),Ze&&r!=Ze&&ze.call(Ze),k=!1,Pe.hide(),C=!1,je=!0,r.sm.zooming_dimensions=xn(r);var a=Ln(r.sm.zooming_dimensions),s=Ln(ge.sm.zooming_dimensions);if(Mt=r.sm.zooming_dimensions.r,Mn(r,i),nt||ct&&!T||i)de=a,Lt.setViewBox(a.x,a.y,a.w,a.h,!1),c();else{var l=e.Tweenable?new e.Tweenable:new Tweenable;he=l.tween({from:s,to:a,duration:1e3*z,easing:"easeOutQuad",step:function(t){!function(t){de=t,Lt.setViewBox(t.x,t.y,t.w,t.h,!1)}(t)},finish:function(){c()}})}}function c(){Sn(r),ge=r,je=!1,ot=!1,t.zoom_level=ge.sm.type,t.zoom_level_id=!!ge.sm.id&&ge.sm.id,hn("zooming_complete",[]),n.isFunction(o)&&o()}}function An(t){var e="",n={};for(var r in i.paths){var o=i.paths[r];o=Raphael._pathToAbsolute(o);var a,s=Raphael.pathBBox(o);a=s.x2-s.x<10?10:1;var l=Math.round(s.x*a)/a,c=Math.round(s.y*a)/a,u=Math.round(s.y2*a)/a;e+="'"+r+"':{x: "+l+",y:"+c+",x2:"+Math.round(s.x2*a)/a+",y2:"+u+"},",n[r]=s}return e=e.substring(0,e.length-1),e+="}",t||console.log("The new state_bbox_array is: \n\n{"+e),n}function En(t){var e=t.sm.description,r=nt?'<a style="line-height: 1.5" id="xpic_sm_'+lt+'">X</a>':'<a id="xpic_sm_'+lt+'" href="#"><img src="data:image/svg+xml,%3Csvg%20enable-background%3D%22new%200%200%20256%20256%22%20height%3D%22256px%22%20id%3D%22Layer_1%22%20version%3D%221.1%22%20viewBox%3D%220%200%20256%20256%22%20width%3D%22256px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20d%3D%22M137.051%2C128l75.475-75.475c2.5-2.5%2C2.5-6.551%2C0-9.051s-6.551-2.5-9.051%2C0L128%2C118.949L52.525%2C43.475%20%20c-2.5-2.5-6.551-2.5-9.051%2C0s-2.5%2C6.551%2C0%2C9.051L118.949%2C128l-75.475%2C75.475c-2.5%2C2.5-2.5%2C6.551%2C0%2C9.051%20%20c1.25%2C1.25%2C2.888%2C1.875%2C4.525%2C1.875s3.275-0.625%2C4.525-1.875L128%2C137.051l75.475%2C75.475c1.25%2C1.25%2C2.888%2C1.875%2C4.525%2C1.875%20%20s3.275-0.625%2C4.525-1.875c2.5-2.5%2C2.5-6.551%2C0-9.051L137.051%2C128z%22%2F%3E%3C%2Fsvg%3E" style="width: 100%" alt="Close" border="0" /></a>';r='<div class="xmark_sm">'+r+"</div>";var i=t.sm.url?t.sm.url:"",o=i,a="javascript:"==o.substring(0,11),s='return (function(e){window.open("'+i+'","_blank"); return false})()',l=a?'return (function(){window.location.href="'+i+'"; return false;})()':'return (function(){window.top.location.href="'+i+'"; return false;})()',c=n.replaceAll(o,"'",'"'),u=X?s:l;a&&(u="(function(){"+c+"})()");var h=t.sm.description_mobile?t.sm.description_mobile:'<div class="tt_mobile_sm"><a tabindex="0" class="btn_simplemaps" href="'+i+"\" onClick='"+u+"'>"+D+"</a></div>";t.sm.on_click||(r="",h=""),""!=t.sm.url||t.sm.description_mobile||(h="");var d=""==e?d="":'<div class="tt_custom_sm"; />'+e+"</div>";return'<div class="tt_sm"><div>'+(t.sm.hide_name?"":'<div class="tt_name_sm">'+t.sm.name+"</div>")+r+'<div style="clear: both;"></div></div>'+d+h+"</div></div>"}function Rn(t,e){var n=t.sm.zooming_dimensions;if(n.w>e.sm.zooming_dimensions.w)return!1;var r=e.sm.bbox,i=r.x*bt,o=r.y*bt,a=r.x2*bt,s=r.y2*bt,l=n.x+n.w/2,c=n.y+n.h/2;return l>i&&c>o&&l<a&&c<s}function Bn(t,e){var r=e.hover?"_hover":"",o=lt+"_pattern_"+t.sm.id+r,a=document.getElementById(o);a&&n.delete_element(a);var s=pt.firstChild,l=s.namespaceURI,c=s.querySelector("defs"),u=document.createElementNS(l,"pattern"),h=t.sm.id;u.id=o,u.setAttribute("patternUnits","objectBoundingBox");var d=document.createElementNS(l,"image"),p=document.createElementNS(l,"rect"),f=e.image_color?e.image_color:e.color;p.setAttribute("fill","#ffffff"),p.setAttribute("opacity",e.bg_opacity),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.image_url),u.appendChild(p),u.appendChild(d),c.appendChild(u),s.appendChild(c);var m=e.image_position,g="auto"==e.image_size,v="repeat"==m,_="manual"==m,x="center"==m,b=Raphael.pathBBox(i.paths[h]),w=b.x2-b.x,k=b.y2-b.y,C=w/k;return Raphael._preload(e.image_url,(function(){var t,n,r=this.offsetWidth,i=this.offsetHeight,o=r/i,a=function(){var t=e.image_size;return g?v||_?t=o>1?r>w?1:r/w:i>k?1/C:i/k/C:x&&(t=o/C,t=o>C?t:1/t):t>1&&(t=e.image_size*It/w),t}(),s=w*a,l=s/o,c=0,h=0;if(v?(t=a,n=a*C/o):_?(t=1,n=1,c=e.image_x*w,h=e.image_y*k):x&&(t=1,n=1,c=.5*(w-s),h=.5*(k-l)),p.setAttribute("x",0),p.setAttribute("y",0),p.setAttribute("width",w),p.setAttribute("height",k),p.setAttribute("fill",f),p.setAttribute("opacity","1"),u.setAttribute("y",0),u.setAttribute("x",0),u.setAttribute("y",0),u.setAttribute("width",t),u.setAttribute("height",n),d.setAttribute("x",c),d.setAttribute("y",h),d.setAttribute("width",s),y){var m=c+.5*s,b=h+.5*l;d.setAttribute("transform","rotate(-"+y+","+m+","+b+")")}d.setAttribute("height",l)})),'url("#'+u.id+'")'}function Pn(t){t||(fe={}),$e=i.state_bbox_array;var e=W*bt*It*1.25;for(var n in pe=function(t){var n=!fe[t],r=te[t],o=r.path?r.path:i.paths[t],a=n?Lt.path(o):fe[t];n&&(a.sm={id:t}),nt||a.node.setAttribute("class","sm_state_"+t);var s={fill:r.color,opacity:r.opacity,stroke:r.border_color,cursor:"pointer","stroke-opacity":1,"stroke-width":e,"stroke-linejoin":"round"},l=r.border_hover_color?r.border_hover_color:p.border_color,c=r.border_hover_size?r.border_hover_size:W,u=c*bt*It*1.25,d={opacity:r.hover_opacity,fill:r.hover_color,stroke:l,"stroke-width":u};if(a.sm.image=!1,r.image_url&&!nt){var f=Bn(a,{hover:!1,image_url:r.image_url,image_size:r.image_size,image_position:r.image_position,image_x:r.image_x,image_y:r.image_y,image_color:r.image_color,bg_opacity:r.image_background_opacity});a.sm.image=!0,s.fill=f,r.image_hover_url?(f=Bn(a,{hover:!0,image_url:r.image_hover_url,image_size:r.image_hover_size,image_position:r.image_hover_position,image_x:r.image_hover_x,image_y:r.image_hover_y,image_color:r.image_hover_color,bg_opacity:r.image_background_opacity}),d.fill=f):d.fill=f}r.inactive&&(s.cursor="default"),r.image_source&&(a.sm.ignore_hover=!0,s.fill="url("+h+r.image_source+")"),(r.border_hover_color||r.border_hover_size)&&r.emphasize?a.sm.emphasizable=!0:a.sm.emphasizable=!1,a.sm.border_hover_size=c,a.attr(s),a.transform(Bt),a.sm.attributes=s,a.sm.over_attributes=d,a.sm.description=r.description,a.sm.adjacent_attributes={"fill-opacity":O},a.sm.hide=r.hide,a.sm.hide_label=r.hide_label,a.sm.hide_name=r.hide_name,n&&(a.sm.region=!1),a.sm.name=r.name?r.name:i.names[t],a.sm.name||(a.sm.name=t),a.sm.url=r.url,a.sm.inactive=r.inactive,a.sm.on_click=pn(r.popup),a.sm.popup_off=fn(r.popup),a.sm.labels=[],a.sm.zp=r.zoom_percentage,a.sm.zoomable=r.zoomable,a.sm.description_mobile=r.description_mobile,a.sm.type="state",a.sm.hide_labels=r.hide_label,a.sm.content=En(a);var m=$e[t];m||(m=Raphael.pathBBox(i.paths[t]));var g={x:m.x,x2:m.x2,y:m.y,y2:m.y2};a.sm.bbox=g,a.sm.bbox.width=g.x2-g.x,a.sm.bbox.height=g.y2-g.y,a.sm.pulse_speed=r.pulse_speed,a.sm.pulse_size=r.pulse_size,a.sm.pulse_color=r.pulse_color?r.pulse_color:r.border_color,a.sm.hide?a.hide():n&&Tt.push(a),n&&(fe[t]=a,Ut.push(a))},re)pe(n);pe[-1],Ut.hide()}function Nn(){Dt.attr({fill:p.background_color,"fill-opacity":$,stroke:"none"})}function Dn(t){if(t||(me={}),I)for(var e in I){var r=ne[e],i=I[e],o=t?me[e]:Lt.set();if(!t){if(o.sm={},o.sm.states=[],me[e]){console.log("Duplicate Regions");continue}for(var a=[],s=0;s<i.states.length;s++){var l=i.states[s],c=fe[l];c?c.sm.region?console.log(c.sm.name+" already assigned to a region"):(c.sm.region=e,o.sm.states.push(l),nt&&c.sm.ignore_hover&&(r.color||r.hover_color)||o.push(c),a.push(c.sm.bbox)):console.log(l+" does not exist")}r.x&&r.y&&r.x2&&r.y2&&(a=[{x:r.x,y:r.y,x2:r.x2,y2:r.y2}]),o.sm.bbox=n.bbox_union(a)}var u={"fill-opacity":r.opacity,cursor:"pointer"},h={"fill-opacity":r.hover_opacity};r.color&&(u.fill=r.color),r.hover_color&&(h.fill=r.hover_color),r.inactive&&(u.cursor="default"),o.sm.attributes=u,o.sm.name=i.name,o.sm.description=r.description,o.sm.description_mobile=r.description_mobile,o.sm.url=r.url,o.sm.labels=Lt.set(),o.sm.on_click=pn(r.popup),o.sm.over_attributes=h,o.sm.hide_name=r.hide_name,o.sm.adjacent_attributes={"fill-opacity":O},o.sm.zoomable=r.zoomable,o.sm.popup_off=fn(r.popup),o.sm.zp=r.zoom_percentage,o.sm.inactive=r.inactive,o.sm.type="region",o.sm.id=e,o.sm.content=En(o),t||(qt.push(o),me[e]=o),o.sm.zooming_dimensions=xn(o)}if(!t){me[-1]={};var d=me[-1];d.sm={},d.sm.type="out",d.sm.zp=1;var p=n.clone(Ct);if(p.width=p.x2-p.x,p.height=p.y2-p.y,d.sm.bbox=p,d.sm.zooming_dimensions=xn(d),ge=d,"object"==typeof x?((ye={}).sm={type:"manual",zp:1,bbox:x},ye.sm.zooming_dimensions=xn(ye),x=-1,b=!1):-1==x||x in me||(x in fe?(He=fe[x],b=!1):console.log("The initial_zoom is not the id of a region or state"),x=-1),g){me[-2]={};var f=me[-2];f.sm={type:"manual",zp:1};var m=xn(me[x]),y=m.w,v=m.h,_=m.w*(g-1)*.5,w=m.h*(g-1)*.5;f.sm.zooming_dimensions={x:m.x-_,y:m.y-w,w:y*g,h:v*g,r:g}}}}function Fn(t){var e=t.getBBox(!0);if(nt){var n=t._getBBox(!0);e.height=n.height}var r=.5*e.width,i=.5*e.height,o=t.sm.point0;return{x:o.x-r,y:o.y-i,x2:o.x+r,y2:o.y+i,width:e.width,height:e.height}}function jn(){for(var t in n.clear_sets([Vt,zt,jt]),ve={},be={},_e={},oe=oe.reverse(),xe=function(t){var e=oe[t],r=!1,o=!1;if(oe.hasOwnProperty(t)){var a=!ve[t],s=Lt.set(),l={x:1*e.x,y:1*e.y},c={},u=!1,h=!1;if("state"==e.parent_type?u=fe[e.parent_id]:"region"==e.parent_type?u=me[e.parent_id]:"location"==e.parent_type&&(u=we[e.parent_id]),!e.x&&!e.y&&u)if("location"==u.sm.type)o=!0,c.x=u.sm.x,c.y=u.sm.y,l=u.sm.point0,r=!0,u.sm.auto_size&&(h=!0);else if("state"==u.sm.type){var d=u.sm.bbox;if(d.cx&&d.cy)var f=z,m=T;else f=(d.x+d.x2)/2,m=(d.y+d.y2)/2;e.x=f,e.y=m,c.x=f,c.y=m,l={x:f,y:m}}if(e.parent_type,u){if("Not Named"==e.name&&u&&(e.name=u.sm.id),a){if(!o){var g=n.rotate([e.x,e.y],Bt);c={x:g[0],y:g[1]}}var y=Lt.text(c.x,c.y,e.name);ve[t]=y}else y=ve[t];y.sm={},y.sm.hide=e.hide,u&&(u.sm.hide_label||u.sm.hide)&&(y.sm.hide=!0),y.sm.parent=u,u.sm.labels.push(y),u.sm.region&&me[u.sm.region].sm.labels.push(y);var v={"stroke-width":0,fill:e.color,"font-size":e.size,"font-weight":"bold",cursor:"pointer","font-family":e.font_family,"text-anchor":e.anchor,opacity:e.opacity},_={fill:e.hover_color,opacity:e.hover_opacity},x={fill:e.color,opacity:e.opacity};if(u.sm.inactive&&(v.cursor="default"),y.attr(v),y.sm.attributes=v,y.sm.over_attributes=_,y.sm.out_attributes=x,y.sm.type="label",y.sm.id=t,y.sm.scale=r||e.scale,y.sm.scale_limit=e.scale_limit,y.sm.x=c.x,y.sm.y=c.y,y.sm.point0=l,y.sm.line_x=e.line_x,y.sm.line_y=e.line_y,y.sm.line=!1,y.sm.rotate=e.rotate,y.transform(qn(y,bt)),e.display?y.sm.display=e.display:"region"==e.parent_type?y.sm.display="out":"location"==e.parent_type?y.sm.display=u.sm.display:y.sm.display=p.labels_display?p.labels_display:"all",y.sm.display_ids=!!e.display_ids&&e.display_ids,(e.line||e.pill||h)&&(y.sm.bbox=Fn(y)),"auto"==e.display&&"state"==e.parent_type){y.sm.display=1e-4,y.sm.bbox||(y.sm.bbox=Fn(y));var b=[1.01,.501,.251,.1251,.06251,.031251],w=i.paths[u.sm.id],k=u.sm.bbox;for(var C in b){var I=b[C],M=Fn(y),S=M.width*I*.5,L=M.height*I*.5,z=.5*(M.x2+M.x),T=.5*(M.y2+M.y),A=z+S,E=(m=T-L,T+L),R=(f=z-S)>k.x&&A<k.x2,B=m>k.y&&E<k.y2;if(R&&B){var P=Raphael.isPointInsidePath(w,f,m),N=Raphael.isPointInsidePath(w,A,m),D=Raphael.isPointInsidePath(w,f,E),F=Raphael.isPointInsidePath(w,A,E),j=P&&N&&D&&F,U=M.width/I<wt;if(j&&U){y.sm.display=I;break}}if(!y.sm.scale)break}}if(e.line){var q=Un(y),O=Lt.path(q),$=e.line_size*It*bt*1.25,H={stroke:e.line_color,cursor:"pointer","stroke-width":$};O.attr(H),O.sm={},O.sm.type="label",y.sm.pill=!1,O.sm.size=e.line_size,O.sm.id=t,y.sm.line=O,zt.push(O),s.push(O)}if("state"==u.sm.type&&e.pill){var V=y.sm.bbox,X=1.45*V.width,Y=e.width?e.width:X,W=1.15*V.height,G=(f=y.sm.x-.5*Y,m=y.sm.y-.5*W,W/5);if(be[t])var Z=be[t];else Z=Lt.rect(f,m,Y,W,G),be[t]=Z;if(Z.transform(qn(y,bt)),Z.sm={},Z.sm.parent=u,Z.sm.attributes=n.clone(u.sm.attributes),u.sm.image&&(Z.sm.attributes.fill=te[u.sm.id].color),Z.sm.over_attributes=n.clone(u.sm.over_attributes),u.sm.image&&(Z.sm.over_attributes.fill=te[u.sm.id].hover_color),Z.sm.adjacent_attributes=n.clone(u.sm.adjacent_attributes),Z.attr(Z.sm.attributes),n.x_in_array(y.sm.display,["state","all"])&&(u.sm.bbox=n.bbox_union([u.sm.bbox,y.sm.bbox])),n.x_in_array(y.sm.display,["region","all"])&&u.sm.region){var Q=me[u.sm.region];Q.sm.bbox=n.bbox_union([Q.sm.bbox,y.sm.bbox]),Q.sm.zooming_dimensions=!1,Q.sm.zooming_dimensions=xn(Q)}y.sm.pill=Z,jt.push(Z),s.push(Z),s.push(y)}else s.push(y);if("out"!=y.sm.display&&"all"!=y.sm.display||y.sm.hide?s.hide():Rt.push(s),"location"!=y.sm.parent.sm.type||y.sm.line||At.push(s),Vt.push(s),_e[t]=s,nt||y.node.setAttribute("class","sm_label_"+t),h){var J=(p.location_auto_padding?1+2*p.location_auto_padding:1.3)*y.sm.bbox.width/It,K=(rt=y.sm.parent).sm.labels,tt=rt.sm.shape_type;"triangle"==tt?J*=1.3:"star"==tt&&(J*=2);var et=rt.sm.id;ee[et].size=J,ke(et);var rt=we[et];y.sm.parent=rt,rt.sm.labels=K,rt.sm.labels.push(y),rt.sm.auto_size=!0}}else console.log("The following object does not exist: "+t)}},oe)xe(t);Vt.hide()}function Un(t){var e=t.sm.bbox,r=e.x2-e.x,i=e.y2-e.y,o=t.sm.scale?Mt:1,a=.5*(1-o)*r,s=.5*(1-o)*i,l=t.sm.line_x,c=t.sm.line_y,u=!l||!c,h=t.sm.parent.sm.type;if("location"==h&&u)l=t.sm.parent.sm.point0.x,c=t.sm.parent.sm.point0.y;else if("state"==h&&u){var d=t.sm.parent.sm.bbox;l=.5*(d.x2+d.x),c=.5*(d.y2+d.y)}var p={x:l,y:c},f=[];f.push({x:e.x2-a,y:.5*(e.y+e.y2)}),f.push({x:e.x+a,y:.5*(e.y+e.y2)}),f.push({x:.5*(e.x+e.x2),y:e.y+s}),f.push({x:.5*(e.x+e.x2),y:e.y2-s});var m={};for(var g in f){var y=f[g],v=n.distance(y,p);(0==g||v<m.distance)&&(m.label=y,m.location=p,m.distance=v)}return n.linePath(m.label.x,m.label.y,m.location.x,m.location.y)}function qn(t,e,n,r,i,o){var a=void 0===r?t.sm.x:r,s=void 0===i?t.sm.y:i;return void 0===n&&(n="0,0"),void 0===o&&(o=t.sm.rotate),"t "+n+" s"+e+","+e+","+a+","+s+"r"+o}function On(t){for(var e in E)Ve[e]=E[e];var r=[];for(var e in Ve)r.push(e);for(var e in n.clear_sets([Ot]),we={},ke=function(t){var e="center",i=ee[t];if("image"!=i.type)var o={"stroke-width":i.border*bt*It,stroke:i.border_color,fill:i.color,opacity:i.opacity,cursor:"pointer"},a={"stroke-width":i.hover_border*bt*It,stroke:i.border_color,fill:i.hover_color,opacity:i.hover_opacity,cursor:"pointer"};else e=i.image_position,o={cursor:"pointer"},a={cursor:"pointer"};i.inactive&&(o.cursor="default");var s=ee[t].type,l=i.size*It;if(i.x&&i.y)(c={}).x=i.x,c.y=i.y;else var c=_n(i.lat,i.lng);var u=n.rotate([c.x,c.y],Bt),d={x:u[0],y:u[1]};if("auto"==i.size){var p={sm:{}};return p.sm.display=i.display,p.sm.auto_size=!0,p.sm.type="location",p.sm.hide_label=!1,p.sm.labels=[],p.sm.point0=c,p.sm.x=d.x,p.sm.y=d.y,p.sm.shape_type=s,p.sm.id=t,void(we[t]=p)}if("circle"==s)var f=Lt.circle(d.x,d.y,.5*l),m={x:d.x-.5*l*Mt,y:d.y-.5*l*Mt,x2:d.x+.5*l*Mt,y2:d.y+.5*l*Mt};else if(n.x_in_array(s,r)){var g="S"+l+","+l+",0,0 T"+d.x+","+d.y,y=Raphael.transformPath(Ve[s],g).toString()+"Z";"marker"==s&&(e="bottom-center"),m=Raphael.pathBBox(y),f=Lt.path(y)}else if("image"==s){var v=i.image_url?i.image_url:h+i.image_source;if(f=Lt.image(v,0,0),o.src=v,f.sm={},m=!1,Raphael._preload(v,(function(){var t=this.width/this.height,n=l,r=n*t,i=d.x-r/2,o="bottom-center"==e?d.y-n:d.y-n/2;f.attr({height:n,width:r,x:i,y:o}),f.sm.bbox={x:i,y:o,x2:i+r,y2:o+n}})),i.image_hover_url||i.image_hover_source){var _=i.image_hover_url?i.image_hover_url:h+i.image_hover_source;a.src=_}}else{var x=l,b=x,w=d.x-b/2,k=d.y-x/2;f=Lt.rect(w,k,b,x),m={x:w,y:k,x2:w+b,y2:k+xt}}f.sm={},f.sm.image="image"==s,f.sm.attributes=o,f.attr(o),f.sm.original_transform=Bt,f.sm.over_attributes=a,f.sm.id=t,f.sm.name=i.name,f.sm.scale=i.scale,f.sm.scale_limit=i.scale_limit,f.sm.position=e,f.sm.url=i.url,f.sm.type="location",f.sm.shape_type=s,f.sm.description=i.description,f.sm.description_mobile=i.description_mobile,f.sm.inactive=i.inactive,f.sm.on_click=pn(i.popup),f.sm.popup_off=fn(i.popup),f.sm.pulse=i.pulse;var C="bottom"==i.position;f.sm.underlay=C,f.sm.pulse_speed=i.pulse_speed,f.sm.pulse_size=i.pulse_size,f.sm.pulse_color=i.pulse_color?i.pulse_color:i.color,f.sm.x=d.x,f.sm.y=d.y,f.sm.point0=c,f.sm.bbox=m,f.sm.labels=[],f.sm.size=l,f.sm.hide=i.hide,f.sm.hide_name=i.hide_name,f.sm.display=i.display,f.sm.display_ids=!!i.display_ids&&i.display_ids,f.transform(qn(f,Mt*bt)),("region"==f.sm.display||"state"==f.sm.display||i.hide)&&f.hide(),f.sm.content=En(f),C?Ht.push(f):$t.push(f),Ot.push(f),we[t]=f,nt||f.node.setAttribute("class","sm_location_"+t)},ae)ke(e)}function $n(e){var n=t.zoom_level,r=t.zoom_level_id,i=!!e.sm.region&&me[e.sm.region];return i?"out"==n?i:"region"==n?r==i.sm.id?e:i:"state"==n?fe[r].sm.region===i.sm.id?e:i:"manual"==n?Mt>i.sm.zooming_dimensions.r||!i.sm.zoomable?i:e:void 0:e}function Hn(e){var n=t.zoom_level,r=t.zoom_level_id;if("state"==n)return r!=e.sm.id;if("region"!=n)return!1;var i=!!e.sm.region&&me[e.sm.region];return!i||r!=i.sm.id&&void 0}function Vn(t,e,n,r){t.sm.labels&&t.sm.labels.forEach((function(t){if(t.sm){var i=t.sm.pill;"over"==e?(t.stop(),Xe(t,"over"),i&&Ye(i,"over")):"reset"!=e&&"out"!=e||(Xe(t,"out"),i&&(Ye(i,"out",r),n&&Ye(i,"adjacent",r)))}}))}function Xn(){Te=function(){this.sm.parent&&Le.call(this.sm.parent)},Ae=function(){this.sm.parent&&ze.call(this.sm.parent)},Me=function(t){this.sm.parent&&Se.call(this.sm.parent,t)},Ce=function(t,e){if(t.sm.pulse||e){var n=t.sm.shape_type;if(!("location"!=t.sm.type||"image"==n||Mt<.05)){var r=t.clone();$t.toFront(),At.toFront();var i=1*t.sm.pulse_size,o={"stroke-width":4*t.attrs["stroke-width"],"stroke-opacity":0};r.attr({"fill-opacity":0,stroke:t.sm.pulse_color});var a=t.sm.scale?Mt:1,s=.5*(i-1)*t.sm.size*a*bt,l="bottom-center"==t.sm.position?qn(t,a*bt*i,"0,"+s):qn(t,a*bt*i);o.transform=l,r.animate(o,1e3*t.sm.pulse_speed,"ease-out",(function(){r.remove()}))}}},Ie=function(t){if(!nt||!rt)for(var e=Array.isArray(t)?t:[t],n=0;n<e.length;n++){var r=fe[e[n]];if(!r||!r.sm||Mt<.05)return;r.sm.shape_type;var i=r.clone(),o=1*r.sm.pulse_size,a={"stroke-width":4*(r.attrs["stroke-width"]?r.attrs["stroke-width"]:1),"stroke-opacity":0,"fill-opacity":0};i.attr({"fill-opacity":0,stroke:r.sm.pulse_color});var s=r.sm.bbox;r.sm.x=(s.x2+s.x)/2,r.sm.y=(s.y2+s.y)/2,r.sm.rotate=0;var l=qn(r,o,"0,0");a.transform=Bt+l,r.sm.bbox,i.animate(a,1e3*r.sm.pulse_speed,"ease-out",(function(){i.remove()}))}},Le=function(){if(gn(),nn(),ir(),(this.id||"set"!=!this.type)&&!We&&!cn){var t=$n(this);if(t.sm.on_click)var e=!0;if(Ne=t.sm.popup_off,!(Ue||qe||je||C&&ot)){if(Ze&&!w)return!1;if(Ze=this,t&&(function(t){t.sm.labels&&t.sm.labels.forEach((function(e){t.sm.inactive?e.attr({cursor:"default"}):e.attr({cursor:"pointer"})}))}(t),!t.sm.inactive))if(function(t){"state"==t.sm.type&&t.sm.emphasizable&&(We=!0,t.insertBefore(Tt),setTimeout((function(){We=!1}),1))}(t),rn(t),e){if(!C){if(t.stop(),nt&&"location"==t.sm.type&&"image"==t.sm.shape_type)return;t.sm.ignore_hover||(Xe(t,"over"),Ce(t)),Vn(t,"over")}}else{if(Pe.show(t),t.stop(),nt&&"location"==t.sm.type&&"image"==t.sm.shape_type)return;t.sm.ignore_hover||(Xe(t,"over"),Vn(t,"over"),Ce(t),Ie(t))}}}},ze=function(t,e){if(e&&"function"==typeof e||(e=!1),!je&&!cn&&(Ze=!1,this.id||"set"!=!this.type)){var n=$n(this);if(n&&!n.sm.inactive)if(on(n),ot)C&&!0!==t||(Ge(n,e),Qe=n);else{if(Pe.hide(),Hn(n)){if(je)return!1;n.sm.ignore_hover||Xe(n,"out",!0),Xe(n,"adjacent",!0),Vn(n,"out",!0)}else{if(nt&&"location"==n.sm.type&&"image"==n.sm.shape_type)return;n.sm.ignore_hover||Xe(n,"out",!0),Vn(n,"out")}Ge(n,e)}}};var e=!1;Se=function(n){if(!(je||Ue||qe)){gn(),ct&&(e=!0,setTimeout((function(){e=!1}),500)),e||zn();var r=$n(this);if(!r.sm.inactive&&(sn(r,n),!t.ignore_clicks)){if(ot=r.sm.on_click,n){if(C&&"touchend"==n.type)return;if(!C&&"touchstart"==n.type)return}if(ot&&Pe.update_pos(),Ne=r.sm.popup_off,!r.sm.zoomable||"region"!=r.sm.type&&ge==r&&"out"!=r.sm.type)if(ot){if(k==r||!k||(c=k,"state"==(l=r).sm.type&&"region"==c.sm.type&&c.sm.id==l.sm.region)||"region"!=r.sm.type&&"region"==t.zoom_level||Ge(k),an(r,n),n){var i=Yn(n);Pe.pos(n,{l:i.x,u:i.y})}Pe.show(r),C=!0,Vn(r,"over"),Ce(r),nt&&"location"==r.sm.type&&"image"==r.sm.shape_type||r.sm.ignore_hover||r.attr(r.sm.over_attributes),k=r;var o=document.getElementById("xpic_sm_"+lt);o&&(o.onclick=function(){return Pe.hide(),C=!1,k.sm&&ze.call(k),ot=!1,hn("close_popup",[]),!1})}else{an(r,n);var a=r.sm.url;if(""!=a&&!un){var s="javascript"==a.substring(0,10);return!X||s?void(s?window.location.href=a:window.top.location.href=a):(window.open(a,"_blank"),void Pe.hide())}}else ln(r,n),ir(),k&&k.sm?ze.call(k,!0,(function(){Tn(r),k=r})):(Tn(r),k=r);var l,c}}},Ee=function(t){if(void 0===t&&(t=!1),hn("back",[]),("out"==ge.sm.type||"region"==ge.sm.type&&b)&&N)window.location.href="javascript:"+N;else if(H&&"state"==ge.sm.type&&ge.sm.region)k?ze.call(k,!0,(function(){Tn(me[ge.sm.region])})):Tn(me[ge.sm.region],!1,t);else{var e=Rn(ge,me[x]),n="manual"==ge.sm.type&&e?me[x]:me[-1];k&&k.sm&&"region"!=k.sm.type?ze.call(k,!0,(function(){Tn(n)})):Tn(n,!1,t)}},Re=function(){Ee()}}function Yn(t){if(t.touches){var e=t.changedTouches?t.changedTouches[0]:t.touches[0];return{x:e.clientX,y:e.clientY}}var n=rt?t.clientY+document.documentElement.scrollTop:t.pageY;return{x:rt?t.clientX+document.documentElement.scrollLeft:t.pageX,y:n}}function Wn(){Ut.toBack(),Ht.toBack(),Nt.toBack(),Et&&Et.toFront(),Vt.toFront(),$t.toFront(),At.toFront()}function Gn(t){t||(it?(Ut.mouseup(Se),Nt.mouseup(Je),Yt.mouseup(Re),Nt.mouseup(ir)):(Ut.hover(Le,ze),Ut.click(Se),Nt.click(Je),Yt.click(Re),Nt.hover(ir,ir)),_&&function(){function t(){Zn()}var e;Be=function(){clearTimeout(e),e=setTimeout(t,300)},window.addEventListener?(window.addEventListener("resize",Be,!1),window.addEventListener("orientationchange",Be,!1)):(window.attachEvent("resize",Be,!1),window.attachEvent("orientationchange",Be,!1)),nt&&(document.body.onresize=function(){t()})}(),v&&(Ut.touchstart(Se),Ut.touchend(Se),Yt.touchend(Ee),function(){function t(t){var n=Yn(t),o=n.x,a=n.y,s=(r-o)*e.r,l=(i-a)*e.r,c=5*e.r;return(Math.abs(s)>c||Math.abs(l)>c)&&(Ue=!0),{x:e.x+s,y:e.y+l,w:e.w,h:e.h,r:e.r}}var e,r,i,o=!1;function a(t){if(C)return!1;t.preventDefault?t.preventDefault():t.returnValue=!1,e={x:de.x,y:de.y,w:de.w,h:de.h,r:de.w/wt/bt},o=!0;var n=Yn(t);r=n.x,i=n.y,Pe.hide(),Pe.pos(t,{l:r,u:i})}function s(e){if(o&&!(e.touches&&e.touches.length>1)){var n=t(e);Lt.setViewBox(n.x,n.y,n.w,n.h)}}function l(e){if(!o||!Ue)return Ue=!1,void(o=!1);var n=t(e);Lt.setViewBox(n.x,n.y,n.w,n.h),de=n,(ge={sm:{}}).sm.zooming_dimensions=de,ge.sm.type="manual",o=!1,setTimeout((function(){Ue=!1}),1),Yt.show()}n.addEvent(pt,"mousedown",a),n.addEvent(pt,"mousemove",s),n.addEvent(pt,"mouseup",l),n.addEvent(pt,"mouseleave",l),n.addEvent(pt,"touchstart",a),n.addEvent(pt,"touchmove",s),n.addEvent(pt,"touchend",l)}(),function(){var t=!1;function e(e){if(!je&&e.touches&&e.touches.length>1){qe=!0;var r=function(t){var e={x:t.touches[0].pageX,y:t.touches[0].pageY},r={x:t.touches[1].pageX,y:t.touches[1].pageY};return n.distance(e,r)}(e);if(t){var i=r-t;Math.abs(i)>10&&(i>0?Qt():Jt(),t=r)}else t=r}}n.addEvent(mt,"touchstart",e),n.addEvent(mt,"touchmove",e),n.addEvent(mt,"touchend",(function(e){t=!1,setTimeout((function(){qe=!1}),100)}))}()),ft.mouseIsOver=!1,ft.onmouseover=function(){this.mouseIsOver=!0},ft.onmouseout=function(){this.mouseIsOver=!1},ft.onwheel=function(t){ft.mouseIsOver&&v&&M&&(t.preventDefault(),t.deltaY<0?Qt():Jt())},n.addEvent(document,"keyup",(function(t){if("auto"==m){var e=mt.contains(document.activeElement);yt.style.display=e?"block":"none"}}))),Ot.hover(Le,ze),Ot.click(Se),Vt.hover(Te,Ae),Vt.click(Me),v&&(Ot.touchend(Se),Ot.touchstart(Se),Vt.touchend(Me))}function Zn(){if(!(ft.offsetWidth<1)){mn(!0),Lt.setSize(_t,xt);var t=W*(_t/wt)*It*1.25;Ut&&Ot&&(Ut.forEach((function(e){e.attr({"stroke-width":t}),e.sm.attributes["stroke-width"]=t,e.sm.over_attributes["stroke-width"]=e.sm.border_hover_size*(_t/wt)*It*1.25})),Ot.forEach((function(t){"image"!=ee[t.sm.id].type&&(t.sm.attributes["stroke-width"]=ee[t.sm.id].border*(_t/wt)*It*1.25,t.sm.over_attributes["stroke-width"]=ee[t.sm.id].hover_border*(_t/wt)*It*1.25,t.attr({"stroke-width":t.sm.attributes["stroke-width"]}))})),zt.forEach((function(t){var e=t.sm.size*(_t/wt)*It*1.25;t.attr({"stroke-width":e})})),Et.forEach((function(t){var e=t.sm.size*(_t/wt)*It*1.25;t.attr({"stroke-width":e})}))),gn(),ue=Z||(_t/2>250?_t/2:250)}}function Qn(t){var e=g?me[-2]:me[x],n=me[x];if(N||Yt.hide(),!t){if(He)var r=He;else r=ye||e;Tn(r,!He&&!ye||!g)}if(b&&-1!=x){Nt.show(),N||Yt.hide();for(var i=0;i<n.sm.states.length;i++){var o=n.sm.states[i],a=fe[o];a.sm.hide||a.show()}for(var i in ve){var s=ve[i],l=_e[i];s.sm.parent&&"state"==s.sm.parent.sm.type&&(s.sm.parent.sm.region==n.sm.id&&s.sm.parent.sm.region||(s.sm.hide=!0,l.hide()))}return Et.forEach((function(t){Raphael.isPointInsideBBox(n.sm.bbox,t.sm.bbox.x,t.sm.bbox.y)&&t.show()})),void(!t&&g&&Tn(me[x]))}Nt.show(),Tt.show(),Rt.show(),Et.show(),t||!g||He||ye||Tn(me[x])}function Jn(t){dn(),vn(),Pn(!0),Dn(!0),On(),jn(),Nn(),Mn(ge,!0),Wn(),Gn(!0),Zn(),Qn(!0),Sn(ge),gr(),nn(!0),hn("refresh_complete",[]),n.isFunction(t)&&t()}function Kn(e){var a,c,z,T,A,E,P,N,D,j;r=t.mapdata,i=t.mapinfo,pt&&delete window.paper,mr(),function(){d=r.state_specific,p=r.main_settings;var t=document.getElementsByTagName("script"),e=t[t.length-1].src,n="no"!=p.back_image&&p.back_image;l="no"!=p.back_image_url&&p.back_image_url,u="default"!=p.images_directory&&p.images_directory,h=u||e.substring(0,e.lastIndexOf("/usmap.js")+1)+"map_images/",!l&&n&&(l=h+n)}(),nt="VML"==Raphael.type,rt=!!document.all,it=!!n.isMobile.iOS(),ct=!!n.isMobile.any(),ut=p.pop_ups?p.pop_ups:p.popups,ht=void 0===p.mobile_scaling&&"no"!=p.mobile_scaling?1:p.mobile_scaling,ot=!1,Ne=fn(ut),lt=void 0===p.div?"map":p.div,x=void 0===p.initial_zoom?-1:p.initial_zoom,b="yes"==p.initial_zoom_solo&&-1!=x,g=void 0!==p.fly_in_from&&"no"!=p.fly_in_from&&p.fly_in_from,_="responsive"==p.width,"0"==(y=!!p.rotate&&p.rotate)&&(y=!1),F="no"!=p.zoom,v="yes"==p.manual_zoom,m=void 0===p.keyboard_navigation?"auto":p.keyboard_navigation,M="no"!=p.allow_scrolling,I=!(!i.default_regions||!F)&&i.default_regions,r.regions&&(I=r.regions),r.labels&&(q=r.labels),w=!1,k=!1,C=!1,f=!1,function(){if("continent"!=o)return!1;var t=0;for(var e in i.paths)t++;return t>8}()?alert("The continent map can't be used with other data."):(dn(),function(){if(ft=document.getElementById(lt),mt=!!document.getElementById(lt+"_holder")&&document.getElementById(lt+"_holder")){ft.removeChild(mt);var t=document.getElementById("tt_sm_"+lt);t&&t.parentNode.removeChild(t)}mt=document.createElement("div"),dt=document.createElement("div"),yt=document.createElement("div"),gt=document.createElement("div"),pt=document.createElement("div"),map_legend=document.createElement("div"),dt.id=lt+"_outer",gt.id=lt+"_zoom",yt.id=lt+"_access",map_legend.id=lt+"_legend",pt.id=lt+"_inner",mt.id=lt+"_holder",mt.style.position="relative",mt.setAttribute("tabIndex",0),mt.style.outline="none",pt.style.position="relative",dt.style.position="absolute",gt.style.position="absolute",yt.style.position="absolute",yt.style.maxWidth="75%",map_legend.style.position="absolute",gt.style.zIndex="1",dt.style.zIndex="1",yt.style.zIndex="1",yt.style.display="yes"==m?"block":"none",map_legend.style.zIndex="1",ft.appendChild(mt),mt.appendChild(gt),mt.appendChild(dt),mt.appendChild(yt),mt.appendChild(map_legend),mt.appendChild(pt)}(),mn(),function(){if(Lt=Raphael(pt,_t,xt),Nt=Lt.set(),Dt=Lt.rect(Ct.x-2*wt,Ct.y-2*kt,5*wt,5*kt),S){S.indexOf("/osm/noattr/")>-1&&(s=!0);var t=L||Ct;Ft=Lt.image(S,t.x,t.y,t.x2-t.x,t.y2-t.y),Nt.push(Ft)}Nt.push(Dt),Nt.transform(Pt),Nt.hide(),Ut=Lt.set(),Tt=Lt.set(),qt=Lt.set(),Ot=Lt.set(),$t=Lt.set(),Ht=Lt.set(),Vt=Lt.set(),At=Lt.set(),Rt=Lt.set(),Et=Lt.set(),jt=Lt.set(),zt=Lt.set(),Lt.set().push(Ut,Ot,Nt,Vt,Et)}(),gn(),function(){(Fe=document.createElement("div")).style.cssText="overflow: visible !important; clip-path: none !important; display:inline !important; opacity:1 !important; transform: none !important; visibility: visible !important; z-index: 1 !important; right: 5px !important; bottom: 5px !important; z-index: 1 !important; position: absolute !important; filter: opacity(1) !important;",pt.appendChild(Fe);if(s){var t=document.createElement("a");t.href="https://www.openstreetmap.org/copyright",t.title="Background © OpenStreetMap contributors",t.innerHTML="&copy; OSM",t.style.cssText="font: 12px Verdana, Arial, Helvetica, sans-serif !important; cursor: pointer !important; float: right !important; color: #000000 !important; text-decoration: none !important;",t.style.marginLeft=".5em",Fe.appendChild(t)}}(),tt||function(){if(!Oe){var t=s(["borderRadius","MozBorderRadius","WebkitBorderRadius"]),e=t?t+": "+(ct?2*K:K)+"px;":"";ue=Z||(_t/2>250?_t/2:250);var r=s(["boxShadow","MozBoxShadow","WebkitBoxShadow"]),i=r?r+": "+3*J+"px "+3*J+"px "+4*J+"px rgba(0,0,0,.5);":"";if(J<.01&&(i=""),ct){var o=/(\d+)(px|em)(.*)/g.exec(et);et=parseFloat(o[1])*ht+o[2]+o[3]}var a=".tt_mobile_sm{margin-top: .4em;} .tt_sm{"+e+i+"z-index: 1000000; background-color: "+G+"; padding: .6em; opacity:"+Q+"; font: "+et+"; color: black;} .tt_name_sm{float: left; font-weight: bold} .tt_custom_sm{overflow: hidden;}";a+=".btn_simplemaps{color: black;text-decoration: none;background: #ffffff;display: inline-block;padding: .5em .5em;margin: 0; width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; line-height: 1.43;text-align: center;white-space: nowrap;vertical-align: middle;-ms-touch-action: manipulation;touch-action: manipulation;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;border: 1px solid;border-radius: .3em;}    .btn_simplemaps:hover{  text-decoration: underline;}",a+=".xmark_sm{float: "+(nt?"left":"right")+"; margin-left: .5em; cursor: pointer; line-height: 0px; width: 1.3em !important;}",n.new_style(a),Oe=!0}function s(t){for(var e=document.documentElement,n=0;n<t.length;n++)if(t[n]in e.style){var r=t[n];return(r=(r=(r=(r=(r=r.replace("borderRadius","border-radius")).replace("MozBorderRadius","-moz-border-radius")).replace("WebkitBorderRadius","-webkit-border-radius")).replace("boxShadow","box-shadow")).replace("MozBoxShadow","-moz-box-shadow")).replace("WebkitBoxShadow","-webkit-box-shadow")}}}(),E=n.findPos(pt),P=E[0],N=E[1],D=0,j=0,Pe={create:function(){(A=document.createElement("div")).setAttribute("id","tt_sm_"+lt),A.style.position="absolute",A.style.display="none",pt.appendChild(A),pt.onmousemove=this.pos,A.onmousemove=this.pos},show:function(t){Ne||(f=!1,null==A&&Pe.create(),A.style.display="block",A.style.zIndex=2,A.style.maxWidth=ue+"px",A.innerHTML=t.sm.content,Pe.update_pos(t))},reset_pos:function(t,e,n){null==A&&Pe.create(),Pe.set_pos(0+e,0+t,n)},update_pos:function(t){Pe.set_pos(a,c,t)},pos:function(t,e){e?(a=e.u,c=e.l):(a=rt?event.clientY+document.documentElement.scrollTop:t.pageY,c=rt?event.clientX+document.documentElement.scrollLeft:t.pageX),a-=N,c-=P,Ne||w||f||C&&ot||Pe.set_pos(a,c)},set_pos:function(t,e,n){if(A){var r=!t||!e;if(n&&n.sm.on_click&&("yes"==R||"auto"==R&&_t<401)||r){A.style.top="-100px",A.style.left="-100px",A.style.bottom="auto",A.style.right="auto",D=parseInt(A.offsetHeight,10),j=parseInt(A.offsetWidth,10);var i=_t-j>0?.5*(_t-j):0,o=xt-D>0?.5*(xt-D):0;A.style.top=o+"px",A.style.left=i+"px",A.style.right="auto",A.style.bottom="auto"}else{if(T=0+.5*xt,e>(z=0+.5*_t)&&t>T)a=4;else if(e<z&&t>T)a=3;else if(e>z&&t<T)a=2;else var a=1;"below"==B?(3==a&&(a=1),4==a&&(a=2)):"above"==B&&(1==a&&(a=3),2==a&&(a=4)),1==a?(A.style.bottom="auto",A.style.top=t+5+"px",A.style.left=e+5+5+"px",A.style.right="auto"):2==a?(A.style.bottom="auto",A.style.top=t+5+"px",A.style.right=_t-e+5+"px",A.style.left="auto"):3==a?(A.style.bottom=xt-t+5+"px",A.style.top="auto",A.style.left=e+5+3+"px",A.style.right="auto"):(A.style.bottom=xt-t+5+"px",A.style.top="auto",A.style.right=_t-e+5+"px",A.style.left="auto")}}},hide:function(){null!=A&&(A.style.display="none"),(E=n.findPos(pt))&&(P=E[0],N=E[1])}},yn(),vn(),Nn(),Pn(),Dn(),setTimeout((function(){On(),jn(),function(){var t=r.lines?r.lines:r.borders;if(t){for(var e in t){var n=t[e],i=ce[e],o=i.size*(_t/wt)*It*1.25,a=!1;if(i.origin_location&&i.destination_location){var s=we[i.origin_location].sm.point0,l=we[i.destination_location].sm.point0;if(a="M "+s.x+","+s.y+" "+l.x+","+l.y+" Z",i.angle){var c=parseFloat(i.angle);if(c>-61&&c<61){s.x<=l.x&&(c*=-1);var u=Raphael.transformPath(a,"R"+c+","+s.x+","+s.y+"S2").toString(),h=Raphael.transformPath(a,"R-90S2").toString(),d=Raphael.pathIntersection(u,h)[0];a="M "+s.x+","+s.y+" C"+s.x+","+s.y+","+d.x+","+d.y+","+l.x+","+l.y}}}var p=a||n.path,f=Lt.path(p);f.transform(Bt),f.attr({stroke:i.color,fill:"none",cursor:"pointer","stroke-dasharray":[i.dash],"stroke-width":o,"stroke-linejoin":"round","stroke-miterlimit":4}),f.sm={},f.sm.size=i.size,f.sm.bbox=f.getBBox(!0),nt||f.node.setAttribute("class","sm_line_"+e),Et.push(f)}Et.hide()}}(),function(){yt.style.right="0em",yt.style.top="0em";var t=void 0===p.navigate_title?"Navigate":p.navigate_title;(c=document.createElement("select")).options.add(new Option(t,"-1")),c.options.add(new Option("Back","back")),c.options.add(new Option("Zoom in","in")),c.options.add(new Option("Zoom out","out")),c.options.add(new Option("Left","left")),c.options.add(new Option("Right","right")),c.options.add(new Option("Up","up")),c.options.add(new Option("Down","down")),c.style.marginRight=".5em",c.style.marginTop=".5em",c.style.float="left",yt.appendChild(c),c.onchange=function(t){if("-2"==this.value)return!1;"back"==this.value&&Ee(),"out"==this.value&&Jt(),"in"==this.value&&Qt(),"left"==this.value&&Kt("-.25","x"),"right"==this.value&&Kt(".25","x"),"up"==this.value&&Kt("-.25","y"),"down"==this.value&&Kt(".25","y"),setTimeout((function(){this.value="-1"}),500)};var e=void 0===p.states_title?"States":p.states_title,r=void 0===p.regions_title?"Regions":p.regions_title,i=void 0===p.locations_title?"Locations":p.locations_title,o={state:{title:e,array:fe},location:{title:i,array:we},region:{title:r,array:me}};for(var a in o){var s=o[a],l=Object.size(s.array);if(!(l<1||l<2&&"region"==a)){var c=document.createElement("select");for(var u in c.options.add(new Option(s.title,"-1")),c.style.marginRight=".5em",c.style.marginTop=".5em",c.style.float="left",s.array){var h=s.array[u];"out"==h.sm.type||h.sm.inactive||h.sm.hide||c.options.add(new Option(h.sm.name,h.sm.id))}c.onchange=n.callback_closure({entry:s,dropdown:c},(function(t){var e=t.dropdown,n=t.entry;if("-1"==e.value)return!1;var r=n.array[e.value],i=r.sm.type,o=function(){var t=r.sm.on_click;r.sm.on_click=!0,r.sm.content=En(r),or(r.sm.type,r.sm.id,(function(){r.sm.on_click=t,r.sm.content=En(r)}))};if("state"==i){function a(){r.sm.zoomable||r.sm.region?er(r.sm.id,o):o()}Ge(k,a)}else if("location"==i){function a(){rr(r.sm.id,4,o)}Ge(k,a)}else if("region"==i){function a(){nr(r.sm.bbox,1,o)}Ge(k,a)}})),yt.appendChild(c)}}}(),function(){if(!(!r.legend||!r.legend.entries||r.legend.entries.length<1||rt&&nt)){var t={};map_legend.style.left="0em",map_legend.style.bottom="0em",map_legend.style.padding=".8em",map_legend.style["background-color"]=rt?"#ffffff":"rgba(186, 186, 186, 0.2)";var e=document.createElement("ul");e.style.display="inline",e.style["list-style-type"]="none",e.style.margin="0",e.style.padding="0",map_legend.appendChild(e);var i="#"+lt+"_holder .sm_legend_item{float: left; cursor: pointer; margin-right: .75em} #"+lt+"_holder{font: "+et+";}";n.new_style(i);for(var o=r.legend.entries,a=0;a<o.length;a++)u(a,o[a]);var s=r.legend.html;s&&"no"!=s?map_legend.innerHTML=s:function(){for(var t in o){var n=o[t];n.shape=n.shape?n.shape:"circle",n.color=n.color?n.color:"#cecece",n.type=n.type?n.type:"location";var r=document.createElement("li");r.setAttribute("class","sm_legend_item"),r.setAttribute("data-id",t);var i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.style.display="inline-block",i.style["margin-right"]=".2em",i.style.width="1em",i.style.height="1em",i.style.stoke="#ffffff",i.style["stoke-width"]="3",i.style.fill="#ff0067",i.style["vertical-align"]="-0.15em","circle"==n.shape)(a=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx","50"),a.setAttribute("cy","50"),a.setAttribute("r","40");else if("square"==n.shape)(a=document.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x","10"),a.setAttribute("y","10"),a.setAttribute("width","80"),a.setAttribute("height","80");else{var a,s=Ve[n.shape];(a=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",s),i.setAttribute("width","1.5"),i.setAttribute("height","1.5"),a.setAttribute("stroke-width",".1")}["square","circle"].indexOf(n.shape)>-1?(a.setAttribute("stroke-width","10"),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("width","100"),i.setAttribute("height","100")):["diamond","star"].indexOf(n.shape)>-1?(i.setAttribute("viewBox","-.5 -.6 1 1.2"),i.setAttribute("height","1.8")):["triangle"].indexOf(n.shape)>-1?(i.setAttribute("viewBox","-.6 -.7 1.2 1.1"),i.setAttribute("width","1.8"),i.setAttribute("height","1.8")):["heart"].indexOf(n.shape)>-1?(i.setAttribute("viewBox","-.7 -.5 1.3 1"),i.setAttribute("width","2")):["marker"].indexOf(n.shape)>-1&&(i.setAttribute("viewBox","-.6 -.9 1.1 .8"),i.setAttribute("width","1.7"),i.setAttribute("height","1.7")),a.setAttribute("fill",n.color),a.setAttribute("stroke","white"),i.appendChild(a),r.appendChild(i);var l=document.createTextNode(n.name);r.appendChild(l),e.appendChild(r)}}();var l=mt.getElementsByClassName("sm_legend_item");for(a=0;a<l.length;a++)n.addEvent(l[a],"mouseover",c),n.addEvent(l[a],"mousedown",c)}function c(){var e=this.dataset.id,n=t[e];for(var r in n){var i=n[r].sm;("state"==i.type?Ie:ar)(i.id)}}function u(e,n){t[e]=[];var r="state"==n.type?fe:we;for(var i in r){var o=r[i];n.ids?n.ids.split(",").indexOf(o.sm.id)>-1&&t[e].push(o):o.sm.attributes.fill!=n.color||o.sm.hide||t[e].push(o)}}}(),kn(),Wn(),Pe.create(),Xn(),Gn(),Qn(),gr(),hn("complete",[]),n.isFunction(e)&&e(),nn()}),1))}function tr(t,e){Tn(me[t],!1,e)}function er(t,e){Tn(fe[t],!1,e)}function nr(t,e,n){void 0===e&&(e=4),void 0===n&&(n=function(){}),Tn({sm:{type:"manual",zp:e,bbox:t}},!1,(function(){n(),Yt.show()}))}function rr(t,e,n){void 0===e&&(e=4),void 0===n&&(n=function(){});var r={sm:{type:"manual",zp:e}},i=we[t],o=i.sm.size*bt*e,a=o*kt/wt,s=i.sm.x-.5*o,l=i.sm.y-.5*a,c=o/(wt*bt);r.sm.zooming_dimensions={x:s,y:l,w:o,h:a,r:c},Tn(r,!1,(function(){n(),Yt.show()}))}function ir(){Ze&&ze.call(Ze),w&&(w=!1,ot||(Pe.hide(),C=!1))}function or(e,n,r){if(void 0===r&&(r=function(){}),"state"==e)var i=fe[n];else i="region"==e?me[n]:we[n];var o=i.sm.on_click,a=ge.sm.zooming_dimensions;if("location"!=e){var s=i.sm.bbox,l=.5*(s.x+s.x2),c=.5*(s.y+s.y2);l*=bt,c*=bt}else l=i.sm.x,c=i.sm.y;var u=(l-a.x)/Mt,h=(c-a.y)/Mt,d=u>1.1*_t||h>1.1*xt,p=!i.sm.region&&"region"==t.zoom_level;return d||p?tr("-1",(function(){or(e,n,r)})):i.sm.region&&"out"==t.zoom_level?tr(i.sm.region,(function(){or(e,n,r)})):(w=!0,o?Se.call(i):Le.call(i),Pe.reset_pos(u,h,i),f=!0,w=!1,r(),!0)}function ar(t){var e=we[t];e&&Ce(e,!0)}function sr(){Pe.hide(),C=!1,ot?ze.call(k):Ze&&ze.call(Ze)}function lr(t,e){se(t);var r=fe[t].sm.labels;pe(t);for(var i=0;i<r.length;i++){var o=r[i].sm.id;le(o),xe(o)}n.isFunction(e)&&e()}function cr(){cn=!0,Pe.hide()}function ur(){cn=!1}function hr(){un=!0}function dr(){un=!1}function pr(t){Ee(t)}function fr(t){Ie(t)}function mr(){t.calibrate=An,t.get_xy=en,t.proj=_n,t.load=Kn,t.region_zoom=tr,t.state_zoom=er,t.zoom_in=!1,t.zoom_out=!1,t.location_zoom=rr,t.back=pr,t.popup=or,t.pulse=ar,t.pulse_state=fr,t.popup_hide=sr,t.zoom_level="out",t.ignore_clicks=!1,t.zoom_level_id=!1,t.disable_urls=hr,t.enable_urls=dr,t.disable_popups=cr,t.enable_popups=ur,t.refresh=Jn,t.refresh_state=lr,t.loaded=!0,t.trial=a}function gr(){t.states=fe,t.regions=me,t.locations=we,t.labels=ve,t.tooltip=Pe}}window[t]=u,e.docReady((function(){if(function(t,e){(i=u.hooks[t])&&i.apply(null,e);for(var n=u.plugin_hooks[t],r=0;r<n.length;r++){var i;(i=n[r])&&i.apply(null,e)}}("ready"),!window[t].loaded)for(var e=0;e<l.length;e++){var n=l[e];n&&n.mapdata&&"no"!=n.mapdata.main_settings.auto_load&&function(t){setTimeout((function(){t.load()}),1)}(n)}})),l.push(u)}("simplemaps_countrymap")},929:function(t,e,n){var r=n(258).W,i=Math.PI/180,o=2048;function a(t){return t.text}function s(){return"serif"}function l(){return"normal"}function c(t){return Math.sqrt(t.value)}function u(){return 30*(~~(6*Math.random())-3)}function h(){return 1}function d(t,e,n,r){if(!e.sprite){var a=t.context,s=t.ratio;a.clearRect(0,0,2048/s,o/s);var l=0,c=0,u=0,h=n.length;for(--r;++r<h;){e=n[r],a.save(),a.font=e.style+" "+e.weight+" "+~~((e.size+1)/s)+"px "+e.font;var d=a.measureText(e.text+"m").width*s,p=e.size<<1;if(e.rotate){var f=Math.sin(e.rotate*i),m=Math.cos(e.rotate*i),g=d*m,y=d*f,v=p*m,_=p*f;d=Math.max(Math.abs(g+_),Math.abs(g-_))+31>>5<<5,p=~~Math.max(Math.abs(y+v),Math.abs(y-v))}else d=d+31>>5<<5;if(p>u&&(u=p),l+d>=2048&&(l=0,c+=u,u=0),c+p>=o)break;a.translate((l+(d>>1))/s,(c+(p>>1))/s),e.rotate&&a.rotate(e.rotate*i),a.fillText(e.text,0,0),e.padding&&(a.lineWidth=2*e.padding,a.strokeText(e.text,0,0)),a.restore(),e.width=d,e.height=p,e.xoff=l,e.yoff=c,e.x1=d>>1,e.y1=p>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,l+=d}for(var x=a.getImageData(0,0,2048/s,o/s).data,b=[];--r>=0;)if((e=n[r]).hasText){for(var w=(d=e.width)>>5,k=(p=e.y1-e.y0,0);k<p*w;k++)b[k]=0;if(null==(l=e.xoff))return;c=e.yoff;for(var C=0,I=-1,M=0;M<p;M++){for(k=0;k<d;k++){var S=w*M+(k>>5),L=x[2048*(c+M)+(l+k)<<2]?1<<31-k%32:0;b[S]|=L,C|=L}C?I=M:(e.y0++,p--,M--,c++)}e.y1=e.y0+I,e.sprite=b.slice(0,(e.y1-e.y0)*w)}}}function p(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),s=127&a,l=32-s,c=t.y1-t.y0,u=(t.y+t.y0)*n+(a>>5),h=0;h<c;h++){r=0;for(var d=0;d<=o;d++)if((r<<l|(d<o?(r=i[h*o+d])>>>s:0))&e[u+d])return!0;u+=n}return!1}function f(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function m(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function g(){return document.createElement("canvas")}function y(t){return"function"==typeof t?t:function(){return t}}t.exports=function(){var t=[256,256],e=a,n=s,i=c,_=l,x=l,b=u,w=h,k=m,C=[],I=1/0,M=r("word","end"),S=null,L=Math.random,z={},T=g;function A(e,n,r){t[0],t[1];for(var i,o,a,s,l,c=n.x,u=n.y,h=Math.sqrt(t[0]*t[0]+t[1]*t[1]),d=k(t),f=L()<.5?1:-1,m=-f;(i=d(m+=f))&&(o=~~i[0],a=~~i[1],!(Math.min(Math.abs(o),Math.abs(a))>=h));)if(n.x=c+o,n.y=u+a,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1]||r&&p(n,e,t[0])||r&&(l=r,!((s=n).x+s.x1>l[0].x&&s.x+s.x0<l[1].x&&s.y+s.y1>l[0].y&&s.y+s.y0<l[1].y)))){for(var g,y=n.sprite,v=n.width>>5,_=t[0]>>5,x=n.x-(v<<4),b=127&x,w=32-b,C=n.y1-n.y0,I=(n.y+n.y0)*_+(x>>5),M=0;M<C;M++){g=0;for(var S=0;S<=v;S++)e[I+S]|=g<<w|(S<v?(g=y[M*v+S])>>>b:0);I+=_}return delete n.sprite,!0}return!1}return z.canvas=function(t){return arguments.length?(T=y(t),z):T},z.start=function(){var r=function(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=2048/e,t.height=o/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}(T()),a=function(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}((t[0]>>5)*t[1]),s=null,l=C.length,c=-1,u=[],h=C.map((function(t,r){return t.text=e.call(this,t,r),t.font=n.call(this,t,r),t.style=_.call(this,t,r),t.weight=x.call(this,t,r),t.rotate=b.call(this,t,r),t.size=~~i.call(this,t,r),t.padding=w.call(this,t,r),t})).sort((function(t,e){return e.size-t.size}));return S&&clearInterval(S),S=setInterval(p,0),p(),z;function p(){for(var e=Date.now();Date.now()-e<I&&++c<l&&S;){var n=h[c];n.x=t[0]*(L()+.5)>>1,n.y=t[1]*(L()+.5)>>1,d(r,n,h,c),n.hasText&&A(a,n,s)&&(u.push(n),M.call("word",z,n),s?f(s,n):s=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}c>=l&&(z.stop(),M.call("end",z,u,s))}},z.stop=function(){return S&&(clearInterval(S),S=null),z},z.timeInterval=function(t){return arguments.length?(I=null==t?1/0:t,z):I},z.words=function(t){return arguments.length?(C=t,z):C},z.size=function(e){return arguments.length?(t=[+e[0],+e[1]],z):t},z.font=function(t){return arguments.length?(n=y(t),z):n},z.fontStyle=function(t){return arguments.length?(_=y(t),z):_},z.fontWeight=function(t){return arguments.length?(x=y(t),z):x},z.rotate=function(t){return arguments.length?(b=y(t),z):b},z.text=function(t){return arguments.length?(e=y(t),z):e},z.spiral=function(t){return arguments.length?(k=v[t]||t,z):k},z.fontSize=function(t){return arguments.length?(i=y(t),z):i},z.padding=function(t){return arguments.length?(w=y(t),z):w},z.random=function(t){return arguments.length?(L=t,z):L},z.on=function(){var t=M.on.apply(M,arguments);return t===M?z:t},z};var v={archimedean:m,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}}},626:function(t,e){"use strict";var n={value:function(){}};function r(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function o(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function a(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function s(t,e,r){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=n,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:e,value:r}),t}i.prototype=r.prototype={constructor:i,on:function(t,e){var n,r=this._,i=o(t+"",r),l=-1,c=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++l<c;)if(n=(t=i[l]).type)r[n]=s(r[n],t.name,e);else if(null==e)for(n in r)r[n]=s(r[n],t.name,null);return this}for(;++l<c;)if((n=(t=i[l]).type)&&(n=a(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},e.Z=r},258:function(t,e,n){"use strict";n.d(e,{W:function(){return r.Z}});var r=n(626)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var r={};!function(){"use strict";n.d(r,{L:function(){return Li}});var t=n(421),e=n.n(t);function i(){let t=document.getElementById("date-from").value,e=document.getElementById("date-to").value,n=document.querySelectorAll("#dropdown-languages-project-details .choose input:checked"),r=[],i=[],o=[];for(let t of n)i.push(t.value);let a=document.querySelectorAll("#dropdown-sources .choose input:checked");for(let t of a)r.push(t.value),o.push(t.getAttribute("data-id"));return{dateFrom:t,dateTo:e,sources:"",sourcesID:o.join(","),languages:i.join(",")}}let o=function(){l++},a=function(){l--},s=function(){return 0===l},l=0;function c(t){document.querySelector(`[data-graph-table="${t}"]`).style.display="block"}function u(t,e,n,r,i,o,a,s){let l=document.createElement("div");l.className="row no-gutters",n<e&&(e=n);let c=`\n    <div class="col-12 col-md">\n        <div class="pagination-data">Showing ${t} to ${e} of ${n} entries</div>\n    </div>\n    `;n>0&&(l.innerHTML=c);let u=document.createElement("div");u.className="col-12 col-md-auto";let d=document.createElement("ul");if(d.className="pagination",u.append(d),l.append(u),i<7)for(let t=1;t<=i;t++){let e=h(r,t,a,s);d.append(e)}else{let t=h(r,1,a,s);if(d.append(t),r<4){for(let t=2;t<5;t++){let e=h(r,t,a,s);d.append(e)}let t=document.createElement("li"),e=document.createElement("a");e.innerHTML="..",t.append(e),d.append(t),t=h(r,i,a,s),d.append(t)}if(r>=4){t=document.createElement("li");let e=document.createElement("a");if(e.innerHTML="..",t.append(e),d.append(t),r<i-3){for(let t=r-1;t<r+2;t++){let e=h(r,t,a,s);d.append(e)}t=document.createElement("li"),e=document.createElement("a"),e.innerHTML="..",t.append(e),d.append(t),t=h(r,i,a,s),d.append(t)}else for(let t=r-1;t<=i;t++){let e=h(r,t,a,s);d.append(e)}}}o.append(l)}function h(t,e,n,r){let i=document.createElement("li"),o=document.createElement("a");return o.innerHTML=e,o.setAttribute("style","cursor:pointer"),o.addEventListener("click",(t=>{n(e,r)})),t==e&&(i.className="active"),i.append(o),i}function d(t,e){let n=document.getElementById("data-table-modal-content");n.innerHTML="";let r=document.getElementById("data-table-modal-pagination");r.innerHTML="";let o=document.getElementById("data-table-modal-page-size").value;i(),document.getElementById("data-modal-table-csv").href=e.wordCloudURL,fetch(e.dataURL+`&page-size=${o}&page=${t}`).then((t=>t.json())).then((t=>{for(let e of t.data){let t=document.createElement("tr"),r="";r=e.text.length>150?e.text.substring(0,150)+"...":e.text;let i=`\n        <td>\n        <small>${e.dateCreated}</small>\n       </td>\n       <td>\n         ${r}\n       </td>\n       <td >\n        <b><a href="${e.url}">${e.sourceLabel}</a></b>\n       </td>\n       <td class="text-center">\n        ${e.weightedScore.toFixed(4)}\n       </td>\n       <td class="text-center">\n         ${e.sentimentValue.toFixed(4)}\n       </td>\n       <td class="text-center">\n         <a href="#" class="info-button">${e.languageCode}</a>\n       </td>\n        `;t.innerHTML=i,n.append(t)}let i=t.pageSize*(t.currentPage-1)+1;u(i,i+t.pageSize-1,t.total,t.currentPage,t.totalPages,r,d,e)}))}function p(){}function f(t){return null==t?p:function(){return this.querySelector(t)}}function m(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function g(){return[]}function y(t){return null==t?g:function(){return this.querySelectorAll(t)}}function v(t){return function(){return this.matches(t)}}function _(t){return function(e){return e.matches(t)}}var x=Array.prototype.find;function b(){return this.firstElementChild}var w=Array.prototype.filter;function k(){return this.children}function C(t){return new Array(t.length)}function I(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function M(t){return function(){return t}}function S(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new I(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function L(t,e,n,r,i,o,a){var s,l,c,u=new Map,h=e.length,d=o.length,p=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(p[s]=c=a.call(l,l.__data__,s,e)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<d;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new I(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u.get(p[s])===l&&(i[s]=l)}function z(t){return t.__data__}function T(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}I.prototype={constructor:I,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var A="http://www.w3.org/1999/xhtml",E={svg:"http://www.w3.org/2000/svg",xhtml:A,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function R(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),E.hasOwnProperty(e)?{space:E[e],local:t}:t}function B(t){return function(){this.removeAttribute(t)}}function P(t){return function(){this.removeAttributeNS(t.space,t.local)}}function N(t,e){return function(){this.setAttribute(t,e)}}function D(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function F(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function j(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function U(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function q(t){return function(){this.style.removeProperty(t)}}function O(t,e,n){return function(){this.style.setProperty(t,e,n)}}function $(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function H(t,e){return t.style.getPropertyValue(e)||U(t).getComputedStyle(t,null).getPropertyValue(e)}function V(t){return function(){delete this[t]}}function X(t,e){return function(){this[t]=e}}function Y(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function W(t){return t.trim().split(/^|\s+/)}function G(t){return t.classList||new Z(t)}function Z(t){this._node=t,this._names=W(t.getAttribute("class")||"")}function Q(t,e){for(var n=G(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function J(t,e){for(var n=G(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function K(t){return function(){Q(this,t)}}function tt(t){return function(){J(this,t)}}function et(t,e){return function(){(e.apply(this,arguments)?Q:J)(this,t)}}function nt(){this.textContent=""}function rt(t){return function(){this.textContent=t}}function it(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function ot(){this.innerHTML=""}function at(t){return function(){this.innerHTML=t}}function st(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function lt(){this.nextSibling&&this.parentNode.appendChild(this)}function ct(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ut(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===A&&e.documentElement.namespaceURI===A?e.createElement(t):e.createElementNS(n,t)}}function ht(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function dt(t){var e=R(t);return(e.local?ht:ut)(e)}function pt(){return null}function ft(){var t=this.parentNode;t&&t.removeChild(this)}function mt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function gt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function vt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function _t(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function xt(t,e,n){var r=U(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function bt(t,e){return function(){return xt(this,t,e)}}function wt(t,e){return function(){return xt(this,t,e.apply(this,arguments))}}Z.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var kt=[null];function Ct(t,e){this._groups=t,this._parents=e}function It(){return new Ct([[document.documentElement]],kt)}Ct.prototype=It.prototype={constructor:Ct,select:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Ct(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:m(e)}}(t):y(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Ct(r,i)},selectChild:function(t){return this.select(null==t?b:function(t){return function(){return x.call(this.children,t)}}("function"==typeof t?t:_(t)))},selectChildren:function(t){return this.selectAll(null==t?k:function(t){return function(){return w.call(this.children,t)}}("function"==typeof t?t:_(t)))},filter:function(t){"function"!=typeof t&&(t=v(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Ct(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,z);var n=e?L:S,r=this._parents,i=this._groups;"function"!=typeof t&&(t=M(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],d=h.length,p=m(t.call(u,u&&u.__data__,c,r)),f=p.length,g=s[c]=new Array(f),y=a[c]=new Array(f),v=l[c]=new Array(d);n(u,h,g,y,v,p,e);for(var _,x,b=0,w=0;b<f;++b)if(_=g[b]){for(b>=w&&(w=b+1);!(x=y[w])&&++w<f;);_._next=x||null}}return(a=new Ct(a,r))._enter=s,a._exit=l,a},enter:function(){return new Ct(this._enter||this._groups.map(C),this._parents)},exit:function(){return new Ct(this._exit||this._groups.map(C),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof Ct))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(d[p]=l);for(;s<r;++s)a[s]=e[s];return new Ct(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=T);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new Ct(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=R(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?P:B:"function"==typeof e?n.local?j:F:n.local?D:N)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?q:"function"==typeof e?$:O)(t,e,null==n?"":n)):H(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?V:"function"==typeof e?Y:X)(t,e)):this.node()[t]},classed:function(t,e){var n=W(t+"");if(arguments.length<2){for(var r=G(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?et:e?K:tt)(n,e))},text:function(t){return arguments.length?this.each(null==t?nt:("function"==typeof t?it:rt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ot:("function"==typeof t?st:at)(t)):this.node().innerHTML},raise:function(){return this.each(lt)},lower:function(){return this.each(ct)},append:function(t){var e="function"==typeof t?t:dt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:dt(t),r=null==e?pt:"function"==typeof e?e:f(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ft)},clone:function(t){return this.select(t?gt:mt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=yt(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?_t:vt,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?wt:bt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var Mt,St,Lt=It,zt=n(626),Tt=0,At=0,Et=0,Rt=0,Bt=0,Pt=0,Nt="object"==typeof performance&&performance.now?performance:Date,Dt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ft(){return Bt||(Dt(jt),Bt=Nt.now()+Pt)}function jt(){Bt=0}function Ut(){this._call=this._time=this._next=null}function qt(t,e,n){var r=new Ut;return r.restart(t,e,n),r}function Ot(){Bt=(Rt=Nt.now())+Pt,Tt=At=0;try{!function(){Ft(),++Tt;for(var t,e=Mt;e;)(t=Bt-e._time)>=0&&e._call.call(null,t),e=e._next;--Tt}()}finally{Tt=0,function(){for(var t,e,n=Mt,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Mt=e);St=t,Ht(r)}(),Bt=0}}function $t(){var t=Nt.now(),e=t-Rt;e>1e3&&(Pt-=e,Rt=t)}function Ht(t){Tt||(At&&(At=clearTimeout(At)),t-Bt>24?(t<1/0&&(At=setTimeout(Ot,t-Nt.now()-Pt)),Et&&(Et=clearInterval(Et))):(Et||(Rt=Nt.now(),Et=setInterval($t,1e3)),Tt=1,Dt(Ot)))}function Vt(t,e,n){var r=new Ut;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Ut.prototype=qt.prototype={constructor:Ut,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ft():+n)+(null==e?0:+e),this._next||St===this||(St?St._next=this:Mt=this,St=this),this._call=t,this._time=n,Ht()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ht())}};var Xt=(0,zt.Z)("start","end","cancel","interrupt"),Yt=[];function Wt(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(l){var c,u,h,d;if(1!==n.state)return s();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return Vt(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(Vt((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=qt((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Xt,tween:Yt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Gt(t,e){var n=Qt(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Zt(t,e){var n=Qt(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Qt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Jt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Kt,te=180/Math.PI,ee={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ne(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*te,skewX:Math.atan(l)*te,scaleX:a,scaleY:s}}function re(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:Jt(t,i)},{i:l-2,x:Jt(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Jt(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Jt(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Jt(t,n)},{i:s-2,x:Jt(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var ie=re((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ee:ne(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),oe=re((function(t){return null==t?ee:(Kt||(Kt=document.createElementNS("http://www.w3.org/2000/svg","g")),Kt.setAttribute("transform",t),(t=Kt.transform.baseVal.consolidate())?ne((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ee)}),", ",")",")");function ae(t,e){var n,r;return function(){var i=Zt(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function se(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Zt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function le(t,e,n){var r=t._id;return t.each((function(){var t=Zt(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Qt(t,r).value[e]}}function ce(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ue(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function he(){}var de=.7,pe=1/de,fe="\\s*([+-]?\\d+)\\s*",me="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ge="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ye=/^#([0-9a-f]{3,8})$/,ve=new RegExp("^rgb\\("+[fe,fe,fe]+"\\)$"),_e=new RegExp("^rgb\\("+[ge,ge,ge]+"\\)$"),xe=new RegExp("^rgba\\("+[fe,fe,fe,me]+"\\)$"),be=new RegExp("^rgba\\("+[ge,ge,ge,me]+"\\)$"),we=new RegExp("^hsl\\("+[me,ge,ge]+"\\)$"),ke=new RegExp("^hsla\\("+[me,ge,ge,me]+"\\)$"),Ce={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ie(){return this.rgb().formatHex()}function Me(){return this.rgb().formatRgb()}function Se(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ye.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Le(e):3===n?new Ee(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ze(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ze(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ve.exec(t))?new Ee(e[1],e[2],e[3],1):(e=_e.exec(t))?new Ee(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=xe.exec(t))?ze(e[1],e[2],e[3],e[4]):(e=be.exec(t))?ze(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=we.exec(t))?Ne(e[1],e[2]/100,e[3]/100,1):(e=ke.exec(t))?Ne(e[1],e[2]/100,e[3]/100,e[4]):Ce.hasOwnProperty(t)?Le(Ce[t]):"transparent"===t?new Ee(NaN,NaN,NaN,0):null}function Le(t){return new Ee(t>>16&255,t>>8&255,255&t,1)}function ze(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ee(t,e,n,r)}function Te(t){return t instanceof he||(t=Se(t)),t?new Ee((t=t.rgb()).r,t.g,t.b,t.opacity):new Ee}function Ae(t,e,n,r){return 1===arguments.length?Te(t):new Ee(t,e,n,null==r?1:r)}function Ee(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Re(){return"#"+Pe(this.r)+Pe(this.g)+Pe(this.b)}function Be(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Pe(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ne(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Fe(t,e,n,r)}function De(t){if(t instanceof Fe)return new Fe(t.h,t.s,t.l,t.opacity);if(t instanceof he||(t=Se(t)),!t)return new Fe;if(t instanceof Fe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Fe(a,s,l,t.opacity)}function Fe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function je(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ue(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}ce(he,Se,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ie,formatHex:Ie,formatHsl:function(){return De(this).formatHsl()},formatRgb:Me,toString:Me}),ce(Ee,Ae,ue(he,{brighter:function(t){return t=null==t?pe:Math.pow(pe,t),new Ee(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?de:Math.pow(de,t),new Ee(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Re,formatHex:Re,formatRgb:Be,toString:Be})),ce(Fe,(function(t,e,n,r){return 1===arguments.length?De(t):new Fe(t,e,n,null==r?1:r)}),ue(he,{brighter:function(t){return t=null==t?pe:Math.pow(pe,t),new Fe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?de:Math.pow(de,t),new Fe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ee(je(t>=240?t-240:t+120,i,r),je(t,i,r),je(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var qe=t=>()=>t;function Oe(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):qe(isNaN(t)?e:t)}var $e=function t(e){var n=function(t){return 1==(t=+t)?Oe:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):qe(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Ae(t)).r,(e=Ae(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Oe(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function He(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ae(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}He((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Ue((n-r/e)*e,a,i,o,s)}})),He((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Ue((n-r/e)*e,i,o,a,s)}}));var Ve=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xe=new RegExp(Ve.source,"g");function Ye(t,e){var n,r,i,o=Ve.lastIndex=Xe.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Ve.exec(t))&&(r=Xe.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Jt(n,r)})),o=Xe.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function We(t,e){var n;return("number"==typeof e?Jt:e instanceof Se?$e:(n=Se(e))?(e=n,$e):Ye)(t,e)}function Ge(t){return function(){this.removeAttribute(t)}}function Ze(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qe(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Je(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Ke(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttribute(t)}}function tn(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function en(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function nn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function rn(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&nn(t,i)),n}return i._value=e,i}function on(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&en(t,i)),n}return i._value=e,i}function an(t,e){return function(){Gt(this,t).delay=+e.apply(this,arguments)}}function sn(t,e){return e=+e,function(){Gt(this,t).delay=e}}function ln(t,e){return function(){Zt(this,t).duration=+e.apply(this,arguments)}}function cn(t,e){return e=+e,function(){Zt(this,t).duration=e}}function un(t,e){if("function"!=typeof e)throw new Error;return function(){Zt(this,t).ease=e}}function hn(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Gt:Zt;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var dn=Lt.prototype.constructor;function pn(t){return function(){this.style.removeProperty(t)}}function fn(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function mn(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&fn(t,o,n)),r}return o._value=e,o}function gn(t){return function(e){this.textContent=t.call(this,e)}}function yn(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&gn(r)),e}return r._value=t,r}var vn=0;function _n(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function xn(){return++vn}var bn=Lt.prototype;_n.prototype=function(t){return Lt().transition(t)}.prototype={constructor:_n,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=f(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,Wt(h[d],e,n,d,h,Qt(s,n)));return new _n(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=y(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,p=t.call(l,l.__data__,h,c),f=Qt(l,n),m=0,g=p.length;m<g;++m)(d=p[m])&&Wt(d,e,n,m,p,f);o.push(p),a.push(l)}return new _n(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=v(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new _n(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(d[p]=l);for(;s<r;++s)a[s]=e[s];return new _n(a,this._parents,this._name,this._id)},selection:function(){return new dn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=xn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=Qt(a,e);Wt(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new _n(r,this._parents,t,n)},call:bn.call,nodes:bn.nodes,node:bn.node,size:bn.size,empty:bn.empty,each:bn.each,on:function(t,e){var n=this._id;return arguments.length<2?Qt(this.node(),n).on.on(t):this.each(hn(n,t,e))},attr:function(t,e){var n=R(t),r="transform"===n?oe:We;return this.attrTween(t,"function"==typeof e?(n.local?tn:Ke)(n,r,le(this,"attr."+t,e)):null==e?(n.local?Ze:Ge)(n):(n.local?Je:Qe)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=R(t);return this.tween(n,(r.local?rn:on)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?ie:We;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=H(this,t),a=(this.style.removeProperty(t),H(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,pn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=H(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=H(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}(t,r,le(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=Zt(this,t),c=l.on,u=null==l.value[a]?o||(o=pn(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=H(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,mn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(le(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,yn(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Qt(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?ae:se)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?an:sn)(e,t)):Qt(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ln:cn)(e,t)):Qt(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(un(e,t)):Qt(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Zt(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=Zt(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:bn[Symbol.iterator]};var wn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function kn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Lt.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},Lt.prototype.transition=function(t){var e,n;t instanceof _n?(e=t._id,t=t._name):(e=xn(),(n=wn).time=Ft(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&Wt(a,t,e,c,s,n||kn(a,e));return new _n(r,this._parents,t,e)};const{abs:Cn,max:In,min:Mn}=Math;function Sn(t){return{type:t}}["w","e"].map(Sn),["n","s"].map(Sn),["n","w","e","s","nw","ne","sw","se"].map(Sn);var Ln=Math.sqrt(50),zn=Math.sqrt(10),Tn=Math.sqrt(2);function An(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Ln?10:o>=zn?5:o>=Tn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ln?10:o>=zn?5:o>=Tn?2:1)}function En(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Rn(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>En(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,n,i,o-1);return a>i&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}const Bn=Rn(En),Pn=Bn.right;Bn.left,Rn((function(t){return null===t?NaN:+t})).center;var Nn=Pn;function Dn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=qn(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Fn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function jn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=qn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}function Un(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function qn(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?qe(e):("number"===i?Jt:"string"===i?(n=Se(e))?(e=n,$e):Ye:e instanceof Se?$e:e instanceof Date?Fn:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Dn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?jn:Jt:Un))(t,e)}function On(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $n(t){return+t}var Hn=[0,1];function Vn(t){return t}function Xn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Yn(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Xn(i,r),o=n(a,o)):(r=Xn(r,i),o=n(o,a)),function(t){return o(r(t))}}function Wn(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Xn(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Nn(t,e,1,r)-1;return o[n](i[n](e))}}function Gn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zn(){return function(){var t,e,n,r,i,o,a=Hn,s=Hn,l=qn,c=Vn;function u(){var t,e,n,l=Math.min(a.length,s.length);return c!==Vn&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=l>2?Wn:Yn,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),Jt)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,$n),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=On,u()},h.clamp=function(t){return arguments.length?(c=!!t||Vn,u()):c!==Vn},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}()(Vn,Vn)}function Qn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Jn,Kn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tr(t){if(!(e=Kn.exec(t)))throw new Error("invalid format: "+t);var e;return new er({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function er(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function nr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function rr(t){return(t=nr(Math.abs(t)))?t[1]:NaN}function ir(t,e){var n=nr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}tr.prototype=er.prototype,er.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var or={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ir(100*t,e),r:ir,s:function(t,e){var n=nr(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Jn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+nr(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ar(t){return t}var sr,lr,cr,ur=Array.prototype.map,hr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function dr(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=An(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Ln?i*=10:o>=zn?i*=5:o>=Tn&&(i*=2),e<t?-i:i}(t,e,n);switch((r=tr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(rr(e)/3)))-rr(Math.abs(t)))}(o,a))||(r.precision=i),cr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,rr(e)-rr(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-rr(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return lr(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=An(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function pr(){var t=Zn();return t.copy=function(){return Gn(t,pr())},Qn.apply(t,arguments),dr(t)}function fr(t,e,n){this.k=t,this.x=e,this.y=n}sr=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?ar:(e=ur.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?ar:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(ur.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=tr(t)).fill,n=t.align,h=t.sign,d=t.symbol,p=t.zero,f=t.width,m=t.comma,g=t.precision,y=t.trim,v=t.type;"n"===v?(m=!0,v="g"):or[v]||(void 0===g&&(g=12),y=!0,v="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var _="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===d?o:/[%p]/.test(v)?l:"",b=or[v],w=/[defgprs%]/.test(v);function k(t){var i,o,l,d=_,k=x;if("c"===v)k=b(t)+k,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:b(Math.abs(t),g),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),C&&0==+t&&"+"!==h&&(C=!1),d=(C?"("===h?h:c:"-"===h||"("===h?"":h)+d,k=("s"===v?hr[8+Jn/3]:"")+k+(C&&"("===h?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){k=(46===l?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}m&&!p&&(t=r(t,1/0));var I=d.length+t.length+k.length,M=I<f?new Array(f-I+1).join(e):"";switch(m&&p&&(t=r(M+t,M.length?f-k.length:1/0),M=""),n){case"<":t=d+t+k+M;break;case"=":t=d+M+t+k;break;case"^":t=M.slice(0,I=M.length>>1)+d+t+k+M.slice(I);break;default:t=M+d+t+k}return s(t)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=tr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(rr(e)/3))),i=Math.pow(10,-r),o=hr[8+r/3];return function(t){return n(i*t)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),lr=sr.format,cr=sr.formatPrefix,fr.prototype={constructor:fr,scale:function(t){return 1===t?this:new fr(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new fr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new fr(1,0,0),fr.prototype;var mr=n(929),gr=n.n(mr);function yr(t){let e=document.querySelector("#word-cloud-modal-container");e.innerHTML="Loading...",fetch(t).then((t=>t.json())).then((t=>{let n=.8*window.innerWidth,r=.7*window.innerHeight;if(e.innerHTML="",t[0]){let e=t[0].keywordCount;var i=pr().domain([10,e]).range(["lightblue","steelblue"]),o=gr()().size([n,r]).words(t.map((function(t){return{text:t.keyword,size:t.keywordCount/e*180,keyCount:t.keywordCount}}))).padding(5).rotate((function(){return 90*~~(2*Math.random())})).font("Impact").fontSize((function(t){return t.size})).on("end",(function(t){(function(t){return new Ct([[document.querySelector(t)]],[document.documentElement])})("#word-cloud-modal-container").append("svg").attr("width",n).attr("height",r).append("g").attr("transform","translate("+o.size()[0]/2+","+o.size()[1]/2+")").selectAll("text").data(t).enter().append("text").style("font-size",(function(t){return t.size+"px"})).style("font-family","Impact").style("fill",(function(t){return i(t.keyCount)})).attr("text-anchor","middle").attr("transform",(function(t){return"translate("+[t.x,t.y]+")"})).text((function(t){return t.text}))}));o.start()}else document.querySelector("#word-cloud-modal-container").innerHTML="No keywords available"})).catch((()=>{document.querySelector("#word-cloud-modal-container").innerHTML="No keywords available"}))}let vr,_r,xr=document.querySelector("#overall-sentiment-chart"),br=window.project_id;let wr,kr,Cr,Ir=document.querySelector("#volume-by-source"),Mr={},Sr=document.querySelector("#aspect-count-graphs"),Lr=document.querySelector("#co-occurrence-graph"),zr=document.querySelector("#aspect-by-sentiment-percentage"),Tr=document.querySelector("#aspect-by-sentiment-percentage-limit");function Ar(){o(),kr&&kr.destroy(),zr.innerHTML="Loading...";let t={series:[],chart:{type:"bar",height:440,stacked:!0,stackType:"100%",events:{dataPointSelection:function(t,e,n){let r=n.w.config.xaxis.categories[n.dataPointIndex],o=n.w.config.series[n.seriesIndex].name,a={};a.aspect=r,a.sentiment=o.toLowerCase();let s=i();document.querySelector("#data-table-modal").style.display="block";let l=`/api/data-per-aspect/${window.project_id}/?format=word-cloud&`+new URLSearchParams({sentiment:encodeURIComponent(a.sentiment),"aspect-label":encodeURIComponent(a.aspect),languages:encodeURIComponent(s.languages),sources:s.sources,sourcesID:s.sourcesID,"date-from":s.dateFrom,"date-to":s.dateTo});a.csvURL=`/api/data-per-aspect/${window.project_id}/?format=csv&`+new URLSearchParams({sentiment:encodeURIComponent(a.sentiment),"aspect-label":encodeURIComponent(a.aspect),languages:encodeURIComponent(s.languages),sources:s.sources,sourcesID:s.sourcesID,"date-from":s.dateFrom,"date-to":s.dateTo}),a.dataURL=`/api/data-per-aspect/${window.project_id}/?`+new URLSearchParams({sentiment:encodeURIComponent(a.sentiment),"aspect-label":encodeURIComponent(a.aspect),"date-from":s.dateFrom,"date-to":s.dateTo,languages:encodeURIComponent(s.languages),sources:s.sources,sourcesID:s.sourcesID}),yr(l),d(1,a)}}},plotOptions:{bar:{horizontal:!0,borderRadius:6,barHeight:"50"}},stroke:{width:1,colors:["#fff"]},xaxis:{categories:[]},tooltip:{y:{formatter:function(t){return t}}},fill:{opacity:1},legend:{show:!1},colors:[e().positive,e().neutral,e().negative]},n=i(),r=new URLSearchParams({"date-from":n.dateFrom,"date-to":n.dateTo,languages:n.languages,sources:n.sources,sourcesID:n.sourcesID,limit:Tr.value});fetch(`/api/sentiment-per-aspect/${window.project_id}/?`+r).then((t=>t.json())).then((e=>{let n={name:"Positive",data:[]},r={name:"Neutral",data:[]},i={name:"Negative",data:[]},o=[];for(let t of e)n.data.push(t.positiveCount),i.data.push(t.negativeCount),r.data.push(t.neutralCount),o.push(t.aspectLabel);t.series.push(n,r,i),t.xaxis.categories=o,zr.innerHTML="",0!==Object.keys(e).length&&(kr=new ApexCharts(zr,t),kr.render()),a()}))}Tr.addEventListener("change",(t=>{Ar()}));let Er,Rr=document.querySelector("#aspect-by-sentiment-absolute"),Br=document.querySelector("#aspect-by-sentiment-absolute-limit");function Pr(){o(),Cr&&Cr.destroy(),Rr.innerHTML="Loading...";var t={series:[],chart:{type:"bar",height:440,stacked:!0,events:{dataPointSelection:function(t,e,n){let r=n.w.config.xaxis.categories[n.dataPointIndex],o=n.w.config.series[n.seriesIndex].data[n.dataPointIndex],a={};a.sentiment=o>0?"positive":"negative",a.aspect=r;let s=i();document.querySelector("#data-table-modal").style.display="block";let l=`/api/data-per-aspect/${window.project_id}/?format=word-cloud&`+new URLSearchParams({sentiment:encodeURIComponent(a.sentiment),"aspect-label":encodeURIComponent(a.aspect),languages:encodeURIComponent(s.languages),sources:s.sources,sourcesID:s.sourcesID,"date-from":s.dateFrom,"date-to":s.dateTo});a.csvURL=`/api/data-per-aspect/${window.project_id}/?format=csv&`+new URLSearchParams({sentiment:encodeURIComponent(a.sentiment),"aspect-label":encodeURIComponent(a.aspect),languages:encodeURIComponent(s.languages),sources:s.sources,sourcesID:s.sourcesID,"date-from":s.dateFrom,"date-to":s.dateTo}),a.dataURL=`/api/data-per-aspect/${window.project_id}/?`+new URLSearchParams({sentiment:encodeURIComponent(a.sentiment),"aspect-label":encodeURIComponent(a.aspect),"date-from":s.dateFrom,"date-to":s.dateTo,languages:encodeURIComponent(s.languages),sources:s.sources,sourcesID:s.sourcesID}),yr(l),d(1,a)}}},legend:{show:!1},colors:["#28C76F","#EA5455"],plotOptions:{bar:{horizontal:!0,borderRadius:6,barHeight:"50"}},dataLabels:{enabled:!1},stroke:{width:1,colors:["#fff"]},grid:{xaxis:{lines:{show:!1}}},yaxis:{min:-85,max:85,title:{}},tooltip:{shared:!1,x:{formatter:function(t){return t}},y:{formatter:function(t){return Math.abs(t)}}},xaxis:{categories:[],labels:{formatter:function(t){return Math.abs(Math.round(t))}}}};let e=i(),n=new URLSearchParams({"date-from":e.dateFrom,"date-to":e.dateTo,languages:e.languages,sources:e.sources,sourcesID:e.sourcesID,limit:Br.value});fetch(`/api/sentiment-per-aspect/${window.project_id}/?`+n).then((t=>t.json())).then((e=>{let n=[],r=[],i=[],o=0,s=0;for(let t of e)n.push(t.positiveCount),r.push(-t.negativeCount),i.push(t.aspectLabel),t.positiveCount>o&&(o=t.positiveCount),t.negativeCount>s&&(s=t.negativeCount);t.series.push({name:"Positives",data:n}),t.series.push({name:"Negatives",data:r}),t.yaxis.max=o+Math.round(.1*o),t.yaxis.min=-s-Math.round(.1*s),t.xaxis.categories=i,Rr.innerHTML="",0!==Object.keys(e).length&&(Cr=new ApexCharts(Rr,t),Cr.render()),a()}))}Br.addEventListener("change",(t=>{Pr()}));let Nr,Dr=1,Fr=document.querySelector("#sentiment-trend-graph"),jr=window.project_id,Ur=!0;function qr(){if(Ur)Ur=!1,fetch(`/api/aspect-count/${jr}/?order-by=label`).then((t=>t.json())).then((t=>{let e=!0,n=document.querySelector("#aspect-topic-tree-map-aspects");for(let r of t){let t=document.createElement("option");e&&(t.selected=!0,e=!1),t.value=r.aspectLabel,t.innerHTML=r.aspectLabel,n.append(t)}qr()}));else{o(),Nr&&Nr.destroy();let t=i(),e=document.querySelector("#aspect-topic-tree-map-aspects").value,n=document.querySelector("#aspect-topic-tree-map-max-topics").value,r=document.querySelector("#aspect-topic-tree-map-sentiment").value,s=new URLSearchParams({"date-from":t.dateFrom,"date-to":t.dateTo,languages:t.languages,sources:t.sources,sourcesID:t.sourcesID,"aspect-label":encodeURIComponent(e),"max-topics":encodeURIComponent(n),sentiment:r});fetch(`/api/topics-per-aspect/${jr}/?`+s).then((t=>t.json())).then((n=>{let o=[];for(let t of n)o.push({x:t.topicLabel,y:t.topicCount});let s={series:[],legend:{show:!1},chart:{height:480,type:"treemap",events:{dataPointSelection:function(n,o,a){let l=a.w.config.series[0].data[a.dataPointIndex].x;document.querySelector("#data-table-modal").style.display="block",t=i();let c=`/api/data-per-aspect-topic/${window.project_id}/?format=word-cloud&`+new URLSearchParams({"aspect-label":encodeURIComponent(e),"topic-label":encodeURIComponent(l),sentiment:r,"date-from":t.dateFrom,"date-to":t.dateTo,languages:encodeURIComponent(t.languages),sources:t.sources,sourcesID:t.sourcesID});s.csvURL=`/api/data-per-aspect-topic/${window.project_id}/?format=csv&`+new URLSearchParams({"aspect-label":encodeURIComponent(e),"topic-label":encodeURIComponent(l),sentiment:r,"date-from":t.dateFrom,"date-to":t.dateTo,languages:encodeURIComponent(t.languages),sources:t.sources,sourcesID:t.sourcesID}),s.dataURL=`/api/data-per-aspect-topic/${window.project_id}/?`+new URLSearchParams({"aspect-label":encodeURIComponent(e),"topic-label":encodeURIComponent(l),sentiment:r,"date-from":t.dateFrom,"date-to":t.dateTo,languages:encodeURIComponent(t.languages),sources:t.sources,sourcesID:t.sourcesID}),yr(c),d(1,s)}}}};s.series.push({data:o}),0!==Object.keys(n).length&&(Nr=new ApexCharts(document.querySelector("#aspect-topic-tree-map-container"),s),Nr.render()),a()}))}}document.querySelector("#aspect-topic-tree-map-aspects").addEventListener("change",(t=>{qr()})),document.querySelector("#aspect-topic-tree-map-max-topics").addEventListener("change",(t=>{qr()})),document.querySelector("#aspect-topic-tree-map-sentiment").addEventListener("change",(t=>{qr()}));let Or,$r,Hr=document.querySelector("#emotion-aspect-co-occurrence");function Vr(){o(),Or&&Or.destroy(),Hr.innerHTML="Loading...";var t={series:[],chart:{height:480,type:"heatmap"},plotOptions:{heatmap:{shadeIntensity:0,radius:0,colorScale:{ranges:[{from:0,to:20,name:"0-20",color:"#E2E0FB"},{from:20,to:40,name:"20-40",color:"#D4D0FA"},{from:40,to:60,name:"40-60 ",color:"#C6C1F8"},{from:60,to:80,name:"60-80",color:"#968DF3"},{from:80,to:99,name:"80-99",color:"#8075F1"},{from:100,to:100,name:"100",color:"#7367F0"}]}}},dataLabels:{enabled:!1,style:{fontSize:"14px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold"}},legend:{position:"bottom",markers:{width:30}},stroke:{width:1},xaxis:{type:"category",categories:[]}};let e=window.project_id,n="",r=document.querySelector("#emotion-aspect-co-occurrence-max-emotions").value,s=0,l=i(),c=new URLSearchParams({"date-from":l.dateFrom,"date-to":l.dateTo,languages:l.languages,sourcesID:l.sourcesID});fetch(`/api/entity-aspect-for-emotion/${e}/?`+c).then((t=>t.json())).then((e=>{0==Object.keys(e).length&&(document.querySelector("#emotion-aspect-co-occurrence-container").style.display="none",Li(!1));let i=[],o=[];if(0!==Object.keys(e).length){for(let t of e){if(""!=n&&n!=t.entityLabel&&(i.push({name:n,data:o}),o=[],s++,s==r))break;o.push({x:t.aspectLabel,y:(t.aspectCount/t.entityCount*100).toFixed(2)}),n=t.entityLabel}t.series=i,Or=new ApexCharts(Hr,t),Hr.innerHTML="",Or.render()}else Hr.innerHTML="";a()}))}document.querySelector("#emotion-aspect-co-occurrence-max-emotions").addEventListener("change",(()=>{Vr()}));let Xr,Yr=document.querySelector("#source-by-sentiment-graph"),Wr=document.querySelector("#source-by-sentiment-max-sources"),Gr={};function Zr(){o(),$r&&$r.destroy(),Yr.innerHTML="Loading...";let t={series:[],chart:{type:"bar",height:440,stacked:!0,stackType:"100%",events:{dataPointSelection:function(t,e,n){let r=n.w.config.xaxis.categories[n.dataPointIndex],o=n.w.config.series[n.seriesIndex].name,a={};a.sourceID=Gr[r],a.sentiment=o.toLowerCase();let s=i();document.querySelector("#data-table-modal").style.display="block";let l=`/api/new-data/project/${window.project_id}/?format=word-cloud&`+new URLSearchParams({sentiment:encodeURIComponent(a.sentiment),languages:encodeURIComponent(s.languages),sources:s.sources,sourcesID:Gr[r],"date-from":s.dateFrom,"date-to":s.dateTo});a.csvURL=`/api/new-data/project/${window.project_id}/?format=csv&`+new URLSearchParams({"date-from":s.dateFrom,"date-to":s.dateTo,languages:encodeURIComponent(s.languages),sources:encodeURIComponent(s.sources),sourcesID:a.sourceID,sentiment:a.sentiment}),a.dataURL=`/api/new-data/project/${window.project_id}/?`+new URLSearchParams({"date-from":s.dateFrom,"date-to":s.dateTo,languages:encodeURIComponent(s.languages),sources:encodeURIComponent(s.sources),sourcesID:a.sourceID,sentiment:a.sentiment}),yr(l),d(1,a)}}},plotOptions:{bar:{horizontal:!0,borderRadius:6,barHeight:"50"}},stroke:{width:1,colors:["#fff"]},xaxis:{categories:[]},tooltip:{y:{formatter:function(t){return t}}},fill:{opacity:1},legend:{show:!1},colors:[e().positive,e().neutral,e().negative]},n=i(),r=new URLSearchParams({"date-from":n.dateFrom,"date-to":n.dateTo,languages:n.languages,sources:n.sources,sourcesID:n.sourcesID,limit:Wr.value});fetch(`/api/source-by-sentiment/${window.project_id}/?`+r).then((t=>t.json())).then((e=>{let n={name:"Positive",data:[]},r={name:"Neutral",data:[]},i={name:"Negative",data:[]},o=[];for(let t of e)n.data.push(t.positiveCount),i.data.push(t.negativeCount),r.data.push(t.neutralCount),o.push(t.sourceLabel),Gr[t.sourceLabel]=t.sourceID;t.series.push(n,r,i),t.xaxis.categories=o,Yr.innerHTML="",$r=new ApexCharts(Yr,t),$r.render(),a()}))}Wr.addEventListener("change",(t=>{Zr()}));let Qr,Jr=document.querySelector("#entity-by-sentiment"),Kr=document.querySelector("#entity-by-sentiment-limit"),ti={};function ei(){o(),Xr&&Xr.destroy(),Jr.innerHTML="Loading...";let t={series:[],chart:{type:"bar",height:440,stacked:!0,stackType:"100%",events:{dataPointSelection:function(t,e,n){let r=n.w.config.xaxis.categories[n.dataPointIndex],o=n.w.config.series[n.seriesIndex].name,a={};a.entityID=ti[r],a.sentiment=o.toLowerCase();let s=i();document.querySelector("#data-table-modal").style.display="block";let l=`/api/data-per-entity/${window.project_id}/?format=word-cloud&`+new URLSearchParams({sentiment:encodeURIComponent(a.sentiment),languages:encodeURIComponent(s.languages),sources:s.sources,sourcesID:s.sourcesID,"date-from":s.dateFrom,"date-to":s.dateTo,entityID:ti[r]});a.csvURL=`/api/data-per-entity/${window.project_id}/?format=csv&`+new URLSearchParams({"date-from":s.dateFrom,"date-to":s.dateTo,languages:encodeURIComponent(s.languages),sources:encodeURIComponent(s.sources),sourcesID:s.sourcesID,sentiment:a.sentiment,entityID:a.entityID}),a.dataURL=`/api/data-per-entity/${window.project_id}/?`+new URLSearchParams({"date-from":s.dateFrom,"date-to":s.dateTo,languages:encodeURIComponent(s.languages),sources:encodeURIComponent(s.sources),sourcesID:s.sourcesID,sentiment:a.sentiment,entityID:a.entityID}),yr(l),d(1,a)}}},plotOptions:{bar:{horizontal:!0,borderRadius:6,barHeight:"50"}},stroke:{width:1,colors:["#fff"]},xaxis:{categories:[]},tooltip:{y:{formatter:function(t){return t}}},fill:{opacity:1},legend:{show:!1},colors:[e().positive,e().neutral,e().negative]},n=i(),r=new URLSearchParams({"date-from":n.dateFrom,"date-to":n.dateTo,languages:n.languages,sources:n.sources,sourcesID:n.sourcesID,limit:Kr.value});fetch(`/api/entity-by-sentiment/${window.project_id}/?`+r).then((t=>t.json())).then((e=>{let n={name:"Positive",data:[]},r={name:"Neutral",data:[]},i={name:"Negative",data:[]},o=[];for(let t of e)n.data.push(t.positiveCount),i.data.push(t.negativeCount),r.data.push(t.neutralCount),o.push(t.entityLabel),ti[t.entityLabel]=t.entityID;t.series.push(n,r,i),t.xaxis.categories=o,t.chart.height=50*e.length,Jr.innerHTML="",Xr=new ApexCharts(Jr,t),Xr.render(),a()}))}Kr.addEventListener("change",(t=>{ei()}));let ni=document.querySelector("#classification-by-sentiment"),ri=document.querySelector("#classification-by-sentiment-limit"),ii={};function oi(){o(),Qr&&Qr.destroy(),ni.innerHTML="Loading...";let t={series:[],chart:{type:"bar",height:440,stacked:!0,stackType:"100%",events:{dataPointSelection:function(t,e,n){let r=n.w.config.xaxis.categories[n.dataPointIndex],o=n.w.config.series[n.seriesIndex].name,a={};a.classificationID=ii[r],a.sentiment=o.toLowerCase();let s=i();document.querySelector("#data-table-modal").style.display="block";let l=`/api/data-per-classification/${window.project_id}/?format=word-cloud&`+new URLSearchParams({sentiment:encodeURIComponent(a.sentiment),languages:encodeURIComponent(s.languages),sources:s.sources,sourcesID:s.sourcesID,"date-from":s.dateFrom,"date-to":s.dateTo,classificationID:ii[r]});a.csvURL=`/api/data-per-classification/${window.project_id}/?format=csv&`+new URLSearchParams({"date-from":s.dateFrom,"date-to":s.dateTo,languages:encodeURIComponent(s.languages),sources:encodeURIComponent(s.sources),sourcesID:s.sourcesID,sentiment:a.sentiment,classificationID:a.classificationID}),a.dataURL=`/api/data-per-classification/${window.project_id}/?`+new URLSearchParams({"date-from":s.dateFrom,"date-to":s.dateTo,languages:encodeURIComponent(s.languages),sources:encodeURIComponent(s.sources),sourcesID:s.sourcesID,sentiment:a.sentiment,classificationID:a.classificationID}),yr(l),d(1,a)}}},plotOptions:{bar:{horizontal:!0,borderRadius:6,barHeight:"50"}},stroke:{width:1,colors:["#fff"]},xaxis:{categories:[]},tooltip:{y:{formatter:function(t){return t}}},fill:{opacity:1},legend:{show:!1},colors:[e().positive,e().neutral,e().negative]},n=i(),r=new URLSearchParams({"date-from":n.dateFrom,"date-to":n.dateTo,languages:n.languages,sources:n.sources,sourcesID:n.sourcesID,limit:ri.value});fetch(`/api/classification-by-sentiment/${window.project_id}/?`+r).then((t=>t.json())).then((e=>{let n={name:"Positive",data:[]},r={name:"Neutral",data:[]},i={name:"Negative",data:[]},o=[];for(let t of e)n.data.push(t.positiveCount),i.data.push(t.negativeCount),r.data.push(t.neutralCount),o.push(t.classificationLabel),ii[t.classificationLabel]=t.classificationID;t.series.push(n,r,i),t.xaxis.categories=o,ni.innerHTML="",t.chart.height=50*e.length,Qr=new ApexCharts(ni,t),Qr.render(),a()}))}ri.addEventListener("change",(t=>{oi()}));let ai=document.querySelector("#most-common-chunks"),si=document.querySelector("#max-most-common-chunks");function li(){o(),ai.innerHTML="Loading...";let t=i(),e=new URLSearchParams({"date-from":t.dateFrom,"date-to":t.dateTo,languages:t.languages,sources:t.sources,sourcesID:t.sourcesID,limit:si.value});fetch(`/api/most-common-chunks/${window.project_id}/?`+e).then((t=>t.json())).then((t=>{ai.innerHTML="";for(let e of t){let t=document.createElement("button");t.style.margin="1rem",t.disabled=!0,e.positiveCount>e.negativeCount?(t.className="btn btn-success",t.innerHTML=`${e.chunk} <span class="badge badge-light">${e.positiveCount}</span>`):(t.className="btn btn-danger",t.innerHTML=`${e.chunk} <span class="badge badge-light">${e.negativeCount}</span>`),ai.appendChild(t)}a()}))}si.addEventListener("change",(t=>{li()}));let ci=document.getElementById("entity-table-content"),ui=document.getElementById("entity-table-page-size");function hi(t){o(),ci.innerHTML="Loading...";let e=document.getElementById("entity-table-pagination");e.innerHTML="";let n=ui.value,r=i(),s=new URLSearchParams({"date-from":r.dateFrom,"date-to":r.dateTo,languages:r.languages,sources:encodeURIComponent(r.sources),sourcesID:r.sourcesID});document.getElementById("entities-table-csv").href=`/api/entity-classification-count/${window.project_id}/?format=csv&`+s,fetch(`/api/entity-classification-count/${window.project_id}/?page=${t}&page-size=${n}&`+s).then((t=>t.json())).then((t=>{ci.innerHTML="";for(let e of t.data){let t=document.createElement("tr"),n=`\n        <td>\n        <a href="#" class="data-link">${e.entityLabel}</a>\n       </td>\n       <td>\n         ${e.classificationLabel}\n       </td>\n       <td class="text-center">\n        <a class="info-button" style="cursor:pointer;" data-entity-id="${e.entityID}" data-classification-id="${e.classificationID}">${e.count}</a>\n       </td>\n        `;t.innerHTML=n,t.querySelector(".info-button").addEventListener("click",(t=>{let e=t.target.getAttribute("data-entity-id"),n=t.target.getAttribute("data-classification-id");document.querySelector("#data-table-modal").style.display="block",r=i();let o=`/api/data-per-classification-and-entity/${window.project_id}/?format=word-cloud&classification=${n}&entity=${e}&`+new URLSearchParams({"date-from":r.dateFrom,"date-to":r.dateTo,languages:encodeURIComponent(r.languages),sources:encodeURIComponent(r.sources),sourcesID:r.sourcesID}),a={};a.csvURL=`/api/data-per-classification-and-entity/${window.project_id}/?format=csv&`+new URLSearchParams({entity:e,classification:n,"date-from":r.dateFrom,"date-to":r.dateTo,languages:encodeURIComponent(r.languages),sources:encodeURIComponent(r.sources),sourcesID:r.sourcesID}),a.dataURL=`/api/data-per-classification-and-entity/${window.project_id}/?`+new URLSearchParams({entity:e,classification:n,"date-from":r.dateFrom,"date-to":r.dateTo,languages:encodeURIComponent(r.languages),sources:encodeURIComponent(r.sources),sourcesID:r.sourcesID}),yr(o),d(1,a)})),ci.append(t)}let n=t.pageSize*(t.currentPage-1)+1;u(n,n+t.pageSize-1,t.total,t.currentPage,t.totalPages,e,hi),a()}))}function di(t){o(),function(t){fi.innerHTML="Loading...";let e=document.getElementById("aspect-topic-table-pagination"),n=pi.value;e.innerHTML="";let r=i(),o=new URLSearchParams({"date-from":r.dateFrom,"date-to":r.dateTo,languages:r.languages,sources:r.sources,sourcesID:r.sourcesID});document.getElementById("aspect-topic-table-csv").href=`/api/aspect-topic/project/${window.project_id}/?format=csv&`+o,fetch(`/api/aspect-topic/project/${window.project_id}/?page=${t}&page-size=${n}&`+o).then((t=>t.json())).then((t=>{fi.innerHTML="";for(let e of t.data){let t=document.createElement("tr"),n=`\n            <td>\n            <a href="#" class="data-link">${e.topicLabel}</a>\n           </td>\n           <td>\n             ${e.aspectLabel}\n           </td>\n           <td class="text-center">\n            <a style="cursor:pointer" class="info-button green" data-aspect="${e.aspectLabel}" data-topic="${e.topicLabel}" data-sentiment="positive">${e.positivesCount}</a>\n           </td>\n           <td class="text-center">\n            <a style="cursor:pointer" class="info-button red" data-aspect="${e.aspectLabel}" data-topic="${e.topicLabel}" data-sentiment="negative">${e.negativesCount}</a>\n           </td>\n            `;t.innerHTML=n,fi.append(t)}let n=fi.querySelectorAll("a[data-topic]");for(let t of n)t.addEventListener("click",(t=>{let e=t.target.getAttribute("data-aspect"),n=t.target.getAttribute("data-topic"),r=t.target.getAttribute("data-sentiment");document.querySelector("#data-table-modal").style.display="block";let o=i(),a=`/api/data-per-aspect-topic/${window.project_id}/?format=word-cloud&`+new URLSearchParams({"aspect-label":encodeURIComponent(e),"topic-label":encodeURIComponent(n),sentiment:r,"date-from":o.dateFrom,"date-to":o.dateTo,languages:encodeURIComponent(o.languages),sources:encodeURIComponent(o.sources),sourcesID:o.sourcesID}),s={};s.csvURL=`/api/data-per-aspect-topic/${window.project_id}/?format=csv&`+new URLSearchParams({"aspect-label":encodeURIComponent(e),"topic-label":encodeURIComponent(n),sentiment:r,"date-from":o.dateFrom,"date-to":o.dateTo,languages:encodeURIComponent(o.languages),sources:encodeURIComponent(o.sources),sourcesID:o.sourcesID}),s.dataURL=`/api/data-per-aspect-topic/${window.project_id}/?`+new URLSearchParams({"aspect-label":encodeURIComponent(e),"topic-label":encodeURIComponent(n),sentiment:r,"date-from":o.dateFrom,"date-to":o.dateTo,languages:encodeURIComponent(o.languages),sources:encodeURIComponent(o.sources),sourcesID:o.sourcesID}),yr(a),d(1,s)}));let r=t.pageSize*(t.currentPage-1)+1;u(r,r+t.pageSize-1,t.total,t.currentPage,t.totalPages,e,di),a()}))}(t)}ui.addEventListener("change",(()=>{hi(1)}));let pi=document.querySelector("#aspect-topic-table-page-size"),fi=document.getElementById("aspect-topic-table-content");pi.addEventListener("change",(()=>{di(1)}));let mi=document.getElementById("top-entities-per-aspect-table-content"),gi=!0,yi="",vi=document.querySelector("#top-entities-per-aspect-table-aspect"),_i=document.querySelector("#top-entities-per-aspect-table-page-size");function xi(t){if(gi){o();let e=i(),n=new URLSearchParams({"date-from":e.dateFrom,"date-to":e.dateTo,languages:e.languages,sources:encodeURIComponent(e.sources),sourcesID:e.sourcesID,"order-by":"label"});fetch(`/api/aspect-count/${window.project_id}/?`+n).then((t=>t.json())).then((e=>{let n=!0;for(let t of e){let e=document.createElement("option");e.value=t.aspectLabel,e.innerHTML=t.aspectLabel,vi.append(e),n&&(yi=t.aspectLabel,n=!1,e.selected=!0)}xi(t)})),a(),gi=!1}else{o(),yi=vi.value,mi.innerHTML="Loading...";let e=document.getElementById("top-entities-per-aspect-table-pagination");e.innerHTML="";let n=_i.value,r=i(),s=new URLSearchParams({"date-from":r.dateFrom,"date-to":r.dateTo,languages:r.languages,sources:r.sources,"aspect-label":yi});document.getElementById("top-entities-per-aspect-table-csv").href=`/api/entity-classification-count/${window.project_id}/?format=csv&aspect-label${yi}&`+s,fetch(`/api/entity-classification-count/${window.project_id}/?page=${t}&page-size=${n}&`+s).then((t=>t.json())).then((t=>{mi.innerHTML="";for(let e of t.data){let t=document.createElement("tr"),n=`\n            <td>\n            <a href="#" class="data-link">${e.entityLabel}</a>\n           </td>\n           <td>\n             ${e.classificationLabel}\n           </td>\n           <td class="text-center">\n            <a class="info-button" style="cursor:pointer;" data-entity-id="${e.entityID}" data-classification-id="${e.classificationID}">${e.count}</a>\n           </td>\n            `;t.innerHTML=n,t.querySelector(".info-button").addEventListener("click",(t=>{let e=t.target.getAttribute("data-entity-id"),n=t.target.getAttribute("data-classification-id");document.querySelector("#data-table-modal").style.display="block";let r=i(),o=document.querySelector("#top-entities-per-aspect-table-aspect").value,a=`/api/data-per-classification-and-entity/${window.project_id}/?format=word-cloud&classification=${n}&entity=${e}&aspect-label=${o}&`+new URLSearchParams({"date-from":r.dateFrom,"date-to":r.dateTo,languages:encodeURIComponent(r.languages),sources:encodeURIComponent(r.sources),sourcesID:r.sourcesID}),s={};s.csvURL=`/api/data-per-classification-and-entity/${window.project_id}/?format=csv&`+new URLSearchParams({"aspect-label":o,entity:e,classification:n,"date-from":r.dateFrom,"date-to":r.dateTo,languages:encodeURIComponent(r.languages),sources:encodeURIComponent(r.sources),sourcesID:r.sourcesID}),s.dataURL=`/api/data-per-classification-and-entity/${window.project_id}/?`+new URLSearchParams({"aspect-label":o,entity:e,classification:n,"date-from":r.dateFrom,"date-to":r.dateTo,languages:encodeURIComponent(r.languages),sources:encodeURIComponent(r.sources),sourcesID:r.sourcesID}),yr(a),d(1,s)})),mi.append(t)}let n=t.pageSize*(t.currentPage-1)+1;u(n,n+t.pageSize-1,t.total,t.currentPage,t.totalPages,e,xi),a()}))}}vi.addEventListener("change",(()=>{xi(1)})),_i.addEventListener("change",(()=>{xi(1)})),n(129);let bi,wi="overview-tab";window.geo_enabled&&(wi="geo-tab");let ki=!0,Ci=!0,Ii=2,Mi=document.querySelector("#tab-loading"),Si=!0;function Li(t){Si=t}function zi(){ki&&(Ar(),Pr(),qr(),function(){o(),wr&&wr.destroy(),document.querySelector("#aspect-count-graphs").innerHTML="Loading...";let t=i(),n=new URLSearchParams({"date-from":t.dateFrom,"date-to":t.dateTo,languages:t.languages,sources:t.sources,sourcesID:t.sourcesID}),r=window.project_id;fetch(`/api/aspect-count/${r}/?`+n).then((t=>t.json())).then((n=>{let r=0;for(let t of n)r+=t.aspectCount;let i=[],o=[],s=0;for(let t of n)i.push(t.aspectCount),o.push(t.aspectLabel),t.aspectCount>s&&(s=t.aspectCount);let l={series:[],chart:{type:"bar",height:440,stacked:!0,events:{dataPointSelection:function(e,n,r){let i=r.w.config.xaxis.categories[r.dataPointIndex],o={};document.querySelector("#data-table-modal").style.display="block",o.aspectLabel=i;let a=`/api/data-per-aspect/${window.project_id}/?format=word-cloud&`+new URLSearchParams({"date-from":t.dateFrom,"date-to":t.dateTo,"aspect-label":encodeURIComponent(o.aspectLabel),languages:encodeURIComponent(t.languages),sources:encodeURIComponent(t.sources),sourcesID:t.sourcesID});o.csvURL=`/api/data-per-aspect/${window.project_id}/?format=csv&`+new URLSearchParams({"date-from":t.dateFrom,"date-to":t.dateTo,"aspect-label":encodeURIComponent(o.aspectLabel),languages:encodeURIComponent(t.languages),sources:encodeURIComponent(t.sources),sourcesID:t.sourcesID}),o.dataURL=`/api/data-per-aspect/${window.project_id}/?`+new URLSearchParams({"aspect-label":encodeURIComponent(o.aspectLabel),"date-from":t.dateFrom,"date-to":t.dateTo,languages:encodeURIComponent(t.languages),sources:encodeURIComponent(t.sources),sourcesID:t.sourcesID}),yr(a),d(1,o)}}},legend:{show:!1},colors:[e().neutral],plotOptions:{bar:{horizontal:!0,borderRadius:6,barHeight:"50"}},dataLabels:{enabled:!1},stroke:{width:1,colors:["#fff"]},grid:{xaxis:{lines:{show:!1}}},yaxis:{min:-85,max:85,title:{}},tooltip:{shared:!1,x:{formatter:function(t){return t}},y:{formatter:function(t){return Math.abs(t)}}},xaxis:{categories:[],labels:{formatter:function(t){return Math.abs(Math.round(t))}}}};l.series.push({name:"Count",data:i}),l.yaxis={},l.yaxis.max=s+Math.round(.1*s),l.xaxis={},l.xaxis.categories=o,Sr.innerHTML="",l.chart.height=40*n.length,l.chart.height<100&&(l.chart.height=100),0!==Object.keys(n).length&&(wr=new ApexCharts(Sr,l),wr.render()),a()}))}(),Vr(),function(){o(),Lr.innerHTML="Loading...";var t={series:[],chart:{height:480,type:"heatmap"},plotOptions:{heatmap:{shadeIntensity:.5,radius:0,colorScale:{ranges:[{from:0,to:20,name:"0-20",color:"#E2E0FB"},{from:20,to:40,name:"20-40",color:"#D4D0FA"},{from:40,to:60,name:"40-60 ",color:"#C6C1F8"},{from:60,to:80,name:"60-80",color:"#968DF3"},{from:80,to:99,name:"80-99",color:"#8075F1"},{from:100,to:100,name:"100",color:"#7367F0"}]}}},dataLabels:{enabled:!1,style:{fontSize:"14px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold"}},legend:{position:"bottom",markers:{width:30}},stroke:{width:1},xaxis:{type:"category",categories:[]}};let e=window.project_id,n=i();fetch(`/api/co-occurence/${e}/?`+new URLSearchParams({languages:encodeURIComponent(n.languages),sources:n.sources,sourcesID:n.sourcesID,"date-from":n.dateFrom,"date-to":n.dateTo})).then((t=>t.json())).then((e=>{t.series=e,Lr.innerHTML="",0!==Object.keys(e).length&&(t.chart.height=50*e.length,t.chart.height<300&&(t.chart.height=300),new ApexCharts(Lr,t).render()),a()}))}(),li()),Ci&&(ei(),oi()),function(){o();let t=i(),n=new URLSearchParams({"date-from":t.dateFrom,"date-to":t.dateTo,languages:encodeURIComponent(t.languages),sources:encodeURIComponent(t.sources),sourcesId:t.sourcesId});vr&&vr.destroy(),xr.innerHTML="Loading...",fetch(`/api/project-overview/${br}/?`+n).then((t=>t.json())).then((t=>{xr.innerHTML="",function(t){var n={colors:[e().positive,e().negative,e().neutral],chart:{height:250,type:"donut",events:{dataPointSelection:function(t,e,n){let r=n.w.config.labels[n.dataPointIndex].toLowerCase(),o={};o.sentiment=r;let a=i();document.querySelector("#data-table-modal").style.display="block",yr(`/api/new-data/project/${window.project_id}/?format=word-cloud&`+new URLSearchParams({"date-from":a.dateFrom,"date-to":a.dateTo,sentiment:encodeURIComponent(o.sentiment),languages:encodeURIComponent(a.languages),sources:encodeURIComponent(a.sources),sourcesID:a.sourcesID})),o.csvURL=`/api/new-data/project/${window.project_id}/?format=csv&`+new URLSearchParams({"date-from":a.dateFrom,"date-to":a.dateTo,sentiment:encodeURIComponent(o.sentiment),languages:encodeURIComponent(a.languages),sources:encodeURIComponent(a.sources),sourcesID:a.sourcesID}),o.dataURL=`/api/new-data/project/${window.project_id}/?`+new URLSearchParams({sentiment:encodeURIComponent(o.sentiment),"date-from":a.dateFrom,"date-to":a.dateTo,languages:encodeURIComponent(a.languages),sources:encodeURIComponent(a.sources),sourcesID:a.sourcesID}),d(1,o)}}},dataLabels:{enabled:!1},legend:{position:"left"},plotOptions:{pie:{donut:{labels:{show:!0,total:{showAlways:!0,show:!0}}}},radialBar:{hollow:{size:"60%"}}},labels:["Positive","Negative","Neutral"]};n.series=[t.positivesCount,t.negativesCount,t.neutralsCount],vr=new ApexCharts(xr,n),vr.render()}(t),function(t){let e=document.getElementById("aspect-count"),n=document.getElementById("source-count");e.innerHTML=t.aspectCount,n.innerHTML=t.sourceCount,t.aspectCount>1?document.querySelector("#overall-sentiment-different-aspects").innerHTML="Different Aspects":document.querySelector("#overall-sentiment-different-aspects").innerHTML="Different Aspect",t.sourceCount>1?document.querySelector("#overall-sentiment-different-sources").innerHTML="Different Sources":document.querySelector("#overall-sentiment-different-sources").innerHTML="Different Source"}(t),a()}))}(),function(){o(),Er&&Er.destroy(),Fr.innerHTML="Loading...",document.getElementById("sentiment-trend-total").innerHTML=0,document.getElementById("sentiment-trend-total-positives").innerHTML=0,document.getElementById("sentiment-trend-total-negatives").innerHTML=0;var t=window.project_id;let e=i(),n=new URLSearchParams({"date-from":e.dateFrom,"date-to":e.dateTo,languages:e.languages,sources:e.sources,sourcesID:e.sourcesID,default:Dr});fetch(`/api/sentiment-trend/${t}/?`+n).then((t=>t.json())).then((t=>{Dr=0;let e={series:[],colors:["#28C76F","#EA5455"],chart:{height:320,type:1===t.length?"scatter":"line",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},legend:{show:!1},xaxis:{categories:[]},tooltip:{x:{format:"MM/yyyy"}}},n=[],r=[],i=[],o=0,s=0;if(0!==Object.keys(t).length){for(let e of t)o+=e.positivesCount,s+=e.negativesCount,n.push(o),r.push(s),i.push(e.date);e.series.push({name:"Positives",data:n},{name:"Negatives",data:r}),e.xaxis.categories=i,document.getElementById("sentiment-trend-total").innerHTML=o+s,document.getElementById("sentiment-trend-total-positives").innerHTML=o,document.getElementById("sentiment-trend-total-negatives").innerHTML=s,Fr.innerHTML="",Er=new ApexCharts(Fr,e),Er.render()}else Fr.innerHTML="";a()}))}(),function(){o(),_r&&_r.destroy(),Ir.innerHTML="Loading...";var t={series:[],colors:[e().neutral],chart:{type:"bar",height:320,events:{dataPointSelection:function(t,e,n){let i=n.w.config.xaxis.categories[n.dataPointIndex],o={};o.sourceID=Mr[i];let a=`/api/new-data/project/${window.project_id}/?format=word-cloud&`+new URLSearchParams({sentiment:encodeURIComponent(o.sentiment),languages:encodeURIComponent(r.languages),sources:r.sources,sourcesID:o.sourceID,"date-from":r.dateFrom,"date-to":r.dateTo});o.csvURL=`/api/new-data/project/${window.project_id}/?format=csv&`+new URLSearchParams({"date-from":r.dateFrom,"date-to":r.dateTo,languages:encodeURIComponent(r.languages),sources:encodeURIComponent(r.sources),sourcesID:o.sourceID,sentiment:o.sentiment}),o.dataURL=`/api/new-data/project/${window.project_id}/?`+new URLSearchParams({"date-from":r.dateFrom,"date-to":r.dateTo,languages:encodeURIComponent(r.languages),sources:encodeURIComponent(r.sources),sourcesID:o.sourceID,sentiment:o.sentiment}),yr(a),document.querySelector("#data-table-modal").style.display="block",d(1,o)}}},plotOptions:{bar:{borderRadius:6,horizontal:!0,barHeight:"24"}},dataLabels:{enabled:!1},xaxis:{categories:[]}};let n=window.project_id,r=i(),s=new URLSearchParams({"date-from":r.dateFrom,"date-to":r.dateTo,languages:r.languages,sourcesID:r.sourcesID});fetch(`/api/volume-by-source/${n}/?`+s).then((t=>t.json())).then((e=>{let n=[],r=[];for(let t of e)n.push(t.sourceCount),r.push(t.sourceName),Mr[t.sourceName]=t.sourceID;t.series.push({data:n}),t.xaxis.categories=r,Ir.innerHTML="",_r=new ApexCharts(Ir,t),_r.render(),a()}))}(),Zr()}function Ti(){setTimeout(Ai,3e3)}function Ai(){s()?(ki&&di(1),Ci&&hi(1),Ci&&ki&&xi(1),zi()):(bi&&clearTimeout(bi),bi=setTimeout(Ai,1e3))}Ai(),document.getElementById("date-from").addEventListener("change",(t=>{Ti()})),document.getElementById("date-to").addEventListener("change",(t=>{Ti()}));let Ei=document.querySelectorAll("#dropdown-languages .choose input");for(let t of Ei)t.addEventListener("change",(t=>{Ti()}));let Ri=document.querySelectorAll("#dropdown-sources .choose input");for(let t of Ri)t.addEventListener("change",(t=>{Ti()}));function Bi(){switch(document.querySelectorAll("[data-role='graph-table-container']").forEach((t=>{t.style.display="none"})),document.querySelectorAll(".project-menu ul li a").forEach((t=>{t.className=""})),wi){case"overview-tab":c("overall-sentiment"),c("sentiment-trend"),"true"==document.querySelector("#most-common-chunks-graph").getAttribute("data-show")&&c("most-common-chunks"),c("volume-by-source"),c("source-by-sentiment");break;case"aspect-tab":c("aspect-count"),c("aspect-by-sentiment-percentage"),c("aspect-by-sentiment-absolute"),c("aspect-co-occurrence"),c("aspect-topic"),c("aspect-topic-tree-map"),Si&&c("emotion-aspect-co-occurrence");break;case"entity-tab":c("entities-table"),Ci&&ki&&c("top-entities-per-aspect-table"),c("entity-by-sentiment"),c("classification-by-sentiment");break;case"geo-tab":c("map"),c("most-recent-bullying-table"),c("today-bullying-numbers"),c("region-bullying-table"),c("school-bullying-table"),c("active-bullying-graph"),c("time-bullying-graph"),c("gender-bullying-graph"),c("school-bullying-trend"),c("map")}!function(t){document.querySelector(`#${t}`).className="active"}(wi)}document.querySelectorAll(".check-all").forEach((t=>{t.addEventListener("click",(t=>{t.target.parentNode.parentNode.querySelectorAll("input").forEach((t=>{t.checked=!0})),Ti()}))})),document.querySelectorAll(".uncheck-all").forEach((t=>{t.addEventListener("click",(t=>{t.target.parentNode.parentNode.querySelectorAll("input").forEach((t=>{t.checked=!1})),Ti()}))})),Bi(),document.querySelector("#overview-tab").addEventListener("click",(t=>{wi="overview-tab",Bi()})),document.getElementById("geo-tab")&&document.getElementById("geo-tab").addEventListener("click",(t=>{wi="geo-tab",Bi()})),fetch(`/api/aspect-count/${window.project_id}/`).then((t=>t.json())).then((t=>{let e=document.querySelector("#li-aspect-tab");Ii--,0==Ii&&(Mi.innerHTML=""),0!=t.length?(e.innerHTML='<a style="cursor:pointer;" id="aspect-tab">Aspects</a>',document.querySelector("#aspect-tab").addEventListener("click",(t=>{wi="aspect-tab",Bi()}))):(e.style.display="none",ki=!1)})),fetch(`/api/entity-by-sentiment/${window.project_id}/`).then((t=>t.json())).then((t=>{let e=document.querySelector("#li-entity-tab");Ii--,0==Ii&&(Mi.innerHTML=""),0!=t.length?(e.innerHTML='<a style="cursor:pointer;" id="entity-tab">Entity</a>',document.querySelector("#entity-tab").addEventListener("click",(t=>{wi="entity-tab",Bi()}))):(e.style.display="none",Ci=!1)})),document.querySelector("#show-word-cloud-modal").addEventListener("click",(t=>{document.querySelector("#word-cloud-modal").style.display="block"})),document.querySelector("#close-word-cloud-modal").addEventListener("click",(t=>{document.querySelector("#word-cloud-modal").style.display="none"}))}()}();